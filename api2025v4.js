/**
 * Copyright 2025 Medallia Inc.
 * https://www.medallia.com/
 */
window._da_=window._da_||[];_da_['jsVersion']=1738239582;_da_["da_websiteId"] = 2487866;_da_["returnVisit"] = false;_da_["accountNumber"] = 14201;_da_["da_dnsRecord"] = "collection.decibelinsight.net";_da_["intPreScripts"] = function(){};_da_["intScripts"] = function(){try{// List of events which need to check at DXA level
var medalliaEventsArr = ["MDigital_Form_Close_No_Submit","MDigital_Form_Next_Page","MDigital_Form_Back_Page","MDigital_ThankYou_Close","MDigital_Form_Close_Submitted","MDigital_ThankYou_Displayed","MDigital_Submit_Feedback","MDigital_CaptureButton_Taken","MDigital_Invite_Declined","MDigital_Feedback_Button_Clicked","MDigital_Form_Displayed"];
var medalliaEventConfig = "surveyEngagement";

// Update DF that DXA is ready
if (typeof KAMPYLE_ONSITE_SDK !== 'undefined' && typeof KAMPYLE_ONSITE_SDK.collectIntegrationData !== 'undefined' ) { 
KAMPYLE_ONSITE_SDK.collectIntegrationData("decibelInsight");
}
		
// Send Integration data to DXA
function sendIntegrationData(eventType, detail) {
try {
var m_nps;
var m_fields = [];
if (detail.Content) {
for (var i = 0; i < detail.Content.length; i++) {
var name = detail.Content[i].unique_name ? detail.Content[i].unique_name : "";
var value = detail.Content[i].value ? detail.Content[i].value : "";
var type = detail.Content[i].type ? detail.Content[i].type : "";
if (detail.Content[i].type === "nps") {
m_nps = detail.Content[i].value;
}
if (detail.Content[i].type === "radio" || detail.Content[i].type === "select") {
if (detail.Content[i].value == null) {
value = "";
} else {
value = detail.Content[i].value.label ? detail.Content[i].value.label : "";
}
}
if (detail.Content[i].type === "checkbox") {
for (var j = 0; j < detail.Content[i].value.length; j++) {
value = detail.Content[i].value[j].label ? detail.Content[i].value[j].label : "";
m_fields.push({
name: name,
value: value,
type: type
});
}
} else {
m_fields.push({
name: name,
value: value,
type: type
});
}
}
}
var m_ContextData = {
event: eventType && eventType != null && isNaN(eventType) ? eventType.toString() : "",
formId: isNaN(detail.Form_ID) ? 99999 : parseInt(detail.Form_ID) || 99999,
formType: detail.Form_Type && detail.Form_Type != null && isNaN(detail.Form_Type) ? detail.Form_Type.toString() : "",
feedbackUuid: detail.Feedback_UUID && detail.Feedback_UUID != null && isNaN(detail.Feedback_UUID) ? detail.Feedback_UUID.toString() : "",
nps: isNaN(m_nps) ? 99999 : parseInt(m_nps) || 99999,
formFields: m_fields
};
if (m_ContextData.feedbackUuid !== "" && m_ContextData.formId !== 99999) {               
decibelInsight("sendIntegrationData", "Medallia", m_ContextData);
}
} catch (exception) { 
}
}
(function() {
    // Lista de padrões de URL para capturar apenas APIs relevantes
    const apiRegexList = [
        /\/api\//,            // URLs que contêm "/api/"
        /\/v\d+\/endpoint/,   // URLs do tipo "/v1/endpoint", "/v2/..."
        /\/services\/.*/,     // URLs que começam com "/services/"
        /\/graphql/,          // GraphQL APIs
        /^https:\/\/api\.meusite\.com/,  // APIs específicas do domínio
    ];

    // Função para verificar se uma URL deve ser capturada
    function isRelevantAPI(url) {
        return apiRegexList.some(regex => regex.test(url));
    }

    // Interceptando XMLHttpRequest
    const originalXHR = window.XMLHttpRequest;
    window.XMLHttpRequest = function() {
        const xhr = new originalXHR();
        let requestUrl = '';

        xhr.open = function(method, url, async, user, password) {
            requestUrl = url;
            return originalXHR.prototype.open.apply(this, arguments);
        };

        xhr.addEventListener("readystatechange", function() {
            if (xhr.readyState === 4 && isRelevantAPI(requestUrl)) { // Apenas APIs filtradas
                let statusCode = xhr.status;

                // Envia evento para o DXA
                decibelInsight("sendTrackedEvent", `${statusCode} - API`);
            }
        });

        return xhr;
    };

    // Interceptando Fetch API
    const originalFetch = window.fetch;
    window.fetch = function(input, init) {
        const requestUrl = (typeof input === 'string') ? input : input.url;

        // Verifica se a URL é de uma API relevante
        if (!isRelevantAPI(requestUrl)) {
            return originalFetch(input, init);
        }

        return originalFetch(input, init)
            .then(response => {
                const statusCode = response.status;

                // Envia evento para o DXA apenas se for API relevante
                decibelInsight("sendTrackedEvent", `${statusCode} - API`);

                return response;
            });
    };
})();

		
// Call back function call by DF
window.dxa_digital_integration = function(eventType, detail) {    
try {

// Ignore if event is out of required events
if (medalliaEventsArr.indexOf(eventType) === -1) {
return;
}

if (medalliaEventConfig === "surveyEngagement" || (medalliaEventConfig === "surveySubmission" && eventType.toString() === "MDigital_Submit_Feedback")) {
// TODO: this window level check not needed if implemented in di.js directly
if (!window.dxa_digital_set_retention_done) {
decibelInsight("setRetention");
window.dxa_digital_set_retention_done = true;
}
}

// TODO: unwrap this function
decibelInsight("onPageCollected", function() {
decibelInsight("sendTrackedEvent", eventType);
sendIntegrationData(eventType, detail);
}, true);
} catch (exception) {
} 
}

for (var i = 0; i < medalliaEventsArr.length; i++) {
var m_Event = medalliaEventsArr[i];
window.addEventListener(m_Event, function (mdEvent) { 
if (window.dxa_digital_listener_disabled) {
return;
} else {
// pass information to call back function
dxa_digital_integration(mdEvent.type, mdEvent.detail);
}});
}}catch(e){window[window.DecibelInsight].warn('DecibelInsight: Configuration error in Integration Tag.', e.toString()); if (window[window.DecibelInsight].handleException) window[window.DecibelInsight].handleException('Integration', e, 'CONFIG');}try{(function(){if(window.decibelInsight&&window.gtag){

}
var b=0,
alreadyTracked = (((window._da_.int_state || '').indexOf('ga4:1') !== -1) || (window.sessionStorage && +window.sessionStorage.di_ga4_tracked === 1)),
a=function(){
if(window.decibelInsight&&window.gtag){
window.decibelInsight('onHTMLCollected',function(){
gtag('event','decibel session', {
'decibel_session_id': decibelInsight.getSessionId()
});
window.sessionStorage && (window.sessionStorage.di_ga4_tracked = 1);
});
}else{
(30>++b)&&setTimeout(a,500);
}
};
!alreadyTracked && a();})();}catch(e){window[window.DecibelInsight].warn('DecibelInsight: Configuration error in Integration Tag.', e.toString()); if (window[window.DecibelInsight].handleException) window[window.DecibelInsight].handleException('Integration', e, 'CONFIG');}};_da_["formTitleCallback"] = _da_["formTitleCallback"] || function(form){try{if(!this.isEmpty(form.getAttribute('data-di-form-id'))){return form.getAttribute('data-di-form-id');}else if(!this.isEmpty(form.getAttribute('name'))){return form.getAttribute('name');}else if(!this.isEmpty(form.getAttribute('id'))){return form.getAttribute('id');}
return'';}catch(e){ if (window[window.DecibelInsight].handleException) window[window.DecibelInsight].handleException('formTitleCallback', e, 'CONFIG'); window[window.DecibelInsight].warn('DecibelInsight: Configuration error in formTitleCallback. ', e.toString());return '';}};_da_["fieldTitleCallback"] = _da_["fieldTitleCallback"] || function(field){try{if(field.parentNode&&field.parentNode.nodeName.toUpperCase()==='LABEL'){return this.Sizzle.getText(field.parentNode);}
if(!this.isEmpty(field.id)){var labelList=this.Sizzle('label[for="'+field.id+'"]');if(labelList.length){return this.Sizzle.getText(labelList[0]);}}
if(!this.isEmpty(field.getAttribute('data-di-field-id'))){return field.getAttribute('data-di-field-id');}
if(!this.isEmpty(field.id)){return field.id;}
return field.name;}catch(e){ if (window[window.DecibelInsight].handleException) window[window.DecibelInsight].handleException('fieldTitleCallback', e, 'CONFIG'); window[window.DecibelInsight].warn('DecibelInsight: Configuration error in fieldTitleCallback. ', e.toString());return '';}};/*!
 * Copyright Medallia Inc.
 * https://www.medallia.com
 *
 */
/*!
 * Diff Match and Patch
 * Copyright Google Inc.
 * http://code.google.com/p/google-diff-match-patch/
 * Licensed under the Apache License, Version 2.0 (the "License");
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 */(()=>{var l=window,u=document,M=navigator,o=document.location,g=Math,L=l.MutationObserver||l.WebKitMutationObserver||l.MozMutationObserver,j=Array.prototype.slice,U=Array.prototype.push;function p(e){return null!==e&&"object"==typeof e}function h(e){return"function"==typeof e}function H(){var e=window.navigator;return/(Android|iPad|iPod|iPhone)/i.test(e.userAgent)}Array.prototype.indexOf;var v,c={ver:"8.2.3",dataVer:1,branch:"Shoreditch",cdn:"collection.decibelinsight.net",app:"portal.decibel.com",proxy:"proxy.decibelinsight.net",proxyStyle:"_di_standard_",qa:u.createElement("a"),hasStor:(()=>{try{return p(l.sessionStorage)&&h(l.sessionStorage.getItem)&&p(l.localStorage)&&h(l.localStorage.getItem)}catch(e){return!1}})(),isAC:(e=window.navigator,/Android/i.test(e.userAgent)&&/Chrome\/[0-9]/i.test(e.userAgent)),isFF:/Firefox\/[0-9]/i.test(M.userAgent),isMac:/mac/i.test(M.platform),isMob:H(),isIE9:!(!(e=window.document).documentMode||9!==e.documentMode),isSa:(e=window.navigator).vendor&&0===e.vendor.indexOf("Apple")&&/Safari\/[0-9]/i.test(e.userAgent),dAR:null,igQH:!0,pES:(()=>{var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e})(),hasSoc:"function"==typeof WebSocket,xhrTO:H()?3e4:1e4,jEList:{GenericError:0,Error:1,InternalError:2,RangeError:3,ReferenceError:4,SyntaxError:5,TypeError:6,URIError:7,Warning:8,EvalError:9,SecurityError:10,DOMException:11},hashingThreshold:Math.pow(2,13)},V=["sendApplicationError","sendCustomDimension","sendGoal","sendTrackedEvent","sendHTTPError","sendIntegrationData","sendPageGroup","setFavorite","setFavourite"],B=V.concat(["_hm","activateDXAWidget","activateHeatmap","addClickEvents","addEvent","ajax","bindGoalEvents","canCollect","clearCookies","closest","dataRetention","enableRealTime","endSession","extend","forIn","formSubmitted","getAttribute","getCookie","getDIDOMId","getInteractionModuleField","getLeadId","getLS","getNodeName","getObserverState","getPageTime","getPageUrl","getQualifiedSelector","getRecordingState","getSessionId","getSS","getStyle","getTabId","getXPath","handleException","hash","hasKey","height","inArray","indexElements","indexForms","indexScrollable","isArray","isCollecting","isDIDOM","isDomainValid","isEmpty","isEmptyObject","isFunction","isInSample","isNode","isNumber","isObject","isObjectNoProp","isObjectWithProp","isRealTimeEnabled","isString","isUndefined","offset","onCollectionChange","onHTMLCollected","onPageCollected","onRealTimeEnabled","parents","pauseRecording","proxy","ready","restartSession","resumeRecording","scrollLeft","scrollTop","selectPageviewForAnalysis","selectSessionForAnalysis","selectSessionForExperience","selectSessionForReplay","setCollection","setSamplingFromNative","setEnterpriseProxy","setFrameRate","setHtmlResSelector","setInteractionModuleField","setIntStatus","setLS","setPageRole","setRetention","setSS","siblings","startObserver","startSession","stopObserver","tabReady","trackCanvas","trackPageView","trim","trimnlb","updateLead","updateLeadScore","updateUserId","version","warn","width"]),q=l._da_;function f(e){return null==e||""===e}function d(e,t,i,r,s,n){void 0===n&&(n=""),f(e)||f(t)||(e.di_events=e.di_events||{},n=t+(n||i.toString()),e.di_events[n])||(e.addEventListener(t,function(e){i.call(r,e)},!(!c.pES||!s)&&{passive:!0}),e.di_events[n]=!0)}var m,y,S={attrSel:/\[\s*class\s*\$=/,boolFalse:/^(false|0)$/i,boolTrue:/^(true|1)$/i,bot:/(sp[iy]der|[a-z\/_]bot|crawler|slurp|teoma)/i,canvasCss:/(^|\s+|>|,|}|{)\bcanvas\b/gi,cc:/\b(\d{4}([\s-]?)\d{4}\2\d{4}\2(?:(?:\d{4}\2\d{3})|(?:\d{2,4})))\b/g,comment:/<!--(.|[\r\n])*?-->/gi,commentFrag:/(<!--|-->)/gi,css:/\.css$/i,cssComment:/\/\*(.|[\r\n])*?\*\//gi,cssUrl:/url[\s]*\([\s]*(['"]?)(.*?)(\1)[\s]*\)/g,cssEscaped:/(\\([0-9a-fA-F]{6}))|(\\([0-9a-fA-F]+)(\s+|(?=[^0-9a-fA-F])))/g,da:/^da_/,diTest:/\/i\/([0-9]+\/)?[0-9]+\/di\.js$/i,dU:/^data:[a-zA-Z]{2,6}\/([a-zA-Z]{2,4})(\+[a-zA-Z]{2,4})?;base64/,dWidthHeight:/device-(width|height)[\s]*:/gi,email:/(^|[>\s({\[\|,;:"'])([a-z0-9][a-z0-9._-]{0,30}@[a-z0-9-]{1,30}\.+[a-z0-9]{2,5})/gi,eProt:/^\/\//,erTest:/^Script error\.?$/i,escape:/["\\\x00-\x1f\x7f-\x9f]/g,fSel:/(name="|field-id=")/,hasProt:/^[a-z]+:/i,hrefC:/^javascript: ?(void|;)/i,hUrlFix:/^.+?(\.app\/|\/files\/)/,hAssetFix:/^file:\/\/\/(.+?\.app\/|(android_asset\/)|(android_res\/))/,hoverQueryFix:/(\(| )hover(\s*)\.di-hover/gi,idFix:/(:|\.|\[|\]|,|\{|\})/g,iframeCss:/(^|\s+|>|,|}|{)\biframe\b/gi,igQH:/[\?#].*$/,importIgnore:/@import [^;]+;/gi,importUrl:/@import[\s]+(['"])(.*?)(\1)/g,inValAttr:/\(\)\{\}\[\]\$/,invalidInput:/^(datetime-local|datetime|time|week|month|date|number)$/i,js:/\.js(\?.*|$)/i,jsO:/(\.js|\/[^\.]+)$/i,jsEType:/(.+):/i,lb:/[\r\n\s]+/g,lComSp:/^[, \t\n\r\u000c]+/,lNSp:/^[^ \t\n\r\u000c]+/,lNCom:/^[^,]+/,lowerEncoded:/%([0-9A-F]{2})/gi,mask:/[^\s]/g,maskReducer:/(\*+)/g,media:/all|screen|handheld|min-|max-|resolution|color|aspect-ratio/i,nat:/^\s*function[^{]+{\s*\[native code\]\s*}\s*$/,newDiPath:/\/i\/[0-9]+\/[0-9]+\/(di\.js|c\.json)$/i,protR:/^(https?):\/\//i,pseudoFix:/:(hover|invalid)/gi,punctuationEscaped:/\\([:\/.?=])(?![^\[]*\])/g,regex:/^\/(.*?)\/([gim]*)$/,sp:/ {2,}/g,stack:/^\s*(?:at)?\s* (.*?)@? ?\(?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,spaceOnly:/^[ \n\t\r]+$/,ssn:/\d{3}-\d{2}-\d{4}/gi,stW:/(^| )width: /,stH:/(^| )height: /,tCom:/[,]+$/,textarea:/<textarea(.*? data-di-mask.*?)>([\s\S]*?)<\/textarea>/gi,trim:/^\s+|\s+$/g,trimSpCom:/^[,\s]+|[,\s]+$/g,urlFix:/1\.[0-9]\.[0-9]\.[0-9]+\/bmi\//gi,val:/ value=["']([^"]+)["']/,valId:/^[a-z][a-z0-9_\-:\.]*$/i,vartest:/^[a-zA-Z0-9 _$\.\[\]'"]+$/,xmlns:/www\.w3\.org\/[0-9]{4}\/([a-zA-Z]+)/i};function G(e){return!!e&&S.valId.test(e)}function E(e,t){var i=null;return i=e&&h(e.getAttribute)?e.getAttribute(t):i}function X(e){return"string"==typeof e}function W(e){var t=E(e,m.href);return t="#"!==t.charAt(0)&&(X(e.href)&&(t=e.href||t),c.igQH)?t.replace(S.igQH,""):t}function J(e){e=W(e);return"#"!==e&&!S.hrefC.test(e)}function b(e){return void 0===e}function z(e){var t={top:0,bottom:0,left:0,right:0,width:0,height:0};return e&&!b(e.getBoundingClientRect)&&(e=e.getBoundingClientRect(),t.top=e.top,t.bottom=e.bottom,t.left=e.left,t.right=e.right,t.width=t.right-t.left,t.height=t.bottom-t.top),t}function Y(e,t){return(e.currentStyle||(u.defaultView&&u.defaultView.getComputedStyle?u.defaultView.getComputedStyle(e):e.style))[t]}function $(e){var t=z(e);return!!(t.width&&t.height||e.offsetWidth&&e.offsetHeight)}function Q(e){return!(!e||!e.nodeName)}function K(e){var t=null;return t=Q(e)?e.di_node_name||e.nodeName.toLowerCase():t}function Z(e){e=K(e);return e===y.lowercaseBody||e===y.lowercaseHtml||e===y.document||e===y.documentFragment}function ee(){var e,t,i;return"innerWidth"in l?(e=l.innerWidth,t=l.innerHeight,"visualViewport"in l&&1<(i=l.visualViewport).scale&&g.abs(i.width-e)<2&&(e=g.round(e*i.scale),t=g.round(t*i.scale))):(e=(i=u.documentElement||u.body).clientWidth,t=i.clientHeight),{width:e,height:t,top:0,left:0,bottom:t,right:e}}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e&&e[0]&&0===e[0].indexOf("DecibelInsight:")&&(e[0]=e[0].replace("DecibelInsight:","DXA warning:")),p(window.console)&&console.warn&&console.warn.apply(null,j.call(e))}(e=m=m||{}).ariaRequired="aria-required",e.autocomplete="autocomplete",e.charset="charset",e.class="class",e.data="data",e.disabled="disabled",e.height="height",e.href="href",e.id="id",e.label="label",e.media="media",e.name="name",e.novalidate="novalidate",e.rel="rel",e.required="required",e.src="src",e.srcdoc="srcdoc",e.style="style",e.text="text",e.type="type",e.value="value",e.width="width",(e=y=y||{}).a="A",e.body="BODY",e.button="BUTTON",e.lowercaseBody="body",e.canvas="CANVAS",e.div="DIV",e.document="#document",e.documentFragment="#document-fragment",e.noHashDocument="document",e.embed="EMBED",e.form="FORM",e.head="HEAD",e.html="HTML",e.lowercaseHtml="html",e.iframe="IFRAME",e.img="IMG",e.input="INPUT",e.li="LI",e.link="LINK",e.nav="NAV",e.object="OBJECT",e.p="P",e.picture="PICTURE",e.plaintext="PLAINTEXT",e.script="SCRIPT",e.select="SELECT",e.source="SOURCE",e.span="SPAN",e.style="STYLE",e.svg="SVG",e.lowercaseSvg="svg",e.textarea="TEXTAREA",e.ul="UL",e.video="VIDEO";var te=/^(?:input|select|textarea|button)$/i;let ie={combinators:[">","+","~","*"],standardPseudos:["active","any-link","checked","default","defined","disabled","empty","enabled","first-child","first-of-type","focus","focus-visible","focus-within","fullscreen","host","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","link","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","placeholder-shown","read-only","read-write","required","root","scope","target","valid","visited","where"],positionalPseudos:{first:function(e){return e.length?[e.shift()]:[]},last:function(e){return e.length?[e.pop()]:[]},eq:function(e,t){var i=[];return void 0!==e[t]&&i.push(e[t]),i},lt:function(e,t){return t=Math.min(e.length,t),e.splice(t,e.length-t),e},gt:function(e,t){return t=Math.min(e.length,t),e.splice(0,t),e},even:function(e){for(var t=[],i=0,r=e.length;i<r;i+=2)e[i].nodeName&&t.push(e[i]);return t},odd:function(e){for(var t=[],i=1,r=e.length;i<r;i+=2)e[i].nodeName&&t.push(e[i]);return t}},customPseudos:{has:function(e,t){var i=!1;try{i=!!e.querySelectorAll(t).length}catch(e){a("DXA warning: "+e.message)}return i},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},input:function(e){return te.test(e.nodeName)},button:function(e){var t=e.nodeName;return t===y.input&&"button"===e.type||t===y.button},visible:function(e){return e.nodeName===y.document||$(e)&&"hidden"!==Y(e,"visibility")&&"0px"!==Y(e,"height").trim()&&"0px"!==Y(e,"width").trim()&&0!=+Y(e,"opacity")},scrollable:function(e){return(5<e.scrollWidth-e.clientWidth||5<e.scrollHeight-e.clientHeight)&&!Z(e)},inview:function(e){e=z(e);return 0<=e.bottom&&e.top<=ee().height},shadow:function(e){return!!e.shadowRoot&&!e.shadowRoot.__shady}}};var O={asterisk:"*",colon:":",comma:",",gt:">",openPar:"(",closePar:")",empty:"",pseudoScope:":scope",pseudoShadow:":shadow",space:" ",spaceAsteriskColon:" *:",spaceColon:" :",spaceColonRegex:/( :)/g,undef:"undefined"};function re(e){var t,i;return-1!==e.indexOf(O.openPar)?(t=e.substring(0,e.indexOf(O.openPar)).replace(O.colon,O.empty),i=e.substring(e.indexOf(O.openPar)+1,e.length-1).split(O.space)):t=e.replace(O.colon,O.empty),{name:t,args:i}}var se=new Map;function ne(e){for(var t=[],i=0,r=e;i<r.length;i++){var s=r[i];s&&t.push(s)}return t}var C,T,oe,R,ae=97,le=122,he=65,ce=40,de=48,ue=57,pe=58,fe=45;function me(e){for(var t,i=e.indexOf(O.colon);-1<i&&i<e.length;i=e.indexOf(O.colon,i+1)){var r=i,s=e.charCodeAt(++r);if(s===pe&&(s=e.charCodeAt(++r)),ae<=(t=s)&&t<=le||he<=t&&t<=ce||de<=t&&t<=ue||s===fe)return 1;i=r}}function ge(e,t,i){return Ee(ve,e=e&&Ie(e),t,i)}function ve(e,t,i){var r=[];if(t&&t.nodeType!==C.TEXT)if(i&&e[0]!==O.colon)try{r=Array.prototype.slice.call(t.querySelectorAll(e))}catch(e){a("DXA warning: "+e.message)}else Te(e,r,t,i);else try{r=Array.prototype.slice.call(document.querySelectorAll(e))}catch(e){a("DXA warning: "+e.message)}return r}function ye(e,t,i){return Ee(Se,e=e&&Ie(e),t,i)}function Se(e,t,i){var r=[];return t.nodeType!==C.ELEMENT&&t.nodeType!==C.DOCUMENT&&t.nodeType!==C.SHADOW_ROOT||function e(t,i,r,s){Te(t,i,r,s);r&&r.shadowRoot&&e(t,i,r.shadowRoot,!0);for(var n=0,o=ge(O.pseudoShadow,r);n<o.length;n++){var a=o[n];e(t,i,a.shadowRoot,!0)}}(e,r,t,i),r}function Ee(e,t,i,r){if(void 0===t||0===t.trim().length)return[];if(void 0===i&&(i=window.DISearchContext||document),me(t)){for(var s=[],n=[],o=[],a=0,l=be(t);a<l.length;a++)(-1===(u=l[a]).indexOf(O.colon)?n:o).push(u);n.length&&(s=e(n.join(O.comma),i,r));for(var h=r,c=0,d=o;c<d.length;c++){r=h;for(var u,p=(e=>{if(se.has(e))return se.get(e);for(var t=[],i=e.split(O.space),r=0,s=i.length;r<s;r++){if((a=i[r]).indexOf(O.openPar)>a.indexOf(O.closePar)){var n=r+1,o=a;for(i[r]=O.empty;i[n]&&i[n].indexOf(O.closePar)<0;)o+=O.space+i[n],i[n]=O.empty,n++;i[n]=o+O.space+i[n]}-1!==ie.combinators.indexOf(a)&&i[r+1]&&(i[r+1]=a+O.space+i[r+1],i[r]=O.empty)}for(var a,l=0,s=(i=ne(i)).length;l<s;l++){if(typeof(a=i[l])===O.undef)break;if(-1!==a.indexOf(O.colon))for(var h=ne(a.split(O.colon)),c=(a[0]!==O.colon&&(t.push(h[0]),h.shift()),!1),d=0,u=h;d<u.length;d++){var p=u[d];if(-1!==ie.standardPseudos.indexOf(re(p).name))!c&&0<t.length?t[t.length-1]=t[t.length-1]?t[t.length-1]+O.colon+p:O.colon+p:t.push(O.colon+p);else{for(var c=!0,f=[p],m=0,g=ie.combinators;m<g.length;m++){for(var v=g[m],y=[],S=0,E=f;S<E.length;S++){var b=E[S];if(b.indexOf(v)>b.indexOf(O.closePar)){var C=b.split(v);y.push(C[0]),C.shift();for(var T=0;T<C.length;T++)y.push(v+O.space+C[T])}b.indexOf(v)<0&&y.push(b)}y.length&&(f=y)}t.push(O.colon+f[0]),f.shift(),f.length&&(i[l+1]=typeof i[l+1]===O.undef?f.join(O.space):f.join(O.space)+O.space+i[l+1],s++)}}else i[l]&&t.push(i[l])}for(var R=[],I=[],_=0,x=t;_<x.length;_++){var k=x[_];(k[0]===O.colon?(I.length&&(R.push(I.join(O.space)),I=[]),R):I).push(k)}return I.length&&R.push(I.join(O.space)),se.has(e)||se.set(e,R),R})(u=d[c]),f=[],m=0,g=p.length;m<g;m++){var v,y=p[m];if(0<f.length&&(r=r&&!1),y.startsWith(O.colon)?(v=re(y),ie.customPseudos[v.name]?f=function(e,t,i,r){if(e&&t)if(r.length){var s=[];i=i&&i.map(function(e){return e.startsWith(O.gt)?O.pseudoScope+O.space+e:e});for(var n=0,o=r;n<o.length;n++){var a=o[n];(i?t.call(this,a,i):t.call(this,a))&&s.push(a)}r=s}else(i?t.call(this,e,i):t.call(this,e))&&r.push(e);return r}(i,ie.customPseudos[v.name],v.args,f):ie.positionalPseudos[v.name]?f=function(e,t,i,r){e&&t&&(r.length?r=t.apply(this,[r,i]):t.apply(this,[e,i])&&r.push(e));return r}(i,ie.positionalPseudos[v.name],v.args,f):-1!==ie.standardPseudos.indexOf(v.name)&&y&&(f=Ce(e,y,i,r,f))):(y=y.startsWith(O.gt)?O.pseudoScope+O.space+y:y)&&(f=Ce(e,y,i,r,f)),!f.length)break}U.apply(s,f)}return s}return e(t=t.startsWith(O.gt)?O.pseudoScope+O.space+t:t,i,r)}function be(e){if(oe.has(e))return oe.get(e);for(var t,i=[],r=0,s=e.length,n=0,o=0;n<s;n++)o<=0&&44===e.charCodeAt(n)?(i.push(e.substring(r,n)),r=n+1,o=0):40===e.charCodeAt(n)||91===e.charCodeAt(n)?++o:41!==e.charCodeAt(n)&&93!==e.charCodeAt(n)||--o;return r<s&&(t=e.substring(r,s)).trim().length&&i.push(t),oe.has(e)||oe.set(e,i),i}function Ce(e,t,i,r,s){var n=s.length;if(i&&n){for(var o=[],a=0,l=s;a<l.length;a++){var h=l[a];U.apply(o,e(t,h,r))}s.length=0,U.apply(s,o)}else s.length=0,U.apply(s,e(t,i,r));return s}function Te(e,t,i,r){if(!(r=void 0===r&&e[0]!==O.colon?!0:r)&&i&&((e,t)=>{var i=!1;if(e.nodeType===C.DOCUMENT)t.toLowerCase()===y.noHashDocument&&(i=!0);else try{e.nodeType===C.ELEMENT&&(i=e.matches(t))}catch(e){a("DXA warning: Invalid selector provided. "+e.message)}return i})(i,e)&&t.push(i),-1!==i.nodeName.indexOf(y.document)&&e.startsWith(O.pseudoScope)&&(e=e.slice(e.indexOf(O.gt)+1)),i&&-1===t.indexOf(i)&&(-1!==i.nodeName.indexOf(y.document)||e.startsWith(O.pseudoScope)||!e.startsWith(O.colon)))try{i.querySelectorAll&&U.apply(t,Array.prototype.slice.call(i.querySelectorAll(e)))}catch(e){a("DXA warning: "+e.message)}}function Re(e,t){return-1!==Ee(ve,t,e,!1).indexOf(e)}function Ie(e){return e=(e=-1!==e.indexOf(O.spaceColon)?e.replace(O.spaceColonRegex,O.spaceAsteriskColon):e).startsWith(O.colon)?O.asterisk+e:e}function _e(e){e=K(e);return e===y.lowercaseHtml||e===y.document||e===y.documentFragment}function xe(e,t){return e=e.parentNode,T.matchesSelector(e,t)?e:_e(e)?void 0:xe(e,t)}function I(){return(new Date).getTime()}function ke(){var e=g.max(u.documentElement.scrollWidth,u.body.scrollWidth,u.documentElement.offsetWidth,u.body.offsetWidth,u.documentElement.clientWidth),t=g.max(u.documentElement.scrollHeight,u.body.scrollHeight,u.documentElement.offsetHeight,u.body.offsetHeight,u.documentElement.clientHeight);return{width:e,height:t,top:0,bottom:t,left:0,right:e}}function Oe(e){return f(e)?"":encodeURIComponent(String(e))}function De(e,t){return e&&e.hasOwnProperty(t)}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return{};for(var i=e[0],r=0,s=e;r<s.length;r++){var n,o=s[r];for(n in o)De(o,n)&&(i[n]=o[n])}return e[0]}function we(e,t,i){if(p(e))for(var r in e)De(e,r)&&t.call(i,e[r],r,e)}function Ae(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function Pe(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ne(e){return(e||"").replace(S.trim,"")}(e=C=C||{})[e.ELEMENT=1]="ELEMENT",e[e.ATTR=2]="ATTR",e[e.TEXT=3]="TEXT",e[e.CDATA_SECTION=4]="CDATA_SECTION",e[e.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",e[e.ENTITY=6]="ENTITY",e[e.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",e[e.COMMENT=8]="COMMENT",e[e.DOCUMENT=9]="DOCUMENT",e[e.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",e[e.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",e[e.SHADOW_ROOT=11]="SHADOW_ROOT",e[e.NOTATION=12]="NOTATION",e=T=T||{},oe=new Map,e.search=ge,e.deep=ye,e.standardSearch=ge,e.baseStandardSearch=ve,e.deepSearch=ye,e.baseDeepSearch=Se,e.processSelectors=Ee,e.splitSelectors=be,e.matchesSelector=Re,e.matches=function(e,t){for(var i=[],r=0,s=t;r<s.length;r++){var n=s[r];Re(n,e)&&i.push(n)}return i},e.getText=function e(t){var i,r=O.empty,s=0,n=t.nodeType;if(n){if(n===C.ELEMENT||n===C.DOCUMENT||n===C.SHADOW_ROOT){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=e(t)}else if(n===C.TEXT||n===C.CDATA_SECTION)return t.nodeValue}else for(;i=t[s++];)r+=e(i);return r},(e=R=R||{})[e.NONE=0]="NONE",e[e.PAGE=2]="PAGE",e[e.IGNORE_QUERY=4]="IGNORE_QUERY",e[e.COOKIE=8]="COOKIE",e[e.ERROR_TRACKING=64]="ERROR_TRACKING",e[e.FORM=128]="FORM",e[e.DATA_UNMASKING=256]="DATA_UNMASKING",e[e.RESOURCE_PROXY=4096]="RESOURCE_PROXY",e[e.FULL_PROXY_REFERER=8192]="FULL_PROXY_REFERER";var Me,_,Le,je,Ue,He,Ve,Be,qe="",Ge=",",Xe="undefined",We="hidden",Je="msHidden",ze="webkitHidden",Ye="landscape",$e="(orientation:landscape)",Qe="scrollinfo",Ke="pointer",Ze="touch",et="mouse",tt="Left",it="Top",rt="scroll",st="resize",nt="blur",ot="focus",at="visibilitychange",lt="msvisibilitychange",ht="webkitvisibilitychange",ct="ontouchstart",dt="touchstart",ut="touchend",pt="touchmove",ft="touchcancel",mt="onpointerdown",gt="pointerdown",vt="pointerup",yt="pointermove",St="pointercancel",Et="mousedown",bt="mouseup",Ct="mousemove",Tt="DOMMouseScroll",Rt="onmousewheel",It="mousewheel",_t="onwheel",xt="wheel",kt="contextmenu",Ot="ontouchforcechange",Dt="touchforcechange",Ft="onwebkitmouseforcechanged",wt="webkitmouseforcechanged",At="keydown",Pt="keyup",Nt="onorientationchange",Mt="matchMedia",Lt="/heatmap/get-html",jt="about:srcdoc",Ut="visualViewport",Ht="l",Vt="r",Bt="u",qt="d",Gt="wu",Xt="wd",Wt={userId:null,blacklisted:{},sessionTimeout:null,maxPageTime:null,maxDataCredit:null,noHtml:!1,frameRate:1,minResourceSize:1e3,optimizeURLCallback:"",htmlResSelector:"",discardAttrs:null,maxCss:3e4,altProxyHostname:"",httpsJourney:!1,canvasFormat:null,pageTaxonomy:null,pageRole:null,pageTitleCallback:"",pageURLCallback:"",autoQueryTrack:null,autoFragmentTrack:null,fragmentPattern:null,disableHTMLContent:!1,interactionSelector:null,attributionCallback:"",attrMutationCallback:"",attributionCriteria:"",allowDuplicateAttribute:!0,depthElementSelector:"",personalDataSelector:"",personalDataRegex:"",maskEmail:!1,maskSSN:!1,recursiveMasking:!0,maskPlaceholder:!1,ignoreElementSelector:"",canvasSelector:"",customDimensions:[],datalayer:[],deepShadowRootSearch:!1,proxyV2:"",fixedElementSelector:qe,hoverThreshold:250,minHoverTime:750,formCollection:0,formGroupCriteria:"di-id,hash,url",formDict:[],ignoreFieldSelector:"[data-di-field-ignore]",ignoreFormSelector:"[data-di-form-ignore]",unmaskFieldSelector:"",fieldSelectorAttribute:m.id,shadowsAsPatches:!1,attachCSSHooksToIframes:!1,currencyConversionRates:{}},x={fixDaVars:function(){for(var e={interactionSelector:"a,.da_t,input,button",ignoreElementSelector:"",depthElementSelector:"",personalDataSelector:"",canvasSelector:"",attributionCriteria:"di-id,id,href"},t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];f(x[r])?x[r]=e[r]:x[r]=x[r].replace(S.trimSpCom,"")}Ae(x.topResources)||(x.topResources=[]),p(x.currencyConversionRates)||(x.currencyConversionRates={});for(var s={frameRate:1,minResourceSize:1e3,sessionTimeout:30,maxPageTime:60,maxDataCredit:10,maxCss:3e4,datalayerTO:0,hoverThreshold:250,minHoverTime:750},n=0,o=Object.keys(s);n<o.length;n++){r=o[n];Pe(x[r])||(x[r]=s[r])}f(x.blacklisted)&&(x.blacklisted={}),x.sessionTimeout*=6e4,x.maxPageTime*=6e4,x.maxDataCredit*=2e5;for(var a={allowDuplicateAttribute:!0,recursiveMasking:!0,maskPlaceholder:!1,shadowsAsPatches:!1,attachCSSHooksToIframes:!1},l=0,h=Object.keys(a);l<h.length;l++){r=h[l];f(x[r])&&(x[r]=a[r])}x.fixDiscardAttr(),x.fixRegex(),x.fixForm()},fixDiscardAttr:function(){if(!f(x.discardAttrs)){var e=x.discardAttrs.match(S.regex);try{if(e)c.dAR=new RegExp(e[1],e[2]);else{for(var t=x.discardAttrs.split(","),i=0;i<t.length;++i)""!==t[i]?t[i]=Ne(t[i]).replace(/^data-$/i,"data-(?!di-)"):t.splice(i,1);f(t="^("+t.join("|")+")")||(c.dAR=new RegExp(t,"i"))}}catch(e){c.dAR=null}}},fixRegex:function(){for(var e={personalDataRegex:{d:null,o:"g"},fragmentPattern:{d:new RegExp("^#/.*"),o:""},ignoreQueryRegex:{d:null,o:""},ignoreFragmentRegex:{d:null,o:""}},t=0,i=Object.keys(e);t<i.length;t++){var r,s=i[t],n=e[s],o=x[s];if(f(o)||"string"!=typeof o)x[s]=n.d;else{r=o.match(S.regex);try{x[s]=r?new RegExp(r[1],r[2]):new RegExp(o,n.o)}catch(e){x[s]=n.d}}}},fixForm:function(){for(var e=0,t=["formCollection","formGroupCriteria","formDict","formErrorCallback","formTitleCallback","ignoreFormSelector","ignoreFieldSelector","unmaskFieldSelector","fieldTitleCallback","fieldErrorCallback","fieldSelectorAttribute","aggregateFields"];e<t.length;e++){var i=t[e],r=x[i];f(r=X(r)?r.replace(S.trimSpCom,""):r)?delete x[i]:x[i]=r}(x.account_flags_orig&R.DATA_UNMASKING)!==R.DATA_UNMASKING&&(x.unmaskFieldSelector=""),Ae(x.formDict)||(x.formDict=[])},cleanup:function(e){for(var t={},i=0,r=Object.keys(e);i<r.length;i++)t[(s=r[i]).replace(S.da,"")]=e[s];for(var s,n=0,o=["autoFragmentTrack","autoQueryTrack","maskEmail","maskSSN","frameRate","resourceRate","minResourceSize","personalDataSelector","unmaskFieldSelector","ignoreElementSelector","personalDataRegex","fragmentPattern"];n<o.length;n++)f(x[s=o[n]])||(t[s]=x[s]);Fe(x,t),Fe(window._da_,x)}},k=new Proxy(x,{get:function(e,t){var i;return f(e[t=t.replace(S.da,"")])?null!=(i=Wt[t])?i:"":e[t]},set:function(e,t,i){return t&&(e[t.replace(S.da,"")]=i),!0}});function Jt(e){var t=null;try{for(var i=0,r=u.cookie.split(";");i<r.length;i++){var s=r[i],n=s.substr(0,s.indexOf("=")),o=s.substr(s.indexOf("=")+1);if((n=n.replace(S.trim,""))===e){t=unescape(o);break}}}catch(e){}return t}function zt(e){var t=0;return t=e&&e.di_dom?e.di_dom.i:t}function Yt(e,t){var i;if(c.hasStor)try{i=e.getItem(t)}catch(e){}return i}function D(e){try{return Yt(l.sessionStorage,e)}catch(e){}}function $t(e){return e.replace("cdn.","collection.")}function Qt(e){f(k.dnsRecord)||(c.cdn=k.dnsRecord),D("di_alt_cdn")&&(c.cdn=$t(c.cdn)),D("di_alt_cdn")&&(c.cdn=$t(c.cdn));var t="";return T.search('script[src$="di.js?noblock"]').length?t="?noblock":D("_da_from_native")&&e&&e["X-DI-sid"]&&(t="?da_sid="+e["X-DI-sid"]+"&da_lid="+e["X-DI-lid"]),"https://"+c.cdn+"/i/"+k.accountNumber+"/"+k.websiteId+"/c.json"+t}function Kt(e){var t=0;return e=e||{},(c.isMac?e.metaKey:e.ctrlKey)&&(t+=2),e.shiftKey&&(t+=4),e.altKey&&(t+=8),t}function Zt(e){try{return Yt(l.localStorage,e)}catch(e){}}function ei(e){var t;return t=c.hasStor&&f(t=D(e))?Zt(e):t}function ti(e){return e?1:0}function ii(e,t){r=!1,null===(i=e)?r=!1:i===i.window?r=i:i.nodeType===C.DOCUMENT&&(r=i.defaultView||i.parentWindow);var i=r,r="Top"===t?"Y":"X",i=i?i["scroll"+r]||i["page"+r+"Offset"]||u.body["scroll"+t]||u.documentElement["scroll"+t]:e["scroll"+t];return g.max(i||0,0)}function ri(e){return ii(l,e)-(u.documentElement["client"+e]||0)}function si(e,t,i){var i=i||z(e),e=ri("Top"),r=ri("Left"),s={top:i.top+e,left:i.left+r};return t&&(s.right=i.right+r,s.bottom=i.bottom+e),s}function ni(e){function i(e){return e.match(S.escape)?e.replace(S.escape,function(e){var t=o[e];return"string"==typeof t?t:(t=e.charCodeAt(0),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))}):e}var r,s,n=typeof e,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return p(e)?(r=[],s=e.constructor===Array,we(e,function(e,t){"string"===(n=typeof e)?e='"'+i(e)+'"':Q(e)?e='"[object HTMLElement]"':null!==n&&"object"===n&&null!==e&&(e=ni(e)),r.push((s?"":ni(t)+":")+String(e))}),(s?"[":"{")+String(r)+(s?"]":"}")):("string"===n&&(e='"'+i(e)+'"'),String(e))}function oi(){return"undefined"!=typeof JSON&&JSON.stringify&&(e=JSON.stringify,S.nat.test(e))?JSON.stringify:ni;var e}function ai(e){return oi()(e)}function li(e,t){var i;return e.di_index_store&&e.di_index_store.callTime===t?e.di_index_store.id:Q(e)?(i=G(e.id)?"#"+e.id:(i=K(e),Z(e)?i:li(e.parentNode,t)+" > "+i+(e.hasAttribute(m.href)?'[href="'+W(e)+'"]':"")),e.di_index_store={callTime:t,id:i},i):""}function hi(){var e=o.search.substr(1),t={};if(""!==e)for(var i=0,r=e=e.split("&");i<r.length;i++){var s=r[i].split("=");if(2===s.length)try{t[s[0]]=decodeURIComponent(s[1])}catch(e){}}return t}function ci(e){for(var t=self._da_crcTable||(self._da_crcTable=(()=>{for(var e=[],t=0;t<256;t++){for(var i=t,r=0;r<8;r++)i=1&i?3988292384^i>>>1:i>>>1;e[t]=i}return e})()),i=-1,r=0,s=e.length;r<s;r++)i=i>>>8^t[255&(i^e.charCodeAt(r))];return(-1^i)>>>0}function di(e){return ci((e=""+(f(e)?"":e)).substr(0,e.length/2)).toString(16)+"-"+ci(e.substr(e.length/2)).toString(16)}function ui(e,t,i){if(c.hasStor)try{return f(i)?e.removeItem(t):e.setItem(t,i),!0}catch(e){}return!1}function F(e,t){try{return ui(l.sessionStorage,e,t)}catch(e){}}function w(e,t){for(var i,r=2;r<arguments.length;r++)r-2,0;return h(e)?(i=Array.prototype.slice.call(arguments,2),function(){return e.apply(t||this,i.concat(Array.prototype.slice.call(arguments)))}):null}function pi(){var t,e=null;if(f(e=h(k.pageURLCallback)?w(k.pageURLCallback,this)():e))t=location;else try{(t=document.createElement(y.a)).href=e}catch(e){t=location}return{url:t.protocol+"//"+t.host+t.pathname,query:f(t.search)?"":t.search.substr(1),hash:f(t.hash)?"":t.hash.substr(1)}}function fi(e){try{h(e)&&e()}catch(e){}}function mi(e){return f(e)?{width:0,height:0,top:0,bottom:0,left:0,right:0}:e===e.window?ee():e.nodeType===C.DOCUMENT?ke():z(e)}function gi(e){return mi(e).height}function vi(e,t,i){if(t)for(var r=t.length,s=0;s<r;s++)if(t[s]&&(i?t[s][i]:t[s])===e)return s;return-1}function yi(e){return K(e)===y.lowercaseBody}function Si(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function Ei(e,t){if(!t&&Me.isHistoricHeatmap())return!0;var i=location.hostname.toLowerCase(),r=(t&&(c.qa.href=t,i=c.qa.hostname.toLowerCase()),!1);if(Ae(e)&&0!==e.length)for(var s=0,n=e;s<n.length;s++){var o=n[s].toLowerCase();if(r="*"===o.charAt(0)?new RegExp("^"+o.replace(/\./g,"\\.").replace(/^\*/,"[^\\.]+")+"$").test(i):"www"===o.substr(0,3)?i===o||i===o.substr(4):i===o||i==="www."+o)break}else r=!0;return r}function bi(e){var t,i=p(e),r=!0;for(t in e)if(De(e,t)){r=!1;break}return i&&r}function Ci(e){var t,i=p(e),r=!1;for(t in e)if(De(e,t)){r=!0;break}return i&&r}function Ti(e){var t=!1;return e.name?t=e.name.trim():e.stack&&(t=!!(e=e.stack.match(S.jsEType))&&e[1]),t}function Ri(e,t,i,r,s){r=r?r.substring(0,He):"";var n=v.getPageViewId(),o=v.getSessionId(),a=M.userAgent.substring(0,Ve),l=new Date(Date.now()).toISOString(),h=v.getAccountId(),c=v.getPropertyId(),d=(i.length>Ue&&(i.length=Ue),_i(t,e,r,i));je[d]?je[d].count++:je[d]={time:l,level:e,tag:t,errorType:s,message:r,count:1,pageId:n,sessionId:o,accountId:h,propertyId:c,userAgent:a,stack:i}}function Ii(e){for(var t="",i=0,r=e;i<r.length;i++)t+=ai(r[i])+"\n";return t.trim()}function _i(e,t,i,r){var s=0,n=0;return 0<r.length&&(s=r[0].line||0,n=r[0].col||0),e+":"+t+":"+i+":"+s+":"+n}function xi(e){var t=0;switch(e.level){case _.CONFIG:t=500;break;case _.DEBUG:t=100;break;case _.ERROR:t=1e3;break;case _.INFO:t=10;break;case _.WARN:t=500}return t*e.count}function ki(e,t){var i;"function"==typeof l.CustomEvent?i=new CustomEvent(e,{detail:t}):(i=u.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),u.dispatchEvent(i)}(e=Me=Me||{}).getWheelDelta=function(e){return-e.deltaY||-e.detail},e.getWheelEvent=function(){var e=Tt;return _t in u?e=xt:Rt in u&&(e=It),e},e.isHistoricHeatmap=function(){return-1!==o.pathname.indexOf(Lt)||o.href===jt},(e=_=_||{}).DEBUG="DEBUG",e.CONFIG="CONFIG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e=Le=Le||{},je={},Ue=5,Be=!(Ve=He=100),e.setCollectLogs=function(e){Be=e},e.canCollectLogs=function(){return Be},e.debug=function(e,t,i){Ri(_.DEBUG,e,i,t)},e.config=function(e,t,i){Ri(_.CONFIG,e,i,t)},e.info=function(e,t,i){Ri(_.INFO,e,i,t)},e.warn=function(e,t,i){Ri(_.WARN,e,i,t)},e.error=function(e,t,i){Ri(_.ERROR,e,i,t)},e.addLog=Ri,e.startLogging=function(){},e.sendLogs=function(){var e,t=[];for(e in je)De(je,e)&&t.push(je[e]);t.sort(function(e,t){return xi(e)>xi(t)?1:-1}),10<t.length&&(t.length=10),Be&&t.length&&v.postInfo("log",Ii(t),{imp:!0,async:!1});for(var i=0,r=t;i<r.length;i++){var s=r[i];delete je[_i(s.tag,s.level,s.message,s.stack)]}},e.stringifyLogs=Ii;var A,Oi,P,Di,Fi,wi=["CustomJS","attributionCallback","customHmURLCallback"];function Ai(e){var t={};try{l.JSON&&l.JSON.parse?t=l.JSON.parse(e):a("DXA warning: JSON.parse function not available")}catch(e){A.processError("JSON",e,_.ERROR,Oi.JSON)}return t}function Pi(e){return ii(e,"Left")}function Ni(e){return ii(e,"Top")}function Mi(e,t){try{return ui(l.localStorage,e,t)}catch(e){}}function Li(e,t){var i=[],r=e.parentNode;if(r)for(var s=r.firstChild;s;)s!==e&&s.nodeType===C.ELEMENT&&(f(t)||T.matchesSelector(s,t))&&i.push(s),s=s.nextSibling;return i}function ji(e,t){var i;if(Ae(e))for(i=e.length;i;)t(e[--i],i)&&e.splice(i,1)}function Ui(r,s,n,o){var a,l;return h(r)?(a=0,l=null,function(){function e(){r.apply(t,j.call(arguments)),a=I(),l=null}var t=o||this,i=I();s<i-(a=n&&0===a?i:a)?e():null===l&&(l=setTimeout(e,a+s-i))}):null}function Hi(e){return e.replace(S.lowerEncoded,function(e,t){return"%"+t.toLowerCase()})}function Vi(e){return Ne((e||"").replace(S.lb," "))}function Bi(){}function qi(e,t,i){var r,t=e+"="+(t||"")+"; path=/; samesite=strict"+("https:"===o.protocol?"; secure":""),i=t+"; max-age="+(i?1800:31536e3)+"; domain=",t=t+"; max-age=0; domain=";k.cookieDomain&&-1!==o.hostname.indexOf(k.cookieDomain)?u.cookie=i+k.cookieDomain:2<(r=o.hostname.split(".")).length?(u.cookie=t+r.slice(-2).join("."),u.cookie=t+r.slice(-3).join("."),u.cookie=i+r.slice(-2).join("."),null===Jt(e)&&(u.cookie=i+r.slice(-3).join("."))):u.cookie=i+o.hostname}function Gi(e){var t,e=e+"=; path=/; samesite=strict"+("https:"===o.protocol?"; secure":"")+"; max-age=0; domain=";k.cookieDomain&&-1!==o.hostname.indexOf(k.cookieDomain)?u.cookie=e+k.cookieDomain:2<(t=o.hostname.split(".")).length?(u.cookie=e+t.slice(-2).join("."),u.cookie=e+t.slice(-3).join(".")):u.cookie=e+o.hostname}(e=A=A||{}).processError=function(e,t,i,r){var s;"CONFIG"===(i=i||_.INFO)&&wi.includes(e)&&ki("DIWebToExt",{heatmapWarningMsg:"JavaScript error detected in "+e+" function. Please check property configuration.",event:"hmWebToApp",tag:e}),f(t)||(s=Ti(t)||"",Le.canCollectLogs()&&(t=(e=>{if(!e)return[];for(var t=[],i=0,r=e.split("\n");i<r.length;i++){var s=r[i],s=S.stack.exec(s);s&&5<=s.length&&t.push({function:s[1],line:parseInt(s[3]),col:parseInt(s[4])})}return t})(t.stack),Le.addLog(i,e,t,r,s)))},e.processErrorString=function(e,t,i,r,s){r=r||_.INFO,Le.canCollectLogs()&&Le.addLog(r,e,i,s,t)},(e=Oi=Oi||{}).READY_EXEC="Error caught in ready function",e.GLOBAL_READY="Error caught in global ready function",e.SOCKET_ON_MESSAGE="Error caught in socket message processing",e.AJAX="Error caught in AJAX method execution",e.JSON="Unable to parse JSON structure",e.CAUGHT_ERROR="JS Execution Error Occured",e.C_JSON_CACHE="Cached c.json is detected",(e=_n=_n||{}).WEBSITE="website",e.MOBILE="app",e.HYBRID="hybrid",(e=P=P||{})[e.SERVER=0]="SERVER",e[e.FORCED_IN=1]="FORCED_IN",e[e.FORCED_OUT=2]="FORCED_OUT",e[e.FORCED_IN_SERVER=3]="FORCED_IN_SERVER",e[e.FORCED_OUT_SERVER=4]="FORCED_OUT_SERVER",Bi.setFirstPartyCookie=function(){qi("da_sid",v.sId+(f(v.jspsf)?"":"."+v.jspsf)+"|"+v.dataColl.getSessionFlag(),!0),qi("da_lid",v.leadId+"|"+v.dataColl.getLeadFlag()),qi("da_intState",k.int_state,!0)},Bi.deleteFirstPartyCookie=function(){Gi("da_sid"),Gi("da_lid"),Gi("da_intState")},Bi.getHeaderForConfig=function(){var e={},t=hi(),i=e,r=D("d_int_state")||Jt("da_intState"),s=D("d_sessionId")||Jt("da_sid")||"",n=Zt("_da_da_leadId")||Jt("da_lid")||"",s=s.split("|"),n=n.split("|"),o=["0","0","0","0","0","0"],a=(4===s.length&&((a=s[0].match(/\.(0|1)$/))?(i["X-DI-jspsf"]=ti(+a[1]),i["X-DI-sid"]=s[0].slice(0,-2)):i["X-DI-sid"]=s[0],o[0]=s[1],o[2]=s[2],o[4]=s[3],null!==r)&&(i["X-DI-int-state"]=r),4===n.length&&(i["X-DI-lid"]=n[0],o[1]=n[1],o[3]=n[2],o[5]=n[3]),4!==s.length&&4!==n.length||(i["X-DI-cookieflags"]=o.join("|")),e),r=t;return r.da_sid&&(a["X-DI-sid"]=r.da_sid),r.da_lid&&(a["X-DI-lid"]=r.da_lid),+r.da_from_native&&(F("_da_from_native",1),(r=+r.da_in_sample)===P.FORCED_IN?(a["X-DI-cookieflags"]="1|0|1|0|1|0",a["X-DI-jspsf"]=1):r===P.FORCED_OUT?(a["X-DI-cookieflags"]="2|0|2|0|2|0",a["X-DI-jspsf"]=0):r===P.FORCED_IN_SERVER?(a["X-DI-cookieflags"]="3|0|0|0|3|0",a["X-DI-jspsf"]=1):(a["X-DI-cookieflags"]="4|0|0|0|4|0",a["X-DI-jspsf"]=0)),e};let Xi=Bi;(e=Di=Di||{}).DATA_CREDIT="datacredit",e.PAGE_VIEW="pageview",e.SESSION="session",(e=Fi=Fi||{})[e.PRE_MIGRATED=-1]="PRE_MIGRATED",e[e.RANDOM=0]="RANDOM",e[e.WEIGHTED=1]="WEIGHTED",e[e.PURPOSEFUL=2]="PURPOSEFUL";var Wi={subscriptionType:"subscriptionType",experienceMethod:"experienceDataSampleMethod",analysisMethod:"analysisDataSampleMethod",replayMethod:"replayDataSampleMethod",experienceSession:"sessCookieFlags",experienceLead:"leadCookieFlags",analysisSession:"analysisSessFlags",analysisLead:"analysisLeadFlags",replaySession:"replaySessFlags",replayLead:"replayLeadFlags"};function Ji(){this.active=!0,this.inactivityTriggered=!1,this.subscriptionType=Di.DATA_CREDIT,this.experienceMethod=Fi.RANDOM,this.experienceSession=P.SERVER,this.experienceLead=P.SERVER,this.analysisMethod=Fi.RANDOM,this.analysisSession=P.SERVER,this.analysisLead=P.SERVER,this.replayMethod=Fi.RANDOM,this.replaySession=P.SERVER,this.replayLead=P.SERVER,we(Wi,function(e,t){this[t]=k[e]||0},this),this.subscriptionType||(this.subscriptionType=Di.DATA_CREDIT),this.experienceMethod===Fi.PRE_MIGRATED&&(this.subscriptionType=Di.DATA_CREDIT,this.experienceMethod=Fi.RANDOM,this.analysisMethod=Fi.RANDOM,this.replayMethod=Fi.RANDOM),this.subscriptionType===Di.DATA_CREDIT&&(this.replaySession=this.experienceSession,this.replayLead=this.experienceLead)}Ji.prototype.isDataCreditSubscription=function(){return this.subscriptionType===Di.DATA_CREDIT},Ji.prototype.isPageViewSubscription=function(){return this.subscriptionType===Di.PAGE_VIEW},Ji.prototype.isSessionSubscription=function(){return this.subscriptionType===Di.SESSION},Ji.prototype.experienceRandom=function(){return this.experienceMethod===Fi.RANDOM},Ji.prototype.experiencePurposeful=function(){return this.experienceMethod===Fi.PURPOSEFUL},Ji.prototype.analysisRandom=function(){return this.analysisMethod===Fi.RANDOM},Ji.prototype.analysisPurposeful=function(){return this.analysisMethod===Fi.PURPOSEFUL},Ji.prototype.replayRandom=function(){return this.replayMethod===Fi.RANDOM},Ji.prototype.replayPurposeful=function(){return this.replayMethod===Fi.PURPOSEFUL},Ji.prototype.getSamplingHeader=function(){return this.experienceSession+"|"+this.experienceLead+"|"+this.analysisSession+"|"+this.analysisLead+"|"+this.replaySession+"|"+this.replayLead},Ji.prototype.getSessionFlag=function(){return this.experienceSession+"|"+this.analysisSession+"|"+this.replaySession},Ji.prototype.getLeadFlag=function(){return this.experienceLead+"|"+this.analysisLead+"|"+this.replayLead},Ji.prototype.getStatus=function(e){return this[e+"Lead"]||this[e+"Session"]},Ji.prototype.getExperienceStatus=function(){var e=this.experienceLead||this.experienceSession;return e!==P.FORCED_OUT&&(!this.experienceRandom()||e!==P.FORCED_OUT_SERVER)},Ji.prototype.getReplayStatus=function(){var e=this.replayLead||this.replaySession;return e!==P.FORCED_OUT&&(!this.replayRandom()||e!==P.FORCED_OUT_SERVER)};let zi=Ji,Yi=($i.prototype.enableRealTime=function(){k.useKafkaQueue?this.enabled||(this.enabled=!0,F("di_RealTimeDXS",1),this.realTimeEnabled()):a("DXA warning: RealTime DXS is not enebled for this account.")},$i.prototype.onRealTimeEnabled=function(t){h(t)&&!this.onEnabledCB.find(function(e){return e.toString()===t.toString()})&&this.onEnabledCB.push(t),this.enabled&&this.realTimeEnabled()},$i.prototype.realTimeEnabled=function(){for(var e=0,t=this.onEnabledCB;e<t.length;e++)t[e].apply(window[window.DecibelInsight]);this.onEnabledCB=[]},$i.prototype.processRealTime=function(e){var i,t,r=this;this.pageTime===+e.pvid&&(i={realtime:{data:{}}},t="live_dxs_ks"===e.type?"decibel.ks":"decibel",we(e,function(e,t){-1===r.excludeKeys.indexOf(t)&&(i.realtime.data[t]=e)}),this.processRTPillars(i),this.processRTBehaviour(i),this.processRTExpIssues(i),this.trigger(i,t))},$i.prototype.trigger=function(e,i){var r=this;we(e,function(e,t){"data"!==t&&(ki(t=i+"."+t,e),-1!==t.indexOf("behaviours")&&ki(t.replace("behaviours","behaviors"),e),p(e))&&r.trigger(e,t)})},$i.prototype.processRTExpIssues=function(e){if(e.realtime.data.exp_issues&&e.realtime.data.exp_issues.length)for(var t=0,i=e.realtime.data.exp_issues;t<i.length;t++){var r=i[t],s=r.type+"_"+this.pageTime+"_"+r.starttime;this.expIssueTriggered[s]||(e.realtime.exp_issues=e.realtime.exp_issues||{},e.realtime.exp_issues[r.type]={data:r},this.expIssueTriggered[s]=1)}},$i.prototype.processRTBehaviour=function(e){if(e.realtime.data.behaviours&&e.realtime.data.behaviours.length)for(var t=0,i=e.realtime.data.behaviours;t<i.length;t++){var r=i[t],s=r.type+"_"+this.pageTime+"_"+r.offset;this.behaviourTriggered[s]||(e.realtime.behaviours=e.realtime.behaviours||{},e.realtime.behaviours[r.type]={data:r},this.behaviourTriggered[s]=1)}},$i.prototype.processRTPillars=function(i){var r=this;we(i.realtime.data,function(e,t){t.length<4&&(b(r.prevRealtimeDxs[t])||.1<g.abs(e-r.prevRealtimeDxs[t]))&&(i.realtime[t]=e,r.prevRealtimeDxs[t]=e)})},$i);function $i(){var e=this;this.excludeKeys=["type","pvid"],this.behaviourTriggered={},this.expIssueTriggered={},this.prevRealtimeDxs={},this.pageTime=v.getPageTime(),this.onEnabledCB=[],this.enabled=1==+D("di_RealTimeDXS"),v.enableRealTime=this.enableRealTime.bind(this),v.isRealTimeEnabled=function(){return e.enabled},v.onRealTimeEnabled=this.onRealTimeEnabled.bind(this)}let Qi=Yi,Ki=(Zi.hash=function(e,t){var i,r,s,n,o=(e=>{for(var t=[],i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||57344<=r?t.push(224|r>>12,128|r>>6&63,128|63&r):(i++,r=65536+((1023&r)<<10|1023&e.charCodeAt(i)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t})(e),e=t,t=3&o.length,a=o.length-t,l=(i=e,3432918353),h=461845907;for(n=0;n<a;)s=255&o[n]|(255&o[++n])<<8|(255&o[++n])<<16|(255&o[++n])<<24,++n,i=27492+(65535&(r=5*(65535&(i=(i^=s=(65535&(s=(s=(65535&s)*l+(((s>>>16)*l&65535)<<16)&4294967295)<<15|s>>>17))*h+(((s>>>16)*h&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(s=0,t){case 3:s^=(255&o[n+2])<<16;case 2:s^=(255&o[n+1])<<8;case 1:s^=255&o[n],i^=s=(65535&(s=(s=(65535&s)*l+(((s>>>16)*l&65535)<<16)&4294967295)<<15|s>>>17))*h+(((s>>>16)*h&65535)<<16)&4294967295}return i=2246822507*(65535&(i=(i^=o.length)^i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0},Zi);function Zi(){}let er=Ki,tr=(ir.prototype.serialize=function(e,t){return p(e)&&(e=this.minTree(e)[1]),t?e:{f:this.format,vr:this.version,v:e}},ir.prototype.convertObject=function(e){var t=e;if(p(e))for(var t=[],i=0,r=Object.keys(e);i<r.length;i++){var s=r[i];t.push([s,this.convertObject(e[s])])}return t},ir.prototype.minTree=function(e){var t=0,i=e.c;if(i&&0!==i.length){for(var r=[],s=0,n=i;s<n.length;s++){var o,a=n[s],a=this.minTree(a);this.useHashing&&(o=a[0].toString()+this.semicolonString,t=er.hash(o,t)),r.push(a[1])}for(var l=[],h=0,c=Object.keys(e);h<c.length;h++){var d,u=c[h];u!==this.childString&&(d=this.convertObject(e[u]),l.push([u,d]),this.useHashing)&&(t=er.hash(u+this.colonString+JSON.stringify(d),t))}this.hashes[t]?l={h:t.toString(36)}:l.push([this.childString,r])}else if(l=this.convertObject(e),this.useHashing){if(t=er.hash(JSON.stringify(l),0),this.hashes[t])l={h:t.toString(36)};else if(e.a&&"string"==typeof e.a[this.eightString]&&e.a[this.eightString].length>this.hashingThreshold){var p=er.hash(e.a[this.eightString],0);if(this.hashes[p])for(var f=0,m=l;f<m.length;f++)if((S=m[f])[0]===this.attributeString){for(var g=0,v=S[1];g<v.length;g++){var y=v[g];if(y[0]===this.eightString){y[1]={h:p.toString(36)};break}}break}}if(e.n===this.styleElementCode&&e.h.length>this.hashingThreshold){p=er.hash(e.h,0);if(this.hashes[p])for(var S,E=0,b=l;E<b.length;E++)if((S=b[E])[0]===this.hString){S[1]={h:p.toString(36)};break}}}return[t,l]},ir);function ir(e){this.format="HJSON",this.version="1.0",this.styleElementCode=17,this.hashingThreshold=Math.pow(2,13),this.eightString="8",this.attributeString="a",this.hString="h",this.childString="c",this.colonString=":",this.semicolonString=";",this.hashes=e,this.useHashing=Ci(e)}let rr=tr,sr=T.search,nr=(sr.deep=T.deep,sr.search=T.search,sr.matches=T.matches,sr.matchesSelector=T.matchesSelector,sr.getText=T.getText,sr);var or=function(e,o,a,l){return new(a=a||Promise)(function(i,t){function r(e){try{n(l.next(e))}catch(e){t(e)}}function s(e){try{n(l.throw(e))}catch(e){t(e)}}function n(e){var t;e.done?i(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,s)}n((l=l.apply(e,o||[])).next())})},ar=function(r,s){var n,o,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=s.call(r,l)}catch(e){t=[6,e],o=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},lr=(hr.prototype._init=function(){return or(this,void 0,void 0,function(){var a=this;return ar(this,function(e){return[2,new Promise(function(e,t){setTimeout(function(){t()},5e3),a.i=0;var i,r='/*!\n * Copyright Medallia Inc.\n * https://www.medallia.com\n *\n */(()=>{function a(t,e){return t&&t.hasOwnProperty(e)}function c(t){return null!==t&&"object"==typeof t}function h(t,e,s){if(c(t))for(var r in t)a(t,r)&&e.call(s,t[r],r,t)}(s=u=u||{}).DEBUG="DEBUG",s.CONFIG="CONFIG",s.INFO="INFO",s.WARN="WARN",s.ERROR="ERROR",(s=l=l||{}).READY_EXEC="Error caught in ready function",s.GLOBAL_READY="Error caught in global ready function",s.SOCKET_ON_MESSAGE="Error caught in socket message processing",s.AJAX="Error caught in AJAX method execution",s.JSON="Unable to parse JSON structure",s.CAUGHT_ERROR="JS Execution Error Occured",s.C_JSON_CACHE="Cached c.json is detected";var u,l,d,f={attrSel:/\\[\\s*class\\s*\\$=/,boolFalse:/^(false|0)$/i,boolTrue:/^(true|1)$/i,bot:/(sp[iy]der|[a-z\\/_]bot|crawler|slurp|teoma)/i,canvasCss:/(^|\\s+|>|,|}|{)\\bcanvas\\b/gi,cc:/\\b(\\d{4}([\\s-]?)\\d{4}\\2\\d{4}\\2(?:(?:\\d{4}\\2\\d{3})|(?:\\d{2,4})))\\b/g,comment:/\x3c!--(.|[\\r\\n])*?--\x3e/gi,commentFrag:/(\x3c!--|--\x3e)/gi,css:/\\.css$/i,cssComment:/\\/\\*(.|[\\r\\n])*?\\*\\//gi,cssUrl:/url[\\s]*\\([\\s]*([\'"]?)(.*?)(\\1)[\\s]*\\)/g,cssEscaped:/(\\\\([0-9a-fA-F]{6}))|(\\\\([0-9a-fA-F]+)(\\s+|(?=[^0-9a-fA-F])))/g,da:/^da_/,diTest:/\\/i\\/([0-9]+\\/)?[0-9]+\\/di\\.js$/i,dU:/^data:[a-zA-Z]{2,6}\\/([a-zA-Z]{2,4})(\\+[a-zA-Z]{2,4})?;base64/,dWidthHeight:/device-(width|height)[\\s]*:/gi,email:/(^|[>\\s({\\[\\|,;:"\'])([a-z0-9][a-z0-9._-]{0,30}@[a-z0-9-]{1,30}\\.+[a-z0-9]{2,5})/gi,eProt:/^\\/\\//,erTest:/^Script error\\.?$/i,escape:/["\\\\\\x00-\\x1f\\x7f-\\x9f]/g,fSel:/(name="|field-id=")/,hasProt:/^[a-z]+:/i,hrefC:/^javascript: ?(void|;)/i,hUrlFix:/^.+?(\\.app\\/|\\/files\\/)/,hAssetFix:/^file:\\/\\/\\/(.+?\\.app\\/|(android_asset\\/)|(android_res\\/))/,hoverQueryFix:/(\\(| )hover(\\s*)\\.di-hover/gi,idFix:/(:|\\.|\\[|\\]|,|\\{|\\})/g,iframeCss:/(^|\\s+|>|,|}|{)\\biframe\\b/gi,igQH:/[\\?#].*$/,importIgnore:/@import [^;]+;/gi,importUrl:/@import[\\s]+([\'"])(.*?)(\\1)/g,inValAttr:/\\(\\)\\{\\}\\[\\]\\$/,invalidInput:/^(datetime-local|datetime|time|week|month|date|number)$/i,js:/\\.js(\\?.*|$)/i,jsO:/(\\.js|\\/[^\\.]+)$/i,jsEType:/(.+):/i,lb:/[\\r\\n\\s]+/g,lComSp:/^[, \\t\\n\\r\\u000c]+/,lNSp:/^[^ \\t\\n\\r\\u000c]+/,lNCom:/^[^,]+/,lowerEncoded:/%([0-9A-F]{2})/gi,mask:/[^\\s]/g,maskReducer:/(\\*+)/g,media:/all|screen|handheld|min-|max-|resolution|color|aspect-ratio/i,nat:/^\\s*function[^{]+{\\s*\\[native code\\]\\s*}\\s*$/,newDiPath:/\\/i\\/[0-9]+\\/[0-9]+\\/(di\\.js|c\\.json)$/i,protR:/^(https?):\\/\\//i,pseudoFix:/:(hover|invalid)/gi,punctuationEscaped:/\\\\([:\\/.?=])(?![^\\[]*\\])/g,regex:/^\\/(.*?)\\/([gim]*)$/,sp:/ {2,}/g,stack:/^\\s*(?:at)?\\s* (.*?)@? ?\\(?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,spaceOnly:/^[ \\n\\t\\r]+$/,ssn:/\\d{3}-\\d{2}-\\d{4}/gi,stW:/(^| )width: /,stH:/(^| )height: /,tCom:/[,]+$/,textarea:/<textarea(.*? data-di-mask.*?)>([\\s\\S]*?)<\\/textarea>/gi,trim:/^\\s+|\\s+$/g,trimSpCom:/^[,\\s]+|[,\\s]+$/g,urlFix:/1\\.[0-9]\\.[0-9]\\.[0-9]+\\/bmi\\//gi,val:/ value=["\']([^"]+)["\']/,valId:/^[a-z][a-z0-9_\\-:\\.]*$/i,vartest:/^[a-zA-Z0-9 _$\\.\\[\\]\'"]+$/,xmlns:/www\\.w3\\.org\\/[0-9]{4}\\/([a-zA-Z]+)/i};function n(t){return null==t||""===t}function o(t,e,s,r){try{e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return{};for(var s=t[0],r=0,o=t;r<o.length;r++){var i,n=o[r];for(i in n)a(n,i)&&(s[i]=n[i])}return t[0]}({},e);var o=new XMLHttpRequest,i=function(t){t=t||{type:"error"},r&&r(o.status||t.type)},n=function(t){200===o.status?s&&s(o.responseText):i(t)};"onload"in o?(o.onload=n,o.onerror=i,o.onabort=i,o.ontimeout=i):o.onreadystatechange=function(){4===o.readyState&&n()},o.open(e.method||(e.data?"POST":"GET"),t,!1!==e.async),!1!==e.async&&("number"==typeof e.timeout?o.timeout=e.timeout:o.timeout=self.vars.xhrTO),o.withCredentials=!0,e.nocache&&(o.setRequestHeader("Cache-Control","no-cache"),o.setRequestHeader("Pragma","no-cache"),self.vars.isFF)&&o.setRequestHeader("If-None-Match",""),h(e.extraHeader,function(t,e){o.setRequestHeader(e,t)}),o.send(e.data)}catch(t){d.processError("AJAX",t,u.ERROR,l.AJAX)}}function e(t){for(var e=self._da_crcTable||(self._da_crcTable=(()=>{for(var t=[],e=0;e<256;e++){for(var s=e,r=0;r<8;r++)s=1&s?3988292384^s>>>1:s>>>1;t[e]=s}return t})()),s=-1,r=0,o=t.length;r<o;r++)s=s>>>8^e[255&(s^t.charCodeAt(r))];return(-1^s)>>>0}function i(t){return"function"==typeof t}function p(t,e){for(var s,r=2;r<arguments.length;r++)r-2,0;return i(t)?(s=Array.prototype.slice.call(arguments,2),function(){return t.apply(e||this,s.concat(Array.prototype.slice.call(arguments)))}):null}function k(t){function r(t){return t.match(f.escape)?t.replace(f.escape,function(t){var e=s[t];return"string"==typeof e?e:(e=t.charCodeAt(0),"\\\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))}):t}var o,i,n=typeof t,s={"\\b":"\\\\b","\\t":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"};return c(t)?(o=[],i=t.constructor===Array,h(t,function(t,e){var s;"string"===(n=typeof t)?t=\'"\'+r(t)+\'"\':(s=t)&&s.nodeName?t=\'"[object HTMLElement]"\':null!==n&&"object"===n&&null!==t&&(t=k(t)),o.push((i?"":k(e)+":")+String(t))}),(i?"[":"{")+String(o)+(i?"]":"}")):("string"===n&&(t=\'"\'+r(t)+\'"\'),String(t))}function r(){return"undefined"!=typeof JSON&&JSON.stringify&&(t=JSON.stringify,f.nat.test(t))?JSON.stringify:k;var t}function t(){this.socketRAT=[500,1e3,2500,5e3,1e4,2e4,4e4,6e4],this.failedMaxTry=3,this.speedSent=0,this.maxSpeedSent=25,this.status={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},this.socket={},this.hasSocket="function"==typeof WebSocket,this.sBuf=[],this.socketRTO=null,this.socketRT=0,this.socketFailed=!1,this.sQ={}}(d||(d={})).processError=function(t,e,s,r){var o,i;s=s||u.INFO,n(e)||(i=!1,(o=e).name?i=o.name.trim():o.stack&&(i=!!(o=o.stack.match(f.jsEType))&&o[1]),o=i||"",i=(t=>{if(!t)return[];for(var e=[],s=0,r=t.split("\\n");s<r.length;s++){var o=r[s],o=f.stack.exec(o);o&&5<=o.length&&e.push({function:o[1],line:parseInt(o[3]),col:parseInt(o[4])})}return e})(e.stack),self.workerFunctions.sendToDI({key:["handleProcessedException"],param:[t,o,i,s,r]}))},t.prototype.send=function(e){var t,s=this;if(this.socU=e.socU,this.xhrU=e.xhrU,e.data&&!e.retryCount){if(c(e.data)&&(e.data=(t=e.data,r()(t))),e.dataLength=e.data.length,e.preparedParam+="&dl="+e.dataLength,144e5<e.dataLength)return void self.workerFunctions.sendToDI({key:["postInfo"],param:["extra",{entityTooLarge:1}]});self.workerFunctions.sendToDI({key:["addDSize"],param:[e.dataLength]})}this.xhrSocket(e,function(t){return e.callback&&e.callback(t)},function(t){e.retryCode=t,e.retryCount=(e.retryCount||0)+1,s.sendFailedBuffer(e)})},t.prototype.sendFailedBuffer=function(t){var e=this;t.retryCount<this.failedMaxTry&&setTimeout(function(){t.retryCode&&-1===t.preparedParam.indexOf("&retryCode=")&&(t.preparedParam+="&retryCode="+t.retryCode),e.send(t)},1===t.retryCount?250:500)},t.prototype.xhrSocket=function(t,e,s){var r=this.socketActive();r&&!1!==t.process?this.socketTry(t,e,s):(r||this.reconnectSocket(),this.ajaxTry(t,e,s))},t.prototype.ajaxTry=function(t,e,s,r){r&&-1===t.preparedParam.indexOf("retryCode")&&(t.preparedParam+="&retryCode="+r),o(this.xhrU+"?"+t.preparedParam,t,e,s)},t.prototype.socketTry=function(t,e,s){var r=this.socket.readyState;r===this.status.OPEN?this.socketSend(t,e,s):r===this.status.CLOSING||r===this.status.CLOSED?(this.setSocketFailed(!0),this.ajaxTry(t,e,s,"socketDisConnected")):(this.sBuf.push({opt:t,sFn:e,fFn:s}),this.socketConnect())},t.prototype.socketConnect=function(t){var e=this,s=this.socket.readyState;if(s!==this.status.OPEN&&s!==this.status.CONNECTING)try{this.socket=new WebSocket(t||this.socU),t&&(this.socket.altSocketURL=t),this.socket.addEventListener("message",p(this.socketOnMessage,this)),this.socket.addEventListener("open",p(this.socketFlush,this)),this.socket.openTimeout=setTimeout(p(this.socketFlush,this,!0),500),this.socket.addEventListener("error",function(){t||6!==e.socU.indexOf("cdn.")||(clearTimeout(e.socket.openTimeout),e.socketConnect(e.socU.replace("cdn.","collection.")))})}catch(t){}},t.prototype.reconnectSocket=function(){var t=this.socket.readyState;this.hasSocket&&t!==this.status.OPEN&&t!==this.status.CONNECTING&&null===this.socketRTO&&(this.socketRTO=setTimeout(p(this.socketConnect,this),this.socketGetRT()))},t.prototype.socketGetRT=function(){var t=this.socketRAT[Math.min(((t,e,s)=>{if(e)for(var r=e.length,o=0;o<r;o++)if(e[o]&&(s?e[o][s]:e[o])===t)return o;return-1})(this.socketRT,this.socketRAT)+1,this.socketRAT.length-1)];return this.socketRT=t},t.prototype.socketFlush=function(t){if(clearTimeout(this.socket.openTimeout),!0===t){this.setSocketFailed(!0),this.socket.conTimeout=!0;for(var e=0,s=this.sBuf;e<s.length;e++){var r=s[e];this.ajaxTry(r.opt,r.sFn,r.fFn,"socketNotConnected")}}else{this.setSocketFailed(!1),this.socket.altSocketURL&&(this.socU=this.socket.altSocketURL,self.workerFunctions.sendToDI({key:["setSocU"],param:[this.socket.altSocketURL]})),this.socketRT=0,this.socketRTO=null,this.socket.conTimeout&&(this.socket.conTimeout=!1,this.socket.slowCon=!0);for(var o=0,i=this.sBuf;o<i.length;o++){r=i[o];this.socketSend(r.opt,r.sFn,r.fFn)}this.socket.pingTimer=setInterval(p(this.socketPing,this),2e4)}this.sBuf=[]},t.prototype.socketSend=function(t,e,s){var r=this;this.socket.slowCon&&-1===t.preparedParam.indexOf("retryCode")&&(t.preparedParam+="&retryCode=socketSlowConnection",this.socket.slowCon=!1),this.sQ[t.key]={sFn:e,fFn:s,t:Date.now()},this.socket.send(t.preparedParam+"&wsReqId="+t.key.substr(1)+"\\n"+t.data),setTimeout(function(){r.sQ[t.key]&&(r.setSocketFailed(!0),r.socketFnExe(r.sQ[t.key].fFn,"socketTimeout"),delete r.sQ[t.key])},self.vars.xhrTO)},t.prototype.socketOnMessage=function(t){var e,s;try{"pong"!==t.data&&(s="k"+(e=JSON.parse(t.data)).id,this.sendLiveDXSToDI(e)),this.sQ[s]&&(e.success?(this.socketFnExe(this.sQ[s].sFn),this.speedSent<this.maxSpeedSent&&(self.workerFunctions.sendToDI({key:["networkSpeedCollection","collectWSSNetworkSpeed"],param:[e,this.sQ[s].t,Date.now()]}),++this.speedSent)):(this.setSocketFailed(!0),this.socketFnExe(this.sQ[s].fFn,"socketError")),delete this.sQ[s])}catch(t){this.setSocketFailed(!0),this.socketClose(),this.hasSocket=!1,d.processError("DINetwork",t,u.ERROR,l.SOCKET_ON_MESSAGE)}},t.prototype.socketFnExe=function(t,e){i(t)&&t(e)},t.prototype.setSocketFailed=function(t){this.socketFailed=t,self.workerFunctions.sendToDI({key:["net","socketFailed"],value:t})},t.prototype.socketPing=function(){this.socket.readyState===this.status.OPEN?this.socket.send("ping"):clearInterval(this.socket.pingTimer)},t.prototype.socketActive=function(){return this.hasSocket&&!this.socketFailed},t.prototype.socketClose=function(){this.socket.readyState===this.status.OPEN&&this.socket.close()},t.prototype.sendLiveDXSToDI=function(t){"live_dxs"!==t.type&&"live_dxs_ks"!==t.type||self.workerFunctions.sendToDI({key:["realTime","processRealTime"],param:[t]})};var s=t;function g(){this.version="1.0",this.format="DJSON",this.reset()}g.prototype.reset=function(){this.dictionary={},this.dictionaryLength=1},g.prototype.recurSerialize=function(t){var e;return e=t,(Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e))?this.convertArray(t):this.convertObject(t)},g.prototype.convertArray=function(t){for(var e=[0],s=0,r=t.length;s<r;s++){var o=t[s];c(o)&&(o=this.recurSerialize(o)),e.push(o)}return e},g.prototype.convertObject=function(t){for(var e="",s=[0],r=0,o=Object.keys(t);r<o.length;r++){var i=o[r],n=t[i];c(n)&&(n=this.recurSerialize(n)),e+=i+";",s.push(n)}return s[0]=this.lookupEntryOrAdd(e),s},g.prototype.lookupEntryOrAdd=function(t){var e;return""===t?0:((e=this.dictionary[t])||(e=this.dictionaryLength,this.dictionary[t]=e,this.dictionaryLength++),e)},g.prototype.serialize=function(t,e){return this.reset(),c(t)&&(t=this.recurSerialize(t)),e?t:{v:t,d:Object.keys(this.dictionary),f:this.format,vr:this.version}};var y=g;function S(){}S.hash=function(t,e){var s,r,o,i,n=(t=>{for(var e=[],s=0;s<t.length;s++){var r=t.charCodeAt(s);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(s++,r=65536+((1023&r)<<10|1023&t.charCodeAt(s)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e})(t),t=e,e=3&n.length,a=n.length-e,c=(s=t,3432918353),h=461845907;for(i=0;i<a;)o=255&n[i]|(255&n[++i])<<8|(255&n[++i])<<16|(255&n[++i])<<24,++i,s=27492+(65535&(r=5*(65535&(s=(s^=o=(65535&(o=(o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295)<<15|o>>>17))*h+(((o>>>16)*h&65535)<<16)&4294967295)<<13|s>>>19))+((5*(s>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(o=0,e){case 3:o^=(255&n[i+2])<<16;case 2:o^=(255&n[i+1])<<8;case 1:o^=255&n[i],s^=o=(65535&(o=(o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295)<<15|o>>>17))*h+(((o>>>16)*h&65535)<<16)&4294967295}return s=2246822507*(65535&(s=(s^=n.length)^s>>>16))+((2246822507*(s>>>16)&65535)<<16)&4294967295,s=3266489909*(65535&(s^=s>>>13))+((3266489909*(s>>>16)&65535)<<16)&4294967295,(s^=s>>>16)>>>0};let T=S;function m(t){this.format="HJSON",this.version="1.0",this.styleElementCode=17,this.hashingThreshold=Math.pow(2,13),this.eightString="8",this.attributeString="a",this.hString="h",this.childString="c",this.colonString=":",this.semicolonString=";",this.hashes=t,this.useHashing=(t=>{var e,s=c(t),r=!1;for(e in t)if(a(t,e)){r=!0;break}return s&&r})(t)}m.prototype.serialize=function(t,e){return c(t)&&(t=this.minTree(t)[1]),e?t:{f:this.format,vr:this.version,v:t}},m.prototype.convertObject=function(t){var e=t;if(c(t))for(var e=[],s=0,r=Object.keys(t);s<r.length;s++){var o=r[s];e.push([o,this.convertObject(t[o])])}return e},m.prototype.minTree=function(t){var e=0,s=t.c;if(s&&0!==s.length){for(var r=[],o=0,i=s;o<i.length;o++){var n,a=i[o],a=this.minTree(a);this.useHashing&&(n=a[0].toString()+this.semicolonString,e=T.hash(n,e)),r.push(a[1])}for(var c=[],h=0,u=Object.keys(t);h<u.length;h++){var l,d=u[h];d!==this.childString&&(l=this.convertObject(t[d]),c.push([d,l]),this.useHashing)&&(e=T.hash(d+this.colonString+JSON.stringify(l),e))}this.hashes[e]?c={h:e.toString(36)}:c.push([this.childString,r])}else if(c=this.convertObject(t),this.useHashing){if(e=T.hash(JSON.stringify(c),0),this.hashes[e])c={h:e.toString(36)};else if(t.a&&"string"==typeof t.a[this.eightString]&&t.a[this.eightString].length>this.hashingThreshold){var f=T.hash(t.a[this.eightString],0);if(this.hashes[f])for(var p=0,k=c;p<k.length;p++)if((m=k[p])[0]===this.attributeString){for(var g=0,y=m[1];g<y.length;g++){var S=y[g];if(S[0]===this.eightString){S[1]={h:f.toString(36)};break}}break}}if(t.n===this.styleElementCode&&t.h.length>this.hashingThreshold){f=T.hash(t.h,0);if(this.hashes[f])for(var m,v=0,O=c;v<O.length;v++)if((m=O[v])[0]===this.hString){m[1]={h:f.toString(36)};break}}}return[e,c]};let v=m;self.workerFunctions={},self.workerFunctions.DJSON=new y,self.workerFunctions.DJSONSerialize=function(t){return self.workerFunctions.DJSON.serialize(t.data,t.partialDom)},self.workerFunctions.HJSONInit=function(t){self.workerFunctions.HJSON=new v(t)},self.workerFunctions.HJSONSerialize=function(t){return self.workerFunctions.HJSON.serialize(t.data,t.partialDom)},self.workerFunctions.ajaxExecute=function(t,e){o(t.url,t.options,function(t){e({success:!0,responseText:t})},function(t){e({success:!1,status:t})})},self.workerFunctions.diNetwork=new s,self.workerFunctions.diNetworkSend=function(t,e){t.callback=e,self.workerFunctions.diNetwork.send(t)},self.workerFunctions.diNetworkSocketClose=function(){self.workerFunctions.diNetwork.socketClose()},self.workerFunctions.hash=function(t){return e((t=""+(n(t)?"":t)).substr(0,t.length/2)).toString(16)+"-"+e(t.substr(t.length/2)).toString(16)},self.workerFunctions.sendToDI=function(t){try{postMessage({id:"DI",message:t})}catch(t){}},onmessage=function(t){if(!self.workerFunctions[t.data.procMethodName])throw new Error("No such processing method defined in worker: "+t.data.procMethodName);var e={id:t.data.id,message:null,procMethodName:t.data.procMethodName},t=self.workerFunctions[t.data.procMethodName](t.data.message,function(t){e.message=t,postMessage(e)});void 0!==t&&(e.message=t,postMessage(e))}})();',s="self.vars = "+JSON.stringify(c)+";";try{i=new Blob([s,r],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);n.append(s),n.append(r),i=n.getBlob("application/javascript")}var s=(window.URL||window.webkitURL).createObjectURL(i),o=(a.worker=new Worker(s),a);a.worker.onmessage=function(e){o.resultCallbacks[e.data.id]?(o.resultCallbacks[e.data.id](e.data.message),delete o.resultCallbacks[e.data.id]):"DI"===e.data.id&&o.processIncoming(e.data.message)},e()})]})})},hr.prototype.processIncoming=function(e){if(e.key){for(var t=v,i=e.key.length-1,r=0;r<i;r++)t=t[e.key[r]];void 0!==e.param?t[e.key[i]].apply(t,e.param):t[e.key[i]]=e.value}},hr.prototype.process=function(e,t,i){i&&(this.resultCallbacks[this.i]=i);i={id:this.i,message:t,procMethodName:e};this.i++,this.worker.postMessage(i)},hr);function hr(){this.resultCallbacks=new Map}var cr,dr,ur,pr,fr=function(e,o,a,l){return new(a=a||Promise)(function(i,t){function r(e){try{n(l.next(e))}catch(e){t(e)}}function s(e){try{n(l.throw(e))}catch(e){t(e)}}function n(e){var t;e.done?i(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,s)}n((l=l.apply(e,o||[])).next())})},mr=function(r,s){var n,o,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=s.call(r,l)}catch(e){t=[6,e],o=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function gr(){this.listeners=[]}e=cr=cr||{},dr=null,e.init=function(){return fr(this,void 0,void 0,function(){return mr(this,function(e){switch(e.label){case 0:return window.Worker?[4,(dr=new lr)._init()]:[3,2];case 1:return e.sent(),[3,3];case 2:a("DXA warning: This browser doesn't support web workers."),e.label=3;case 3:return[2]}})})},e.process=function(e,t,i){dr&&dr.process(e,t,i)},(ur||(ur={})).serialize=function(e,t,i){cr.process("DJSONSerialize",{data:e,partialDom:t},i)},(e=pr=pr||{}).init=function(e){cr.process("HJSONInit",e)},e.serialize=function(e,t,i){cr.process("HJSONSerialize",{data:e,partialDom:t},i)},gr.prototype.addListener=function(e){-1===this.listeners.indexOf(e)&&this.listeners.push(e),this.addHook()},gr.prototype.removeListener=function(e){e=this.listeners.indexOf(e);-1!==e&&this.listeners.splice(e,1),this.removeHook()},gr.prototype.addHook=function(){var r=this;!Element.prototype.di_attachShadow&&Element.prototype.attachShadow&&(Element.prototype.di_attachShadow=Element.prototype.attachShadow,Element.prototype.attachShadow=function(){var e=Element.prototype.di_attachShadow.apply(this,arguments);try{if(e.host&&0<"[native code]".length)for(var t=0,i=r.listeners;t<i.length;t++)(0,i[t])([{target:e.host,type:"childList",removedNodes:[],addedNodes:[e]}])}catch(e){}return e})},gr.prototype.removeHook=function(){0===this.listeners.length&&Element.prototype.di_attachShadow&&(Element.prototype.attachShadow=Element.prototype.di_attachShadow,delete Element.prototype.di_attachShadow)};var e=gr;function vr(){this.webApis=["CSSGroupingRule","CSSMediaRule","CSSSupportsRule","CSSPageRule","CSSStyleSheet"],this.methodNames=["insertRule","deleteRule","addRule","removeRule","replace","replaceSync"],this.replaceMethodNames=["replace","replaceSync"],this.contexts=[],this.listeners=[]}vr.prototype.addListener=function(e,t){"function"==typeof e&&-1===this.listeners.indexOf(e)&&this.listeners.push(e),this.addHook(t)},vr.prototype.removeListener=function(e){e=this.listeners.indexOf(e);-1!==e&&this.listeners.splice(e,1),this.removeHook()},vr.prototype.addHook=function(t){for(var n=this,e=("[object Window]"===(t=void 0===t?l:t).toString()&&-1===this.contexts.indexOf(t)&&this.contexts.push(t),0),i=this.webApis;e<i.length;e++){var r=(e=>{if(!t[e])return{value:void 0};var s=t[e];!s.prototype.di_insertRule&&s.prototype.insertRule&&(s.prototype.di_insertRule=s.prototype.insertRule,s.prototype.insertRule=function(e,t){try{if(n.listeners)for(var i=0,r=n.listeners;i<r.length;i++)(0,r[i])({el:this,addedRule:e,addedIndex:t})}catch(e){}return s.prototype.di_insertRule.apply(this,arguments)}),!s.prototype.di_deleteRule&&s.prototype.deleteRule&&(s.prototype.di_deleteRule=s.prototype.deleteRule,s.prototype.deleteRule=function(e){try{if(n.listeners)for(var t=0,i=n.listeners;t<i.length;t++)(0,i[t])({el:this,deletedIndex:e})}catch(e){}return s.prototype.di_deleteRule.apply(this,arguments)})})(i[e]);if("object"==typeof r)return r.value}this.addDeprecatedMethods(t),this.addReplaceMethods(t)},vr.prototype.addDeprecatedMethods=function(e){var n=this,o=e.CSSStyleSheet;!o.prototype.di_addRule&&o.prototype.addRule&&(o.prototype.di_addRule=o.prototype.addRule,o.prototype.addRule=function(e,t,i){try{if(n.listeners)for(var r=0,s=n.listeners;r<s.length;r++)(0,s[r])({el:this,addedRule:e+" {"+t+"}",addedIndex:i})}catch(e){}return o.prototype.di_addRule.apply(this,arguments)}),!o.prototype.di_removeRule&&o.prototype.removeRule&&(o.prototype.di_removeRule=o.prototype.removeRule,o.prototype.removeRule=function(e){try{if(n.listeners)for(var t=0,i=n.listeners;t<i.length;t++)(0,i[t])({el:this,deletedIndex:e})}catch(e){}return o.prototype.di_removeRule.apply(this,arguments)})},vr.prototype.addReplaceMethods=function(e){for(var s=this,n=e.CSSStyleSheet,t=0,i=this.replaceMethodNames;t<i.length;t++)(r=>{!n.prototype["di_"+r]&&n.prototype[r]&&(n.prototype["di_"+r]=n.prototype[r],n.prototype[r]=function(e){try{if(s.listeners)for(var t=0,i=s.listeners;t<i.length;t++)(0,i[t])({el:this,replacedText:e})}catch(e){}return n.prototype["di_"+r].apply(this,arguments)})})(i[t])},vr.prototype.removeHook=function(){for(var e=0,t=this.webApis;e<t.length;e++)for(var i=t[e],r=0,s=this.contexts;r<s.length;r++){var n=s[r];if(!n[i])return;for(var o=n[i],a=0,l=this.methodNames;a<l.length;a++){var h=l[a];0===this.listeners.length&&o.prototype["di_"+h]&&(o.prototype[h]=o.prototype["di_"+h],delete o.prototype["di_"+h])}}this.contexts=[]};var yr=vr;function Sr(){}Sr.prototype.send=function(e){var t=e.callback;delete e.callback,e.xhrU=v.xhrU,e.socU=v.socU,cr.process("diNetworkSend",e,function(){t&&t()})},Sr.prototype.socketClose=function(){cr.process("diNetworkSocketClose",{})};let Er=Sr,br=(Cr.prototype.postInfo=function(e,t,i){v.canCollect()&&((i=Fe({time:I()},i)).time-v.getInteractionModuleField("lInt")>k.sessionTimeout&&(v.dataColl.active=!1,this.net.socketClose(),v.endColl()),this.clearHTMLPatch(t),i.imp?this.send(e,t,i):"exit"===e?this.postMulti({async:!1,extraParam:"&ex=1"}):"flush"!==e&&(this.pB.push({type:e,data:t,offset:g.max(0,g.floor((i.time-v.getPageTime())/1e3))}),!this.canPostMulti(i))||this.postMulti())},Cr.prototype.send=function(e,t,i){this.rId++,(i=Fe({},i)).key=i.key||"k"+this.rId,i.data=null,i.type=e,f(t)||(i.data=t),this.setPreparedParam(e,i),this.pBLT=I(),F("di_last_session_time",v.getInteractionModuleField("lInt")),S.boolTrue.test(E(u.body,"di-heatmap"))||(this.triggerForExt(i),M.sendBeacon&&(!1===i.async||v.unloadInProgress)?this.sendWithBeacon(i):this.net.send(i))},Cr.prototype.triggerForExt=function(e){this.socketActive()&&ki("disocketdata",{url:e.preparedParam,postBody:e.data})},Cr.prototype.sendWithBeacon=function(e){if(e.data){if(p(e.data)&&(e.data=ai(e.data)),e.dataLength=e.data.length,e.preparedParam+="&dl="+e.dataLength,144e5<e.dataLength)return void v.postInfo("extra",{entityTooLarge:1});v.dSize+=e.dataLength}M.sendBeacon(this.getDataAjaxPath(e),e.data)||(e.retryCode="beaconError",e.crossPage=!0,e.retryCount=1,e.async=!0,F("d_failedBeacon",ai(e)))},Cr.prototype.checkFailedBeacon=function(){var e=D("d_failedBeacon");f(e)||(e=Ai(e)).key&&this.net.send(e)},Cr.prototype.socketClose=function(){this.net.socketClose()},Cr.prototype.setPreparedParam=function(e,t){var i="",r=f(v.jspsf)?"":"&jspsf="+v.jspsf,s=null!=(s=v.realTime)&&s.enabled?"&ldxs=1":"",n=k.ipHandling?"&dnt=1":"",o=f(t.dataLength)?"":"&dl="+t.dataLength;!1!==t.process&&(i="&dc="+ ++v.dC),v.pvId=g.abs(v.getPageTime()),t.preparedParam="type="+e+"&wid="+v.wId+"&sid="+v.sId+r+s+"&pvid="+v.pvId+(t.extraParam||"")+n+i+"&dv="+c.dataVer+o},Cr.prototype.getDataAjaxPath=function(e){return v.xhrU+"?"+e.preparedParam},Cr.prototype.clearHTMLPatch=function(e){k.disableHTMLContent&&e&&(e.jP&&(e.jP={}),e.html)&&(e.html="")},Cr.prototype.postMulti=function(e){this.pB.length&&(this.send("multi",this.pB,e),this.pB=[])},Cr.prototype.canPostMulti=function(e){return!e.onExit&&(this.pB.length>(this.socketActive()?0:1)||5e3<e.time-this.pBLT)},Cr.prototype.socketActive=function(){return c.hasSoc&&!this.socketFailed},Cr);function Cr(){this.rId=0,this.pB=[],this.pBLT=I(),this.socketFailed=!1,this.net=new Er}var Tr,Rr,Ir,_r,xr=br;function kr(e){this.namespace=e}(Tr||(Tr={})).execute=function(e,t,i,r){e={url:e,options:{}},t&&(e.options={data:t.data,async:t.async,timeout:t.timeout,method:t.method,nocache:t.nocache,extraHeader:t.extraHeader}),cr.process("ajaxExecute",e,function(e){p(e)&&(e.success?i&&i(e.responseText):r&&r(e.status))})},(Kr=Rr=Rr||{}).SEND_FRAMED_PAGE="send_framed_pageview",Kr.SEND_PARENT_PAGE="send_parent_pageview",Kr.REQUEST_SESSION="request_session",Kr.RESPONSE_SESSION="response_session",kr.prototype.addListener=function(t){var i=this;l.addEventListener("message",function(e){e.data&&e.data.namespace&&i.matchesNamespace(e.data.namespace)&&t(e)})},kr.prototype.postMessage=function(e,t,i,r){t={namespace:this.namespace,type:t,payload:r};e.postMessage&&e.postMessage(t,i)},kr.prototype.matchesNamespace=function(e){return e===this.namespace};let Or=kr,Dr=(Fr.prototype.checkFramed=function(){l.self!==l.top&&this.messenger.postMessage(l.parent,Rr.SEND_FRAMED_PAGE,"*",{aId:v.aId,wId:v.wId,sId:v.sId,pvId:v.pvId})},Fr.prototype.checkParent=function(t){function i(){setTimeout(function(){r.checkParentTO=setTimeout(function(){r.checkParentCallback()},1e3),r.messenger.postMessage(l.top,Rr.REQUEST_SESSION,"*",{aId:k.accountNumber,wId:k.websiteId})},500)}var r=this;this.checkParentCallback=function(e){clearInterval(r.checkParentTO),t(e),r.checkParentCallback=function(){}};if(l.top===l.self)this.checkParentCallback();else try{l.self.location.origin===l.top.location.origin?this.checkParentCallback():i()}catch(e){i()}},Fr.prototype.messageReceived=function(e){switch(e.data.type){case Rr.SEND_FRAMED_PAGE:this.framedPageReceived(e);break;case Rr.SEND_PARENT_PAGE:this.parentPageReceived(e);break;case Rr.REQUEST_SESSION:this.sessionRequestFromiFrame(e);break;case Rr.RESPONSE_SESSION:this.sessionResponseFromParent(e)}},Fr.prototype.sessionResponseFromParent=function(e){e=e.data.payload;e&&e.preparedHeader&&this.checkParentCallback(e.preparedHeader)},Fr.prototype.sessionRequestFromiFrame=function(e){var t=e.data.payload;t&&v&&v.sId&&this.isSameProperty(t.aId,t.wId)&&Ei(k.domains,e.origin)&&this.messenger.postMessage(e.source,Rr.RESPONSE_SESSION,"*",{preparedHeader:v.getExtraHeaders()})},Fr.prototype.findSourceFrame=function(t){return Array.prototype.slice.call(document.getElementsByTagName(y.iframe)).find(function(e){return e.contentWindow===t.source})},Fr.prototype.framedPageReceived=function(e){var t,i=e.data.payload;i&&this.isSameSession(i.sId,i.aId,i.wId)&&(t=this.findSourceFrame(e))&&(t.setAttribute("data-di-pvid",i.pvId),this.messenger.postMessage(e.source,Rr.SEND_PARENT_PAGE,"*",{aId:v.aId,wId:v.wId,sId:v.sId,pvId:v.pvId}))},Fr.prototype.parentPageReceived=function(e){e=e.data.payload;e&&this.isSameSession(e.sId,e.aId,e.wId)&&v.postInfo("meta",{parentPvid:e.pvId})},Fr.prototype.isSameSession=function(e,t,i){return e===v.sId&&t===v.aId&&i===v.wId},Fr.prototype.isSameProperty=function(e,t){return e===v.aId&&t===v.wId},Fr);function Fr(e){this.messengerNamespace="DXA_",this.messenger=new Or(this.messengerNamespace+e),this.messenger.addListener(w(this.messageReceived,this))}let wr=Dr;function Ar(e){return"string"==typeof e&&""!==e}function Pr(){}(_r=Ir=Ir||{}).sendFormData=function(e){v.postInfo("formview",{h:e.hash,su:e.submitted,igEr:e.ignoreEr,offset:I()-v.getPageTime()}),e.submitted=0,e.ignoreEr=0},_r.getFieldErFromAttr=function(e){var t=E(e,"data-di-field-error"),i=null!==t&&!S.boolFalse.test(t);return i=i&&(!S.boolTrue.test(t)&&Ar(t)?t:_r.getFieldErFromTag(e))},_r.getFieldErFromTag=function(e){var t,i=!0,e=E(e,"data-di-field-id")||e.id;return f(e)||Ar(t=(e=T.search('[data-di-field-error-for="'+e+'"]')).length?T.getText(e[0]):t)&&(i=t),i},_r.fixFieldSelector=function(e){return e="#"===e.charAt(0)&&-1!==e.indexOf(" ")?'[id="'+e.substr(1)+'"]':e},_r.getFormHash=function(e){var t,i=[],r=e.sel.replace("[data-di-form-track]","");if(-1!==r.indexOf("data-di-form-id"))t=r;else{for(var s in e.fields){s=e.fields[s];s&&i.push(s.sel+"-"+s.type)}i.sort(),t=i.join("|")}return di(t)},_r.getFieldVal=function(e){var t,i="",r=e.di_entry;return i=r?"group"===r.valueType?(t=T.search(_r.fixFieldSelector(r.sel)+":checked",r.form,!0)).length?t[0].value:"":"check"===r.valueType?e.checked?"1":"0":e.value:i},_r.isRequired=function(e){var t=0,i=E(e,m.required);return t=null!==i&&"false"!==i||(i=E(e,m.ariaRequired))&&"false"!==i?1:t},_r.getAvailFormSel=function(e,t){var i={},r=E(e,"data-di-form-id");return r?i["di-id"]='[data-di-form-track][data-di-form-id="'+r+'"]':(G(r=E(e,m.id))&&(i.id="#"+r.replace(S.idFix,"\\$1")),(r=E(e,m.name))&&(i.name='[data-di-form-track][name="'+r+'"]'),i.hash=i.id||i.name||"[data-di-form-track]:eq("+vi(e,t)+")",i.url=i.hash),i},_r.updateFieldEntry=function(e,t,i){e.el=i,e.form=t.el},_r.removeFieldEntry=function(e,t){t=t||e.el,"group"!==e.valueType&&delete t.di_entry},Pr.prototype.setDependency=function(e,t,i,r){this.formsModule=e,this.fEvents=t,this.fieldEvent=i,this.fSubmitter=r},Pr.prototype.formIndex=function(){var r=this;this.formsModule.f&&v.canCollect()&&(this.scanForm()?(this.formsModule.sendFormMeta(),this.scanAllFormError()):bi(this.formsModule.forms)&&F("di_sub_form"),null===this.formsModule.fcInt)&&(this.formsModule.fcInt=setInterval(function(){ji(r.formsModule.ffbind,function(e){var t,i=u.body.contains(e);return i&&(t=e).di_entry&&t!==u.activeElement&&Ir.getFieldVal(t)!==t.di_form_curValue&&w(r.fieldEvent.handler,r.fieldEvent)({type:"change",target:e}),!i})},200))},Pr.prototype.scanFormError=function(e){var t,i,r=ti(this.formsModule.getFormError(e.el)),s=r;for(t in e.fields)De(e.fields,t)&&(i=e.fields[t],this.scanFieldError(i,!0))&&(r=1,s++);return r&&v.postInfo("formview",{h:e.hash,er:r,offset:I()-v.getPageTime()}),s},Pr.prototype.scanFieldError=function(e,t){var i=e.form.di_entry,r=this.formsModule.getFieldError(e.el),s=ti(!!r||e.error),n=Ar(r)?r:e.errorStr||"";return t&&s?v.postInfo("fieldview",{s:e.sel,fh:i.hash,er:s,erStr:n,offset:I()-v.getPageTime()}):(e.error=s,e.errorStr=n),r},Pr.prototype.scanForm=function(){var e,t,i=[],r=[],s=!1;if(!v.canCollect())return!1;this.formsModule.addFormTracker(),this.formsModule.processFormDictionary();for(var n=T.search("[data-di-form-track]"),o=0,a=n.length;o<a;o++){var l,h=n[o];f(l=this.formsModule.getFormSel(h,n))||(f(t=this.formsModule.forms[l])?(t={el:h,sel:l,title:Vi(this.formsModule.getFormTitle(h)),hasTracker:ti(2===k.formCollection||!h.di_formDyn),submitted:0,fields:[],ignoreEr:0,formIndex:o},h.di_entry=t,(e=this.scanFields(t,r))?this.formsModule.forms[l]=t:delete h.di_entry):((h.di_entry=t).el!==h&&(delete t.el.di_entry,t.el=h),e=this.scanFields(t,r)),e&&(t.hash=Ir.getFormHash(t),s=s||e),h.di_event_added)||i.push(h)}return setTimeout(w(this.fEvents.addFormEvent,this.fEvents,i,r),100),s},Pr.prototype.scanFields=function(e,t){for(var i,r,s=!1,n=T.search("input,select,textarea,[data-di-field-include]",e.el,!0),o=k.ignoreFieldSelector,a=0,l=n.filter(function(e){return T.matchesSelector(e,":not([type=hidden],[type=submit],[type=reset],[type=image],[type=button]),[data-di-field-include]")&&!T.matchesSelector(e,o)});a<l.length;a++){var h=l[a],c=null==(c=h.type)?void 0:c.toLowerCase();(h.id||h.name||E(h,"data-di-field-id"))&&c&&(i=this.formsModule.getFieldSel(h),f(r=e.fields[i])?(r={el:h,form:e.el,sel:i,type:c,title:Vi(this.formsModule.getFieldTitle(h)).substring(0,127),name:h.name||"",diid:E(h,"data-di-field-id")||"",event:null,focustime:0,timespent:0,delay:0,interactions:0,completed:0,changed:0,valueType:this.formsModule.fieldValType(i,c),required:Ir.isRequired(h)},h.di_entry=r,e.fields[i]=r,s=!0):(h.di_entry=r,this.checkScannedElement(r,e,h)),c=Ir.getFieldVal(h),b(h.di_form_curValue)&&(h.di_form_curValue=c),b(h.di_form_comValue)&&(h.di_form_comValue=""),h.di_event_added||t.push(h))}return s},Pr.prototype.checkScannedElement=function(e,t,i){var r,s;e.el!==i&&(k.aggregateFields&&!f(e.diid)?Ir.updateFieldEntry(e,t,i):(r=T.matchesSelector(e.el,":visible"),s=T.matchesSelector(i,":visible"),r&&!s?Ir.removeFieldEntry(e,i):(Ir.removeFieldEntry(e),Ir.updateFieldEntry(e,t,i))))},Pr.prototype.scanAllFormError=function(){var e,t,i=this.formsModule.forms;for(e in i)De(i,e)&&((t=i[e]).initEr=this.scanFormError(t))};let Nr=Pr;function Mr(e){return e||l.event}function Lr(e){var t=e.path||e.composedPath&&e.composedPath();return t&&t.length?t[0]:e.target||e.srcElement}function jr(){}jr.prototype.setDependency=function(e,t,i){this.formsModule=e,this.fScanner=t,this.fieldEvent=i},jr.prototype.addFormEvent=function(e,t){for(var i=0,r=e;i<r.length;i++){var s=r[i];d(s,"submit",this.formEventSubmitFn,this),s.di_event_added=!0}for(var n=0,o=t;n<o.length;n++){var a=o[n];this.fieldEventFn(a)}},jr.prototype.checkFormValue=function(){for(var e,t="di_fieldVal"+v.getPageTime(),i=0,r=T.matches(':not([type="submit"],[type="reset"],[type="image"],[type="file"],[type="button"],[type="hidden"])',T.search("input,select,textarea"));i<r.length;i++){var s=r[i];b(s[t])&&(s[t]=""),e="radio"===(e=E(s,m.type))||"checkbox"===e?s.checked?"checked":"":s.value,s[t]!==e&&(s[t]=e,this.valueChanged(s))}},jr.prototype.formEventSubmitFn=function(e){e=Mr(e);var t=T.search("[data-di-form-track]");this.formsModule.formSubmitted(this.formsModule.getFormSel(Lr(e),t),e)},jr.prototype.fieldEventFn=function(e){var t=E(e,m.type)||(null==(t=e.type)?void 0:t.toLowerCase());d(e,"focus",this.fieldEvent.handler,this.fieldEvent),d(e,"keypress",this.fieldEvent.handler,this.fieldEvent),d(e,"blur",this.fieldEvent.handler,this.fieldEvent),d(e,"submit"===t||"reset"===t||"image"===t||"button"===t?"click":"change",this.fieldEvent.handler,this.fieldEvent),this.formsModule.ffbind.push(e),e.di_event_added=!0},jr.prototype.valueChanged=function(e){var t,i;v.isJ()&&(t=K(e),i=E(e,m.type),v.setInteractionModuleField("lInt",I()),t===y.select.toLowerCase()?v.jCur.fE["S:"+zt(e)]=e.selectedIndex:"radio"===i?v.jCur.fE["R:"+zt(e)]=ti(e.checked):"checkbox"===i?v.jCur.fE["C:"+zt(e)]=ti(e.checked):t!==y.input.toLowerCase()&&t!==y.textarea.toLowerCase()||this.inputValueChanged(e,t,i))},jr.prototype.inputValueChanged=function(e,t,i){var r=e.value.toString();T.matchesSelector(e,k.unmaskFieldSelector)&&"password"!==i||(r="__*"+r.length),v.jCur.fE["I:"+zt(e)]=r};let Ur=jr;function Hr(){this.cnt=0,this.cntForm=0,this.foECTries=0,this.foECMaxTries=5,this.foECInterval=null}Hr.prototype.setDependency=function(e,t){this.formsModule=e,this.fScanner=t},Hr.prototype.resetCounters=function(){this.cnt=0,this.cntForm=0},Hr.prototype.preSubmit=function(e,t){this.formNodeSel=e,this.event=t,this.resetCounters(),this.formsModule.addFormTracker(),this.formList=T.search(this.formNodeSel),this.formList.length?(this.formEl=this.formList[0],this.formSel=this.formsModule.getFormSel(this.formEl,this.formsModule.formsOnPage),f(this.formEl)||this.submitForm()):++this.cnt<10&&setTimeout(w(this.preSubmit,this),200)},Hr.prototype.submitForm=function(){var e;this.form=this.formsModule.forms[this.formsModule.getFormSel(this.formEl,this.formsModule.formsOnPage)],f(this.form)&&(this.formsModule.addFormTracker(),this.formList=T.search(this.formSel),this.formList.length)&&(this.form=this.formsModule.forms[this.formsModule.getFormSel(this.formList[0],this.formsModule.formsOnPage)]),f(this.form)?++this.cntForm<10&&setTimeout(w(this.submitForm,this),200):(this.form.submitted=1,this.form.ignoreEr=1,this.form.ajax=f(this.event),this.erCount=this.fScanner.scanFormError(this.form),f(this.event)||this.form.initEr!==this.erCount?(this.form.submitted=ti(!this.erCount),this.form.ignoreEr=0):f(this.event)||(F("di_sub_form",this.form.hash),this.formsModule.formSubmittedProgress=!0,setTimeout(w(this.checkFormPrevention,this),1e3)),this.form.initEr=this.erCount,e=this.form.submitted,Ir.sendFormData(this.form),this.watchForErrors(e))},Hr.prototype.watchForErrors=function(e){var t=this;e&&(clearInterval(this.foECInterval),this.foECInterval=setInterval(function(){t.foECTries>t.foECMaxTries&&(clearInterval(t.foECInterval),t.foECTries=0),t.form.initEr=t.fScanner.scanFormError(t.form),t.form.initEr?t.cancelSubmission():document.body.contains(t.form.el)||clearInterval(t.foECInterval),t.foECTries++},1e3))},Hr.prototype.checkFormPrevention=function(){var e;((e=this.event).defaultPrevented||void 0===e.defaultPrevented&&(!1===(e=e).returnValue||e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()))&&u.body.contains(this.form.el)&&(this.form.initEr=this.fScanner.scanFormError(this.form),this.form.initEr)&&D("di_sub_form")===this.form.hash&&this.cancelSubmission(),this.formsModule.formSubmittedProgress=!1,F("di_sub_form")},Hr.prototype.cancelSubmission=function(e){v.postInfo("formview",{h:(e||this.form).hash,cs:1,offset:I()-v.getPageTime()}),clearInterval(this.foECInterval)};let Vr=Hr,Br=(qr.prototype.setDependency=function(e,t){this.formsModule=e,this.fScanner=t},qr.prototype.handler=function(e){this.el=Lr(e),this.d=I(),this.fieldValue=Ir.getFieldVal(this.el),this.fieldEntry=this.el.di_entry,v.setInteractionModuleField("lInt",this.d),Ci(this.fieldEntry)&&("focus"===e.type?(this.fieldEntry.focustime=this.d,this.fieldEntry.event="focus",this.formsModule.hasFormFocus=!0):"keypress"===e.type&&"keypress"!==this.fieldEntry.event?this.onKeypress():"change"===e.type?this.onChange():"blur"===e.type?this.onBlur():"click"===e.type&&(this.fieldEntry.event="click",this.fieldEntry.timespent+=1e3,this.fieldEntry.interactions+=1,this.fieldEntry.completed=1,this.formsModule.sendFieldData(this.fieldEntry)))},qr.prototype.checkChange=function(e){this.fieldEntry.changed=this.fieldEntry.changed||ti(this.fieldEntry.completed&&this.fieldValue!==this.el.di_form_comValue),this.fieldEntry.completed=ti(!f(this.fieldValue)),this.el.di_form_comValue=this.fieldEntry.completed?this.el.di_form_curValue:"",this.el.getAttribute("data-di-field-id")!==this.fieldEntry.diid&&(this.fieldEntry.diid=this.el.getAttribute("data-di-field-id"),this.fieldEntry.title=Vi(this.formsModule.getFieldTitle(this.el)).substring(0,127),this.fieldEntry.sel=this.formsModule.getFieldSel(this.el)),w(this.fScanner.scanFieldError,this.fScanner)(this.fieldEntry,e)},qr.prototype.checkBlurTime=function(){this.fieldEntry.timespent<25?this.fieldEntry.shortBlur||(this.fieldEntry.shortBlur=!0,this.formsModule.sendFieldData(this.fieldEntry)):(this.fieldEntry.shortBlur=!1,this.formsModule.sendFieldData(this.fieldEntry))},qr.prototype.onChange=function(){var e=this;this.fieldValue!==this.el.di_form_curValue&&(this.fieldEntry.event="change",this.el.di_form_curValue=this.fieldValue,this.fieldEntry.completed&&(this.el.di_form_comValue=this.fieldValue),-1===vi(this.fieldEntry.type,["select-one","select-multiple","checkbox"])&&0!==this.fieldEntry.interactions||(this.fieldEntry.interactions+=1),clearTimeout(this.fieldEntry.changeTimeout),this.fieldEntry.changeTimeout=setTimeout(function(){e.fieldEntry.changeTimeout=null,e.checkChange(!0),e.fieldEntry.focustime||(e.fieldEntry.timespent+=1e3,e.formsModule.sendFieldData(e.fieldEntry))},100))},qr.prototype.onBlur=function(){this.fieldEntry.event="blur",clearTimeout(this.fieldEntry.changeTimeout),this.fieldEntry.changeTimeout=null,this.fieldEntry.timespent+=this.fieldEntry.focustime?this.d-this.fieldEntry.focustime:0,this.checkChange(!1),this.checkBlurTime(),this.fieldEntry.focustime=0},qr.prototype.onKeypress=function(){this.fieldEntry.event="keypress",this.fieldEntry.interactions+=1,this.fieldEntry.delay+=this.fieldEntry.focustime?this.d-this.fieldEntry.focustime:0},qr);function qr(){}let Gr=Br;var Xr={delay:"de",timespent:"ti",interactions:"in",error:"er",errorStr:"erStr",changed:"ch"},Wr=function(){return(Wr=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function t(){this.ffbind=[],this.fcInt=null,this.f=!1,this.forms={},this.ficnt=0,this.fScanner=new Nr,this.fEvents=new Ur,this.fieldEvent=new Gr,this.fSubmitter=new Vr,this.fScanner.setDependency(this,this.fEvents,this.fieldEvent,this.fSubmitter),this.fEvents.setDependency(this,this.fScanner,this.fieldEvent),this.fieldEvent.setDependency(this,this.fScanner),this.fSubmitter.setDependency(this,this.fScanner)}function Jr(e){return os[e]||e}function zr(e){return ns[e]||e}t.prototype.startForm=function(){this.f=this.canCollectForm(),this.f&&this.formIndex()},t.prototype.endForm=function(){this.f&&(this.forms={},this.ficnt=0,clearInterval(this.fcInt))},t.prototype.formIndex=function(){this.fScanner.formIndex()},t.prototype.unfocusForm=function(){if(this.hasFormFocus&&I()-v.getInteractionModuleField("lInt")>v.getInteractionModuleField("cto")){for(var e in this.forms)if(De(this.forms,e)){var t,i=this.forms[e];for(t in i.fields){var r=i.fields[t];De(i.fields,t)&&(r.focustime=0)}}this.hasFormFocus=!1}},t.prototype.checkFormValue=function(){this.fEvents.checkFormValue()},t.prototype.getFieldTitle=function(e){return h(k.fieldTitleCallback)?w(k.fieldTitleCallback,v)(e):""},t.prototype.getFieldSel=function(e){var t,i=K(e),r=e.id,s=E(e,"data-di-field-id");return s?t=i+'[data-di-field-id="'+s+'"]':r&&(k.fieldSelectorAttribute!==m.name||f(e.name))?t="#"+r.replace(S.idFix,"\\$1"):e.name?t=i+'[name="'+e.name+'"]':e.type&&(t=i+'[type="'+e.type+'"]'),t},t.prototype.getFormTitle=function(e){return h(k.formTitleCallback)?w(k.formTitleCallback,v)(e):E(e,"data-di-form-id")||""},t.prototype.getFormError=function(e){return!!h(k.formErrorCallback)&&w(k.formErrorCallback,v)(e)},t.prototype.getFormSel=function(e,t){var i=Ir.getAvailFormSel(e,t),e=k.formGroupCriteria.split(",").find(function(e){return void 0!==i[e]});return i[e]},t.prototype.sendFormMeta=function(){if(v.canCollect()&&Ci(this.forms)){var e,t,i,r=[],s=[],n={};for(t in this.forms)(i=this.forms[t])&&(n=Wr(Wr({},n),i.fields));for(t in n){var o=n[t];o&&s.push({s:o.sel,t:o.type,na:o.name,di:o.diid,ti:o.title,r:o.required})}for(t in this.forms)(i=this.forms[t])&&(e=i.sel.replace("[data-di-form-track]","")).length<=128&&r.push({s:e,n:i.title,e:s,i:i.formIndex,h:i.hash,ht:i.hasTracker,cs:ti(!this.formSubmittedProgress&&D("di_sub_form")===i.hash)});this.formSubmittedProgress||F("di_sub_form"),r.length&&v.postInfo("formmeta",r)}else F("di_sub_form")},t.prototype.formSubmitted=function(e,t){this.f&&v.canCollect()&&(X(e=f(e)?"[data-di-form-track]":e)?(this.formsOnPage=T.search("[data-di-form-track]"),this.fSubmitter.preSubmit(e,t)):Q(e)&&e.hasAttribute("data-di-form-track")&&(this.formsOnPage=T.search("[data-di-form-track]"),this.fSubmitter.formEl=e,this.fSubmitter.formSel=this.getFormSel(this.fSubmitter.formEl,this.formsOnPage),this.fSubmitter.submitForm()))},t.prototype.sendFieldData=function(e){var t=e.form.di_entry,i={},r=!1,s=!1;if(t){for(var n in i.s=e.sel,i.fh=t.hash,i.co=e.completed,r=!!e.error,Xr)De(Xr,n)&&e[n]&&(i[Xr[n]]=e[n],s=!(e[n]=0));e.errorStr="",i.offset=(e.focustime||I())-v.getPageTime()}r||setTimeout(w(this.fScanner.scanFieldError,this.fScanner,e,!0),500),!s&&i.co===e.lastSentCO||(e.lastSentCO=i.co,v.postInfo("fieldview",i))},t.prototype.getFieldError=function(e){var t,i=[e];if(e){if(0===(i=e.di_entry&&e.di_entry.form?T.search(Ir.fixFieldSelector(e.di_entry.sel),e.di_entry.form,!0):i).length)return!1;try{e.di_entry&&i[0]!==e.di_entry.el&&((e=i[0]).di_entry.el=e)}catch(e){}t=this.getFieldErFn(e)}return t},t.prototype.fieldValType=function(e,t){var i="simple";return"radio"===t&&S.fSel.test(e)?i="group":"checkbox"!==t&&"radio"!==t||(i="check"),i},t.prototype.processFormDictionary=function(){var i=this;if(2===k.formCollection)for(var r=this,e=0,t=k.formDict;e<t.length;e++)(e=>{var t=T.search(e.sel);t.length&&(t[0].hasAttribute("data-di-form-track")||t[0].setAttribute("data-di-form-track",""),e.name&&!t[0].hasAttribute("data-di-form-id")&&t[0].setAttribute("data-di-form-id",e.name),e.btnSel)&&(e=T.search(e.btnSel)).length&&!e[0].di_dict_event&&(e[0].di_dict_event=!0,d(e[0],"click",function(){return i.formSubmitted(t[0])},r))})(t[e])},t.prototype.addFormTracker=function(){if(1===k.formCollection)for(var e=0,t=T.search("form").filter(function(e){return!T.matchesSelector(e,k.ignoreFormSelector)});e<t.length;e++){var i=t[e];i.hasAttribute("data-di-form-track")||(i.setAttribute("data-di-form-track",""),i.di_formDyn=!0)}},t.prototype.getFieldErFn=function(e){var t,i,r=Ir.getFieldErFromAttr(e);return Ar(r)?i=r:h(k.fieldErrorCallback)&&Ar(t=w(k.fieldErrorCallback,v)(e))&&(i=t),i=i||t||r},t.prototype.canCollectForm=function(){return v.hasFeature(R.FORM)&&0<k.formCollection};var Yr,$r,Qr,Kr=t,Zr="DI-IGNORED",es="di_old_",ts=" di-replacement",is="data-di-rand",rs="data-di-track",ss=[m.value,m.label],ns={style:1,class:2,colspan:3,label:4,placeholder:5,readonly:6,required:7,src:8,id:9,"data-di-id":10,poster:11,min:12,minlength:13,maxlength:14,max:15,async:16,align:17,autocomplete:18,preload:19,muted:20,"http-equiv":21,title:22,type:23,href:24,enctype:25,dropzone:26,draggable:27,border:28,autoplay:29,media:30,xmlns:31,charset:32,content:33,cols:34,alt:35,width:36,height:37,start:38,step:39,"xlink:href":40,rowspan:41,method:42,novalidate:43,"data-di-form-id":44,"data-di-field-id":45,name:46,action:47,checked:48,for:49,value:50,from:51,target:52,lang:53,rel:54,"xmlns:xlink":55,srcset:56,itemprop:57,"fill-rule":58,"clip-rule":59,fill:60,autocapitalize:61,autofocus:62,crossorigin:63,icon:64,disabled:65,loop:66,multiple:67,pattern:68,selected:69,size:70,span:71,tabindex:72,usemap:73,transform:74,viewBox:76,preserveAspectRatio:77,points:78,textLength:79,path:80,gradientTransform:81,offset:82,background:83,data:84},os=((s={A:1,LI:2,SPAN:3,DIV:4,META:5,INPUT:6,IMG:7,TD:8,TR:9,BUTTON:10,SECTION:11,HEADER:12,FOOTER:13,SELECT:14,OPTION:15,TEXTAREA:16,STYLE:17,G:18,STRONG:19,NAV:20,MAIN:21,OL:22,UL:23,P:24,CANVAS:25,IFRAME:26,OBJECT:27,LINK:28,EMBED:29,TABLE:30,TBODY:31,TH:32,THEAD:33,FIGURE:34,U:35,S:36,Q:37,IMAGE:38,SVG:39,I:40,FORM:41,B:42,BR:43,SYMBOL:44,GLYPH:45,SUB:46,LABEL:47,FIELDSET:48,POLYLINE:49,COLGROUP:50,ADDRESS:51,H1:52,H2:53,H3:54,H4:55,H5:56,H6:57,POLYGON:58,PICTURE:59,CAPTION:60,PATH:61,RECT:62,ELLIPSE:63,TITLE:64,USE:65,CLIPPATH:66,TEXTPATH:67,LINEARGRADIENT:68,CIRCLE:69,VIDEO:70,TSPAN:71,TFOOT:72,SMALL:73,PARAM:74,FRAME:75,TEXT:76,MAP:77,PRE:78,AREA:79,LINE:80,OPTGROUP:81,TREF:82,VIEW:83,EM:84,LEGEND:85,MARKER:86,HR:87,COL:88,SUP:89,ABBR:90,BASE:91,CODE:92,FONT:93,SOURCE:94,ARTICLE:95,NOSCRIPT:96,HTML:97,HEAD:98,BODY:99,TEMPLATE:100,"FONT-FACE":101,DATALIST:103,BLOCKQUOTE:104,BIG:105,ASIDE:106,DD:107,DEFS:108,DL:109,DT:110,STRIKE:111})[Zr]=112,s["#DOCUMENT-FRAGMENT"]=113,s),as={STYLE:{d:{getter:function(e){return(e.sheet||e).disabled},nodeList:"styleDINodes"}},LINK:{d:{getter:function(e){return(e.sheet||e).disabled},nodeList:"styleDINodes"}},VIDEO:{paused:{getter:function(e){return e.paused?"pause":"play"}},currentTime:{getter:function(e){return e.currentTime}},playbackRate:{getter:function(e){return void 0!==e.playbackRate?e.playbackRate:1}}}},ls={addedRule:"aR",addedIndex:"aI",deletedIndex:"dI",replacedText:"rT"},hs={IMG:function(e){return!S.js.test(e.getAttribute(m.src))},INPUT:function(e){return"hidden"!==e.type},LINK:function(e){return"text/css"===e.getAttribute(m.type)||-1!==(e.getAttribute(m.rel)||"").toLowerCase().indexOf("stylesheet")},META:function(e){return e.getAttribute(m.charset)||"viewport"===e.getAttribute(m.name)},NOSCRIPT:function(){return!1},SCRIPT:function(){return!1}},cs={FORM:[{n:m.autocomplete,v:"off",o:!0},{n:m.novalidate,v:"novalidate",o:!0}],INPUT:[{n:m.autocomplete,v:"off",o:!0}],LINK:[{n:m.type,v:"text/css"},{n:m.rel,v:"stylesheet"}],SELECT:[{n:m.autocomplete,v:"off",o:!0}],TEXTAREA:[{n:m.autocomplete,v:"off",o:!0}]},ds=((s={"data-di-alt-src":1,"data-di-form-track":1})[is]=1,s["data-di-res-id"]=1,s[rs]=1,s["data-di-id-done"]=1,s.integrity=1,s.maxlength=1,s.minlength=1,s.onload=1,s.pattern=1,s.required=1,s.step=1,s);function N(){this.Diff_Timeout=1,this.Diff_EditCost=4}function us(e,t){return Qr.diff_main(e,t)}function ps(e){return 3===e.length?$r.REPLACEMENT:2===e.length?"string"==typeof e[1]?$r.ADDITION:"number"==typeof e[1]?$r.REMOVAL:void 0:void 0}function fs(e){return 4<e.length?"__*"+e.length+";":e}function ms(e){var t=null;return t="string"==typeof e?e.replace(S.mask,"*").replace(S.maskReducer,fs):t}N.prototype.diff_main=function(e,t,i,r){var s,n,o,r=r=void 0===r?this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout:r;if(null==e||null==t)throw new Error("Null input. (diff_main)");return e==t?e?[[0,e]]:[]:(i=i=void 0===i||i,o=this.diff_commonPrefix(e,t),s=e.substring(0,o),e=e.substring(o),t=t.substring(o),o=this.diff_commonSuffix(e,t),n=e.substring(e.length-o),e=e.substring(0,e.length-o),t=t.substring(0,t.length-o),o=this.diff_compute_(e,t,i,r),s&&o.unshift([0,s]),n&&o.push([0,n]),this.diff_cleanupMerge(o),o)},N.prototype.diff_compute_=function(e,t,i,r){var s,n,o,a,l;return e?t?-1!=(o=(a=e.length>t.length?e:t).indexOf(s=t.length<e.length?t:e))?(a=[[1,a.substring(0,o)],[0,s],[1,a.substring(o+s.length)]],e.length>t.length&&(a[0][0]=a[2][0]=-1),a):1==s.length?[[-1,e],[1,t]]:(o=this.diff_halfMatch_(e,t))?(a=o[0],s=o[1],l=o[2],n=o[3],o=o[4],a=this.diff_main(a,l,i,r),l=this.diff_main(s,n,i,r),a.concat([[0,o]],l)):this.diff_bisect_(e,t,r):[[-1,e]]:[[1,t]]},N.prototype.diff_bisect_=function(e,t,i){for(var r=e.length,s=t.length,n=Math.ceil((r+s)/2),o=n,a=2*n,l=new Array(a),h=new Array(a),c=0;c<a;c++)l[c]=-1,h[c]=-1;l[o+1]=0;for(var d=r-s,u=d%2!=(h[o+1]=0),p=0,f=0,m=0,g=0,v=0;v<n&&!((new Date).getTime()>i);v++){for(var y=-v+p;y<=v-f;y+=2){for(var S=o+y,E=(I=y==-v||y!=v&&l[S-1]<l[S+1]?l[S+1]:l[S-1]+1)-y;I<r&&E<s&&e.charAt(I)==t.charAt(E);)I++,E++;if(r<(l[S]=I))f+=2;else if(s<E)p+=2;else if(u){var b=o+d-y;if(0<=b&&b<a&&-1!=h[b])if((T=r-h[b])<=I)return this.diff_bisectSplit_(e,t,I,E,i)}}for(var C=-v+m;C<=v-g;C+=2){for(var T,b=o+C,R=(T=C==-v||C!=v&&h[b-1]<h[b+1]?h[b+1]:h[b-1]+1)-C;T<r&&R<s&&e.charAt(r-T-1)==t.charAt(s-R-1);)T++,R++;if(r<(h[b]=T))g+=2;else if(s<R)m+=2;else if(!u)if(0<=(S=o+d-C)&&S<a&&-1!=l[S]){var I,E=o+(I=l[S])-S;if((T=r-T)<=I)return this.diff_bisectSplit_(e,t,I,E,i)}}}return[[-1,e],[1,t]]},N.prototype.diff_bisectSplit_=function(e,t,i,r,s){var n=e.substring(0,i),o=t.substring(0,r),e=e.substring(i),i=t.substring(r),t=this.diff_main(n,o,!1,s),r=this.diff_main(e,i,!1,s);return t.concat(r)},N.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var i=0,r=Math.min(e.length,t.length),s=r,n=0;i<s;)e.substring(n,s)==t.substring(n,s)?n=i=s:r=s,s=Math.floor((r-i)/2+i);return s},N.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var i=0,r=Math.min(e.length,t.length),s=r,n=0;i<s;)e.substring(e.length-s,e.length-n)==t.substring(t.length-s,t.length-n)?n=i=s:r=s,s=Math.floor((r-i)/2+i);return s},N.prototype.diff_commonOverlap_=function(e,t){var i=e.length,r=t.length;if(0==i||0==r)return 0;r<i?e=e.substring(i-r):i<r&&(t=t.substring(0,i));var s=Math.min(i,r);if(e==t)return s;for(var n=0,o=1;;){var a=e.substring(s-o),a=t.indexOf(a);if(-1==a)return n;o+=a,0!=a&&e.substring(s-o)!=t.substring(0,o)||(n=o,o++)}},N.prototype.diff_halfMatch_=function(e,t){var u,i,r,s,n,o,a,l;return!(this.Diff_Timeout<=0)&&(s=e.length>t.length?e:t,r=t.length<e.length?t:e,!(s.length<4||2*r.length<s.length))&&(u=this,i=h(s,r,Math.ceil(s.length/4)),r=h(s,r,Math.ceil(s.length/2)),i||r)?(s=!r||i&&i[4].length>r[4].length?i:r,e.length>t.length?(n=s[0],o=s[1],a=s[2],l=s[3]):(a=s[0],l=s[1],n=s[2],o=s[3]),[n,o,a,l,s[4]]):null;function h(e,t,i){for(var r,s,n,o,a=e.substring(i,i+Math.floor(e.length/4)),l=-1,h="";-1!=(l=t.indexOf(a,l+1));){var c=u.diff_commonPrefix(e.substring(i),t.substring(l)),d=u.diff_commonSuffix(e.substring(0,i),t.substring(0,l));h.length<d+c&&(h=t.substring(l-d,l)+t.substring(l,l+c),r=e.substring(0,i-d),s=e.substring(i+c),n=t.substring(0,l-d),o=t.substring(l+c))}return 2*h.length>=e.length?[r,s,n,o,h]:null}},N.prototype.diff_cleanupSemantic=function(e){for(var t,i,r,s,n=!1,o=[],a=0,l=null,h=0,c=0,d=0,u=0,p=0;h<e.length;)0==e[h][0]?(c=u,d=p,p=u=0,l=e[o[a++]=h][1]):(1==e[h][0]?u+=e[h][1].length:p+=e[h][1].length,l&&l.length<=Math.max(c,d)&&l.length<=Math.max(u,p)&&(e.splice(o[a-1],0,[-1,l]),e[o[a-1]+1][0]=1,a--,h=0<--a?o[a-1]:-1,p=u=d=c=0,n=!(l=null))),h++;for(n&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),h=1;h<e.length;)-1==e[h-1][0]&&1==e[h][0]&&(t=e[h-1][1],i=e[h][1],r=this.diff_commonOverlap_(t,i),(s=this.diff_commonOverlap_(i,t))<=r?(r>=t.length/2||r>=i.length/2)&&(e.splice(h,0,[0,i.substring(0,r)]),e[h-1][1]=t.substring(0,t.length-r),e[h+1][1]=i.substring(r),h++):(s>=t.length/2||s>=i.length/2)&&(e.splice(h,0,[0,t.substring(0,s)]),e[h-1][0]=1,e[h-1][1]=i.substring(0,i.length-s),e[h+1][0]=-1,e[h+1][1]=t.substring(s),h++),h++),h++},N.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){var i,r,s,n,o,a;return e&&t?(o=e.charAt(e.length-1),a=t.charAt(0),i=o.match(N.nonAlphaNumericRegex_),r=a.match(N.nonAlphaNumericRegex_),s=i&&o.match(N.whitespaceRegex_),n=r&&a.match(N.whitespaceRegex_),o=s&&o.match(N.linebreakRegex_),a=n&&a.match(N.linebreakRegex_),e=o&&e.match(N.blanklineEndRegex_),t=a&&t.match(N.blanklineStartRegex_),e||t?5:o||a?4:i&&!s&&n?3:s||n?2:i||r?1:0):6}for(var i=1;i<e.length-1;){if(0==e[i-1][0]&&0==e[i+1][0]){for(var r,s=e[i-1][1],n=e[i][1],o=e[i+1][1],a=this.diff_commonSuffix(s,n),l=(a&&(r=n.substring(n.length-a),s=s.substring(0,s.length-a),n=r+n.substring(0,n.length-a),o=r+o),s),h=n,c=o,d=t(s,n)+t(n,o);n.charAt(0)===o.charAt(0);){s+=n.charAt(0),n=n.substring(1)+o.charAt(0),o=o.substring(1);var u=t(s,n)+t(n,o);d<=u&&(d=u,l=s,h=n,c=o)}e[i-1][1]!=l&&(l?e[i-1][1]=l:(e.splice(i-1,1),i--),e[i][1]=h,c?e[i+1][1]=c:(e.splice(i+1,1),i--))}i++}},N.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,N.whitespaceRegex_=/\s/,N.linebreakRegex_=/[\r\n]/,N.blanklineEndRegex_=/\n\r?\n$/,N.blanklineStartRegex_=/^\r?\n\r?\n/,N.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,i=0,r=0,s=0,n="",o="";i<e.length;)switch(e[i][0]){case 1:s++,o+=e[i][1],i++;break;case-1:r++,n+=e[i][1],i++;break;case 0:1<r+s?(0!==r&&0!==s&&(0!==(t=this.diff_commonPrefix(o,n))&&(0<i-r-s&&0==e[i-r-s-1][0]?e[i-r-s-1][1]+=o.substring(0,t):(e.splice(0,0,[0,o.substring(0,t)]),i++),o=o.substring(t),n=n.substring(t)),0!==(t=this.diff_commonSuffix(o,n)))&&(e[i][1]=o.substring(o.length-t)+e[i][1],o=o.substring(0,o.length-t),n=n.substring(0,n.length-t)),0===r?e.splice(i-s,r+s,[1,o]):0===s?e.splice(i-r,r+s,[-1,n]):e.splice(i-r-s,r+s,[-1,n],[1,o]),i=i-r-s+(r?1:0)+(s?1:0)+1):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,r=s=0,o=n=""}""===e[e.length-1][1]&&e.pop();for(var a=!1,i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),a=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),a=!0)),i++;a&&this.diff_cleanupMerge(e)},s=Yr=Yr||{},Qr=new N,(en=$r=$r||{})[en.REPLACEMENT=0]="REPLACEMENT",en[en.ADDITION=1]="ADDITION",en[en.REMOVAL=2]="REMOVAL",s.getPatches=function(e,t){if(null==e)return t;for(var i=us(e,t),r=i.length,s=[],n=0,o=0;o<r;o++){var a=i[o][0],l=i[o][1];-1===a?(o+1<r&&1===i[o+1][0]?(s.push([n,l.length,i[o+1][1]]),o++):s.push([n,l.length]),n+=l.length):1===a?s.push([n,l]):n+=l.length}return s},s.diff=us,s.patch=function(e,t){return e=t?"string"==typeof t?t:((e,t)=>{var i="",r=0;e=e||"";for(var s=0,n=t;s<n.length;s++){var o=n[s],a=e.substring(r,o[0]);switch(ps(o)){case $r.REPLACEMENT:i+=a+o[2],r=o[0]+o[1];break;case $r.ADDITION:i+=a+o[1],r=o[0];break;case $r.REMOVAL:i+=a,r=o[0]+o[1];break;default:i=""}}return i+=e.substring(r,e.length)})(e,t):e},s.readPatches=function(e){for(var t=[],i=0,r=e;i<r.length;i++){var s=r[i];switch(ps(s)){case $r.REPLACEMENT:t.push({type:"Replacement",index:s[0],length:s[1],value:s[2]});break;case $r.ADDITION:t.push({type:"Addition",index:s[0],value:s[1]});break;case $r.REMOVAL:t.push({type:"Removal",index:s[0],length:s[1]})}}return t},vs.prototype.getChildIndex=function(t){var e,i=-1;return 0<(i=this.c?this.c.findIndex(function(e){return e.el===t}):i)&&null!=(e=this.c)&&e.some(function(e){return e.t===Node.DOCUMENT_FRAGMENT_NODE})&&i--,i},vs.prototype.clone=function(e,t){var i,r={},s=Object.keys(this);if(!this.ti||this.ti===t){if(this.rt&&this.i===t)r={i:0},this.c&&(r.c=this.cloneChildren(e,t));else{r.i=this.i;for(var n=r.i,o=0,a=s;o<a.length;o++){var l=a[o];switch(l){case"i":case"el":break;case"t":11!==this.t&&8!==this.t||(r.t=this.t);break;case"n":r.n=Jr(this.n);break;case"na":r.n=Jr(this.na);break;case"c":i=this.cloneChildren(e,t);break;case"a":r.a=this.cloneAttributes();break;case"p":r.p=this.cloneProperties();break;case"ti":e||(r.ti=this.ti);break;default:r[l]=this[l]}}!1!==e&&(r.hasOwnProperty("v")?r=" "===r.v?n:n+"|"+r.v:8===r.t&&(r={k:n})),i&&(r.c=i)}return r}},vs.prototype.cloneChildren=function(e,t){for(var i=[],r=0,s=this.c;r<s.length;r++){var n=s[r].clone(e,t);null!=n&&i.push(n)}return i},vs.prototype.cloneAttributes=function(){for(var e={},t=0,i=Object.keys(this.a);t<i.length;t++){var r=i[t];e[zr(r)]=this.a[r]}return e},vs.prototype.cloneProperties=function(){for(var e={},t=0,i=Object.keys(this.p);t<i.length;t++){var r=i[t];e[r]=this.p[r]}return e},vs.prototype.getAttribute=function(e){var t=null;return t=this.a&&this.a.hasOwnProperty(e)?this.a[e]:t},vs.prototype.removeAttribute=function(e){this.a&&delete this.a[e]},vs.prototype.setAttribute=function(e,t){this.a||(this.a={}),this.a[e]=t},vs.prototype.maskContent=function(e,t){if(t){if(this.el[t])return;this.el[t]=!0}if(this.el.di_masked=!0,this.v&&(this.v=ms(this.v)),this.a&&this.maskPredefinedAttributes(),this.n===y.source&&this.el.parentNode.di_dom.n===y.picture&&this.maskSource(),this.n===y.img&&this.maskImage(e),this.c)for(var i=0,r=this.c;i<r.length;i++){var s=r[i];(k.recursiveMasking||s.v)&&s.maskContent(e,t)}},vs.prototype.maskSource=function(){void 0===this.a&&(this.a={}),this.a.src="//"+c.app+"/images/noimg.svg",delete this.a.srcset},vs.prototype.maskImage=function(e){this.a.width=this.el.width,this.a.height=this.el.height,this.a.src="//"+c.app+"/images/noimg.svg",0===this.a.width&&this.recheckImageSize(e,m.width),0===this.a.height&&this.recheckImageSize(e,m.height)},vs.prototype.recheckImageSize=function(e,t){var i=this;setTimeout(function(){0===i.a[t]&&0!==i.el[t]&&e(i.el,t,i.el[t],0)},1e3)},vs.prototype.maskPredefinedAttributes=function(){for(var e=0,t=ss;e<t.length;e++){var i=t[e];this.a[i]&&(this.a[i]=ms(this.a[i]))}};var gs=vs;function vs(e,t,i){this.i=e,this.t=t.nodeType,i&&(this.ti=i),Object.defineProperty(this,"el",{enumerable:!1,writable:!0,value:t})}function ys(e){var t;try{t=e.cssRules||e.rules}catch(e){A.processError("Stylesheet",e,_.WARN)}return t}function Ss(e){for(var t="",i=0,r=Array.prototype.slice.call(ys(e));i<r.length;i++)t+=r[i].cssText+"\n";return t}bs.prototype.maskTextNode=function(e){return e=S.spaceOnly.test(e)?" ":(e=e.replace(S.sp," "),f(k.personalDataRegex)||(e=e.replace(k.personalDataRegex,ms)),k.maskEmail&&(e=e.replace(S.email,function(e,t,i){return t+ms(i)})),(e=k.maskSSN?e.replace(S.ssn,ms):e).replace(S.cc,function(e,t){return ms(t)}))},bs.prototype.checkParentForMasking=function(e){var t=null;return e&&(e.nodeType===C.SHADOW_ROOT?t=this.checkParentForMasking(e.host):(t=!0===e.di_maskable||!1!==e.di_maskable&&(e.di_maskable=T.matchesSelector(e,k.personalDataSelector),!0===e.di_maskable)?e:t)||e.di_dom&&"BODY"===e.di_dom.n||(t=this.checkParentForMasking(e.parentNode))),t},bs.prototype.getParentNodeFromMutation=function(e,t){e=e.parentElement||e.parentNode||e.host;try{!(e=!e&&t.previousSibling?t.previousSibling.parentElement||t.previousSibling.parentNode:e)&&t.nextSibling&&(e=t.nextSibling.parentElement||t.nextSibling.parentNode)}catch(e){}return e},bs.prototype.maskAttrChanges=function(e,t,i){return e!==m.value&&e!==m.label||(t=ms(t)),t=e===m.src&&i===y.img?"//"+c.app+"/images/noimg.svg":t},bs.prototype.getAttributeName=function(e,t){return e=t&&(t=t.match(S.xmlns))?t[1]+":"+e:e},bs.prototype.getAttributeDiff=function(e,t,i,r){return"string"==typeof e&&zr(i)<3&&(void 0!==r[es+i]?e=Yr.getPatches(r[es+i],e):(e=Yr.getPatches(t,e),r[es+i]=t)),e},bs.prototype.getLastAttrPatchIndex=function(t){return v.jCur.jP.findIndex(function(e){return e.i===t&&e.a})},bs.prototype.cleanupClonedDidom=function(e){e.di_dom&&e.parentNode&&e.parentNode.di_dom&&e.di_dom.i===e.parentNode.di_dom.i&&delete e.di_dom},bs.prototype.applyNodeIndex=function(e,t){return e.i=t.i,t.ti&&(e.ti=t.ti),e},bs.prototype.removeId=function(e,t){for(var i={},r=0,s=Object.keys(e);r<s.length;r++){var n=s[r];switch(n){case"i":void 0!==t&&e.i===t+1||(i.i=e.i),t=e.i;break;case"c":for(var o=[],a=0,l=e.c;a<l.length;a++){var h=l[a],h=this.removeId(h,t);t=h[1],o.push(h[0])}i.c=o;break;default:i[n]=e[n]}}return[i,t]},bs.prototype.calculateElementLocation=function(e,t){var i;"[object CSSStyleSheet]"===e.toString()?e.ownerRule?(t.path.unshift("styleSheet"),this.calculateElementLocation(e.ownerRule,t)):e.ownerNode?t.el=e.ownerNode:t.sheetId=e.di_id:0===e.toString().indexOf("[object CSS")&&-1!==e.toString().indexOf("Rule]")&&(i=this.getRuleIndex(e),t.path.unshift("cssRules",i),this.calculateElementLocation(e.parentRule||e.parentStyleSheet,t))},bs.prototype.getRuleIndex=function(t){var e=t.parentRule||t.parentStyleSheet;return Array.prototype.slice.call(ys(e)).findIndex(function(e){return e===t})};var Es=bs;function bs(){}function Cs(e,t){return t.width&&-1===e.search(S.stW)&&(e+=" width: "+t.width+"px;"),t.height&&-1===e.search(S.stH)&&(e+=" height: "+t.height+"px;"),e}function Ts(e,t,i){Object.keys(e).length?t[i]=e:delete t[i]}function Rs(i){function e(e){var t="";return(e=e.exec(i.substring(s)))&&(t=e[0],s+=t.length),t}var t,r=(i=null===i?"":i).length,s=0,n=[];for(e(S.lComSp);s<r;)","===(t=e(S.lNSp)).slice(-1)?n.push({u:t.replace(S.tCom,""),d:""}):n.push({u:t,d:e(S.lNCom).trim()}),e(S.lComSp);return n}function Is(e){var t,i,r=(r=e.innerHTML||e.textContent||"").trim();return e.children&&e.children.length?r="hasNode":f(e.sheet)||(f(r)||(t=(e=>{for(var t=0,i=0,r=0,s=e.length;r<s;r++){var n=e.charCodeAt(r);125===n?0<i&&i--:123===n?1===++i&&t++:92===n&&r++}return t})(r),null!=(i=ys(e.sheet))&&t<i.length))&&(r=Ss(e.sheet)),r}function _s(){this.iframeCss=/(^|\s+|>|,|}|{)\biframe\b/gi}_s.prototype.processCssFn=function(e){var t,i=e.di_style_res,r=E(e,"data-di-alt-src");return f(r)?f(t=Is(e))||!f(i)&&i.innerText===t?f(t)&&!f(i)&&(i=null):i=this.styleInnerTextToResource(e,t):!f(i)&&i.altSrc===r||(i={media:e.media,altSrc:r,href:v.resourceModule.qualifyURL(r)}),e.di_style_res=i},_s.prototype.styleInnerTextToResource=function(e,t){var i=!1,r=t.length,r=!e.di_in_shadow&&r>k.maxCss&&!e.hasAttribute("data-di-track")?(i=!0,"/* Style block too large | "+r+" characters | expected length less than "+k.maxCss+" characters */"):this.prepareCSS(t.replace(S.cssComment,"").replace(S.commentFrag,"")),i={innerText:t,content:r,media:e.media,tooLarge:i};return"hasNode"===t&&(i.hasNode=!0,i.content=""),this.cssToResource(i,e,r),i},_s.prototype.prepareCSS=function(e){var t;return f(e)?"":(e=(e=-1!==e.indexOf("@import")&&-1!==(t=e.indexOf("{"))?e.substring(0,t)+e.substring(t).replace(S.importIgnore,""):e).replace(S.cssUrl,this.urlQualifyReplace.bind(this)).replace(S.importUrl,this.importReplace).replace(S.pseudoFix,".di-$1").replace(S.hoverQueryFix,"$1hover$2:hover").replace(S.canvasCss,"$1.di-canvas").replace(S.iframeCss,"$1.di-iframe").replace(S.attrSel,"[class*="),k.noDeviceWidthMediaReplace?e:e.replace(S.dWidthHeight,"$1:"))},_s.prototype.urlCssUnescape=function(e,t,i,r,s){return i?e=String.fromCharCode(Number("0x"+i)):s&&(Number("0x"+s)<32?e="":this.isPrivateUseArea(s)||(e=String.fromCharCode(Number("0x"+s)))),e},_s.prototype.isPrivateUseArea=function(e){var t=!1,e=Number("0x"+e);return t=57344<=e&&e<=63743||983040<=e&&e<=1048573||1048576<=e&&e<=1114109?!0:t},_s.prototype.urlQualifyReplace=function(e,t,i){return-1!==i.indexOf("\\")&&(i=i.replace(S.cssEscaped,this.urlCssUnescape.bind(this)).replace(S.punctuationEscaped,"$1")),"url("+t+v.resourceModule.qualifyURL(i,{prefix:!0,noProxy:!0})+t+")"},_s.prototype.importReplace=function(e,t,i){return"@import "+t+v.resourceModule.qualifyURL(i.replace(S.punctuationEscaped,"$1"),{prefix:!0,noProxy:!0})+t},_s.prototype.cssToResource=function(e,t,i){i.length>k.minResourceSize&&v.canCollectResource()&&!t.hasAttribute("data-di-no-resource-proxy")&&(e.name=di(i)+"-"+i.length+".css",e.href=v.rUrl+e.name,v.resourceModule.sendResource(e))};let xs=_s;function ks(e,t,i){for(var r=0,s=Array.prototype.slice.call(i||e.childNodes);r<s.length;r++){var n=s[r];n.di_res_parent=t,ks(n,t)}}i.prototype.setDefault=function(){this.currentIndex=this.currentIndex||0,this.tree={i:0},l._di_max_id=l._di_max_id||{0:0},this.observer=null,this.documentDINodes={},this.styleDINodes={},this.scannedStylesheet={},this.unmaskedFields=["submit","reset","checkbox","radio","image","file","button"],this.maskPatchFn=this.createAttributePatch.bind(this),this.mutationQueue=[],this.mQRunning=!1,this.mutationBusy=!1,this.maTO=null,this.shadowBuffer=[]},i.prototype.isObserving=function(){return!!this.observer},i.prototype.observe=function(e){this.disconnect(),this.createObserver(e),this.tree=this.prepareTree(e,!!xe(e,y.lowercaseBody)),this.addShadowPatches()},i.prototype.createObserver=function(e){L&&(this.observer=new L(w(this.observerFn,this)),this.observer.observe(e,{childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.observerFnScoped=this.observerFnScoped||w(this.observerFn,this),v.attachShadowHook.addListener(this.observerFnScoped),this.cssObserverFnScoped=this.cssObserverFnScoped||w(this.cssObserverFn,this),v.attachCSSHook.addListener(this.cssObserverFnScoped),this.initCustomObservers())},i.prototype.initCustomObservers=function(){for(var e=0,t=this.styleObservers;e<t.length;e++){var i=t[e],r=w(i.func,this);r(),i.interval=setInterval(r,i.rate)}},i.prototype.createPropertyPatch=function(e,t,i){var r,i={i:null,p:((r={})[i]=e,r)};v.jCur.jP.push(this.utilities.applyNodeIndex(i,t.di_dom))},i.prototype.observerFn=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t].target;r.di_dom||r.parentNode&&r.parentNode.di_dom||delete e[t]}Array.prototype.unshift.apply(this.mutationQueue,e.reverse()),this.processMutationStart()},i.prototype.processMutationStart=function(){var e=this;this.mQRunning?(this.mutationBusy=!0,clearTimeout(this.maTO),this.maTO=setTimeout(function(){e.mutationBusy=!1,e.mQRunning=!1,e.processMutationStart()},200)):(this.mQRunning=!0,this.processMutation())},i.prototype.processMutation=function(){for(var e=this.mutationQueue.splice(-1<this.mutationQueue.length-1500?this.mutationQueue.length-1500:0,1500);0<e.length;){var t=e.pop();if(t){var i=t.target;if("childList"===t.type&&0<t.addedNodes.length&&v.addDataLayerRuleListenersForTargetsIn(Array.prototype.slice.call(t.addedNodes)),"characterData"===t.type&&i.nodeType===C.TEXT&&i.parentNode.di_dom.n===y.style)i.parentNode.setAttribute(is,I());else if(!i.di_ignored)switch(t.type){case"childList":this.obsChildList(t);break;case"attributes":this.obsAttributes(t);break;case"characterData":this.obsCharacterData(t)}}}this.mutationQueue.length?this.mutationBusy||setTimeout(w(this.processMutation,this),0):this.mQRunning=!1},i.prototype.cssObserverFn=function(i){var r,s,e=i.el,t={path:[]},e=(this.utilities.calculateElementLocation(e,t),f(t.sheetId)?t.el:document.documentElement);e&&e.di_dom&&(r={},s=this,we(ls,function(e,t){f(i[t])||(r[e]="rT"===e||"aR"===e?s.prepareCSS(i[t]):i[t])}),f(t.sheetId)||(r.sheetId=t.sheetId),t.path.length&&(r.path=t.path),this.createPropertyPatch(r,e,"rule"))},i.prototype.obsChildList=function(e){var t=e.removedNodes?e.removedNodes.length:0,i=e.target,r=[],s=[],n=[],o=[];if(i.di_dom){var a=this.diNodePrepareFn[i.di_dom.n];if(i.di_dom.na&&a)this.diffPreparedElement(i,a);else{for(var l=0,h=e.removedNodes;l<h.length;l++){var c=h[l],c=i.di_dom.getChildIndex(c);-1===c?t--:r.push(c)}a=0;if(r.length)a=g.min.apply(null,r);else try{e.previousSibling&&(a=i.di_dom.getChildIndex(e.previousSibling)+1)}catch(e){a=i.di_dom.c?i.di_dom.c.length:a}for(var d=0,u=e.addedNodes;d<u.length;d++){var p=u[d],f=this.utilities.getParentNodeFromMutation(p,e);if(i.shadowRoot&&i.shadowRoot===p)return;-1===i.di_dom.getChildIndex(p)&&f&&f===i&&(f=this.prepareTree(p,i.di_in_body||i.di_is_body,i.di_in_shadow||i.di_is_shadow,i.di_dom.rt?i.di_dom.i:i.di_dom.ti),this.addShadowPatches(),-1===o.indexOf(f.i))&&(f.el.di_in_body&&this.handleParentMasking(i,f),o.push(f.i),s.push(f),p=f.clone(!0,f.ti),n.push(v.remoteStorage?v.serializer.serialize(p,!0):p))}i.di_dom.c||(i.di_dom.c=[]),i.di_dom.c.splice.apply(i.di_dom.c,[a,t].concat(s));var a={p:a},m=(t&&(a.r=t),n.length&&(a.a=n),i.di_res_parent);m?(m.di_html_res.changed=!0,ks(i,m,e.addedNodes)):1<Object.keys(a).length&&v.jCur.jP.push(this.utilities.applyNodeIndex({i:null,c:[a]},i.di_dom))}}},i.prototype.handleParentMasking=function(e,t){!t.el.di_masked&&(e.di_masked&&(k.recursiveMasking||t.v)||k.recursiveMasking&&k.personalDataSelector&&this.utilities.checkParentForMasking(e))&&t.maskContent(this.maskPatchFn)},i.prototype.obsAttributes=function(e){var t,i,r,s=e.target,e=this.utilities.getAttributeName(e.attributeName,e.attributeNamespace);s.di_dom&&(t=s.di_dom.getAttribute(e))!==(r=s.getAttribute(e))&&(delete s.di_maskable,(i=this.diNodePrepareFn[s.di_dom.n])?this.diffPreparedElement(s,i):this.ignoreAttr(e)||(r=this.prepareAttribute(e,r,s.di_dom.n,s),t!==(r=s.di_masked?this.utilities.maskAttrChanges(e,r,s.di_dom.n):r)&&this.createAttributePatch(s,e,r,t)))},i.prototype.diffPreparedElement=function(e,t){var i=e.di_dom.clone(!1),t=(t.call(this,e.di_dom),e.di_dom.clone(!1));e.di_res_parent?e.di_res_parent.di_html_res.changed=!0:this.addDINodeDiffPatch(i,t,v.jCur.jP)},i.prototype.createAttributePatch=function(e,t,i,r){var s,n,o;e.di_dom.setAttribute(t,i),e.di_res_parent?e.di_res_parent.di_html_res.changed=!0:(o=this.utilities.getLastAttrPatchIndex(e.di_dom.i),(s=v.jCur.jP[o])?("undefined"==typeof s.a[zr(t)]&&delete e[es+t],Ae(n=this.utilities.getAttributeDiff(i,r,t,e))&&0===n.length?(delete s.a[zr(t)],2===Object.keys(s).length&&0===Object.keys(s.a).length&&v.jCur.jP.splice(o,1)):s.a[zr(t)]=n):(delete e[es+t],(o={i:null,a:{}}).a[zr(t)]=this.utilities.getAttributeDiff(i,r,t,e),v.jCur.jP.push(this.utilities.applyNodeIndex(o,e.di_dom))))},i.prototype.obsCharacterData=function(e){var t,i,e=e.target;e.di_dom&&e.nodeType!==C.COMMENT&&(t=e.di_dom.v,(i=e.nodeValue)!==t)&&(i=this.utilities.maskTextNode(i),e.di_masked&&(i=ms(i)),t=Yr.getPatches(t,i),e.di_dom.v=i,e.di_res_parent?e.di_res_parent.di_html_res.changed=!0:v.jCur.jP.push(this.utilities.applyNodeIndex({i:null,v:t},e.di_dom)))},i.prototype.getTree=function(e,t){return e&&this.isObserving()?this.tree.clone(!t):this.tree},i.prototype.toString=function(){return ai(this.tree.clone(!0))},i.prototype.disconnect=function(){this.observer&&this.observer.disconnect();for(var e=0,t=this.styleObservers;e<t.length;e++){var i=t[e];i&&i.interval&&(clearInterval(i.interval),delete i.interval)}this.observerFnScoped&&v.attachShadowHook.removeListener(this.observerFnScoped),this.cssObserverFn&&v.attachCSSHook.removeListener(this.cssObserverFn),this.setDefault()},i.prototype.handleMask=function(e){var t="di-mask-"+I()+"-"+g.random();if(k.personalDataSelector)for(var i=0,r=T.deep(k.personalDataSelector,e.el);i<r.length;i++)(s=r[i]).di_dom&&s.di_dom.maskContent(this.maskPatchFn,t);for(var s,e=T.deep("select,textarea,input",e.el),n=0,o=e=f(k.unmaskFieldSelector)?e:T.matches(":not("+k.unmaskFieldSelector+")",e);n<o.length;n++)!(s=o[n]).di_dom||s.di_dom.a&&-1!==this.unmaskedFields.indexOf(s.di_dom.a.type)||s.di_dom.maskContent(this.maskPatchFn,t)},i.prototype.canPrepare=function(e){var t=hs[e.n],t=!!b(t)||t(e.el);return t=t&&k.ignoreElementSelector&&T.matchesSelector(e.el,k.ignoreElementSelector)?!1:t},i.prototype.getPrepareFn=function(e){return this.diNodePrepareFn[e.n]||this.prepareDefaultDINode},i.prototype.prepareTree=function(e,t,i,r,s){this.utilities.cleanupClonedDidom(e);var n=e.di_dom?e.di_dom.i:++l._di_max_id[r||0],n=e.di_dom||new gs(n,e,r);return n.c&&delete n.c,e.di_in_body=t,e.di_in_shadow=i,n.t===C.TEXT?(r=this.utilities.maskTextNode(e.nodeValue))&&(n.v=r):n.t===C.ELEMENT?(n.n=e.nodeName.replace("\\","").toUpperCase(),n.el.di_is_body=n.n===y.body,this.canPrepare(n)?(delete n.na,delete e.di_ignored,this.getPrepareFn(n).call(this,n)):(e.di_ignored=!0,n.na=Zr)):n.t===C.SHADOW_ROOT&&this.prepareShadowRoot(n),e.di_dom=n,s||n.t!==C.ELEMENT&&n.t!==C.SHADOW_ROOT||this.handleMask(n),n},i.prototype.prepareShadowRoot=function(t){t.n=t.el.nodeName.toUpperCase(),t.el.di_is_shadow=!0;var e=this.prepareAdoptedStyleSheets(t.el),i=(e.sheets.length&&(t.p={adoptedSheetList:JSON.stringify(e.sheets)}),this.getChildNodes(Array.prototype.slice.call(t.el.childNodes),void 0,t.el.di_in_body,!0));i&&(t.c=i),t.el.__shady?t.f=1:((i=k.syntheticShadowContainerSelector)&&t.el.host&&T.search(i).find(function(e){return e.contains(t.el.host)})&&(t.f=1),this.documentDINodes[t.i]={diNode:t,adoptedSheetIds:e.adoptedSheetIds},this.observer.observe(t.el,{childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0}))},i.prototype.prepareAdoptedStyleSheets=function(e){var e=(e=e===u.documentElement?u:e).adoptedStyleSheets,t={sheets:[],adoptedSheetIds:""};if(e){var i=[];window.di_sheet_count=window.di_sheet_count||0;for(var r=0,s=e;r<s.length;r++){var n=s[r],o=void 0;f(n.di_id)&&(n.di_id=window.di_sheet_count++),this.scannedStylesheet[n.di_id]?o={id:n.di_id}:(o={id:n.di_id,disabled:n.disabled,media:n.media?n.media.mediaText:"",rules:Ss(n)},this.scannedStylesheet[n.di_id]={id:n.di_id,disabled:n.disabled,sheet:n}),i.push(n.di_id),t.sheets.push(o)}t.adoptedSheetIds=i.join(",")}return t},i.prototype.prepareDefaultDINode=function(e,t,i,r){t||(t=this.getAttributes(e.el,e.n,Array.prototype.slice.call(e.el.attributes)))&&(e.a=t),i||(t=this.getProperties(e))&&(e.p=t);i=r?e.i:e.ti,t=e.el===e.el.shadowRoot?void 0:e.el.shadowRoot,r=this.getChildNodes(Array.prototype.slice.call(e.el.childNodes),t,e.el.di_in_body||e.n===y.body,e.el.di_in_shadow,i),r&&(e.c=r),t=this.diNodePrepareAdditionalFn[e.n];t&&t.call(this,e)},i.prototype.prepareHTMLDINode=function(e){var t=this.prepareAdoptedStyleSheets(e.el);t.sheets.length&&(e.p={adoptedSheetList:JSON.stringify(t.sheets)}),this.documentDINodes[e.i]={diNode:e,adoptedSheetIds:t.adoptedSheetIds}},i.prototype.prepareObjectDINode=function(e){var t,i,r,s=this.getAttributes(e.el,e.n,Array.prototype.slice.call(e.el.attributes),[m.src,m.srcdoc,m.value])||{},n=this.getProperties(e)||{},o=e.el.getAttribute(m.data),a=!0;o&&(t="",i=e.el.getAttribute(m.type),r=e.el.hasAttribute(rs),(i&&0===i.toLowerCase().indexOf("image")||r)&&(a=!1,t=v.resourceModule.qualifyURL(o)),s.data=t),a&&delete s.type,e.n===y.object&&(e.h=e.el.innerHTML),e.el.hasAttribute("data-di-pvid")?delete e.na:e.n===y.iframe&&(s.class=(s.class||"")+" di-iframe"+ts,s.style=Cs(e.el.style.cssText,s),e.na=y.div,k.attachCSSHooksToIframes)&&v.attachCSSHook.addListener(void 0,e.el.contentWindow),Ts(n,e,"p"),Ts(s,e,"a")},i.prototype.prepareStyleDINode=function(e){var t,i=this.getAttributes(e.el,e.n,Array.prototype.slice.call(e.el.attributes))||{},r=this.getProperties(e)||{};e.n===y.link?e.el.di_style_res||e.el.sheet?t=e.el.di_style_res&&!e.el.sheet?e.el.di_style_res:this.styleScanner.processCssFn(e.el):d(e.el,"load",function(){e.el.setAttribute(is,I())},this):t=this.styleScanner.processCssFn(e.el),f(t)?e.na=Zr:(delete e.na,t.tooLarge&&(v.lstyle=!0),t.href?(e.na=y.link,i.type="text/css",i.rel="stylesheet",i.href=t.href,t.media&&(i.media=t.media),delete i.disabled):(e.h=t.content,e.na=y.style,delete i.type,delete i.rel,delete i.href),t.hasNode&&this.prepareDefaultDINode(e,!0),Ts(r,e,"p"),Ts(i,e,"a"))},i.prototype.prepareStyleLinkDINode=function(e){var t,i=this.getAttributes(e.el,e.n,Array.prototype.slice.call(e.el.attributes))||{},r=this.getProperties(e)||{};f(e.el.sheet)?(d(e.el,"load",function(){e.el.setAttribute(is,I())},this),d(e.el,"error",function(){e.el.setAttribute(is,I())},this),e.na=Zr):null==(t=ys(e.el.sheet))||t.length?(delete e.na,Ts(r,e,"p"),Ts(i,e,"a")):e.na=Zr},i.prototype.prepareLinkDINode=function(e){var t=this.prepareStyleLinkDINode;(t="blob:http"===(e.el.href||"").substr(0,9)?this.prepareStyleDINode:t).call(this,e)},i.prototype.prepareCanvasDINode=function(e){var t=this.getAttributes(e.el,e.n,Array.prototype.slice.call(e.el.attributes))||{},i=this.getProperties(e)||{},r=e.el.di_ResId,r=v.resourceModule.canvasList[r];t.class=(t.class||"")+" di-canvas",t.style=Cs(e.el.style.cssText,t),f(r)||(r.tainted?(v.tcanvas=!0,t.class=t.class+ts,e.na=y.div):(e.na=y.img,t.src=r.src||r.content)),Ts(i,e,"p"),Ts(t,e,"a")},i.prototype.prepareSVGDINode=function(e){var t,i=this.getAttributes(e.el,e.n,Array.prototype.slice.call(e.el.attributes))||{};Ts(this.getProperties(e)||{},e,"p"),Ts(i,e,"a"),e.ti?this.prepareDefaultDINode(e):(l._di_max_id[e.i]||(l._di_max_id[e.i]=0),e.rt=e.rt||!0,ks(e.el,e.el),e.el.di_res_parent=e.el,e.el.di_html_res=e.el.di_html_res||{tries:0,done:0},this.prepareDefaultDINode(e,!1,!1,!0),t=ai(i=e.clone(!0,e.i)),i&&t&&v.resourceModule.sendElResource(e,e.el,t),e.el.di_html_res.diNode=e.el.di_html_res.diNode||e.clone(!1,e.i),e.el.di_html_res.rootNode=e.el.di_html_res.rootNode||e.clone(!1))},i.prototype.prepareVideoDINode=function(e){var t=this;e.el.di_event_added||(e.el.di_event_added=!0,d(e.el,"play",function(e){t.createPropertyPatch("play",e.target,"paused")},this),d(e.el,"pause",function(e){t.createPropertyPatch("pause",e.target,"paused")},this),d(e.el,"ratechange",function(e){t.createPropertyPatch(void 0!==e.target.playbackRate?e.target.playbackRate:1,e.target,"playbackRate")},this),d(e.el,"seeked",function(e){t.createPropertyPatch(e.target.currentTime,e.target,"currentTime")},this))},i.prototype.prepareTextDINode=function(e){var t;v.visible(e.el)?this.prepareDefaultDINode(e):(t=this.getAttributes(e.el,e.n,Array.prototype.slice.call(e.el.attributes)))&&(e.a=t)},i.prototype.getChildNodes=function(e,t,i,r,s){var n=[],o=0,a=e.length;t?k.shadowsAsPatches?this.shadowBuffer.push({shadowRoot:t,inBody:i,inShadow:r,treeIndex:s,recursive:!1}):(n=new Array(a+1))[o++]=this.prepareTree(t,i,r,s,!0):n=new Array(a);for(var l=0,h=e;l<h.length;l++)n[o++]=this.prepareTree(h[l],i,r,s,!0);return n.length?n:null},i.prototype.styleSheetDisabledObserverFn=function(){var i=this;we(this.styleDINodes,function(e){var t=(e.n===y.style?as.STYLE:as.LINK).d.getter,t=t(e.el);null!=t&&e.p&&t!==e.p.d&&(i.createPropertyPatch(t,e.el,"d"),e.p.d=t)});we(this.scannedStylesheet,function(e){var t=e.sheet.disabled;null!=t&&t!==e.disabled&&(i.createPropertyPatch({sheetId:e.id,value:t},document.documentElement,"d"),e.disabled=t)})},i.prototype.adoptedStyleSheetObserverFn=function(){var i=this;we(this.documentDINodes,function(e){var t=e.diNode.el,t=(e.diNode.n===y.html&&(t=document),i.prepareAdoptedStyleSheets(t));t.adoptedSheetIds!==e.adoptedSheetIds&&(i.createPropertyPatch(JSON.stringify(t.sheets),e.diNode.el,"adoptedSheetList"),e.adoptedSheetIds=t.adoptedSheetIds)})},i.prototype.addDINodeDiffPatch=function(e,t,i){var r,s={i:t.i},n=1;t.ti&&(s.ti=t.ti,n++),e.n!==t.n||e.na!==t.na?s=t:(e.h!==t.h&&(s.h=Yr.getPatches(e.h,t.h)),e.rt!==t.rt&&(s.rt=t.rt),(r=this.getObjDiff(e.a||{},t.a||{}))&&(s.a=r),(r=this.getObjDiff(e.p||{},t.p||{}))&&(s.p=r),(r=this.getObjDiff(e.s||{},t.s||{}))&&(s.s=r),e.v!==t.v&&(s.v=Yr.getPatches(e.v,t.v)),(r=this.getChildDiff(e.c||[],t.c||[],i))&&(s.c=r)),Object.keys(s).length>n&&i.push(s)},i.prototype.getObjDiff=function(e,t){for(var i={},r=0,s=Object.keys(t);r<s.length;r++){var n=s[r];e[n]!==t[n]&&(X(t[n])&&10<t[n].length?i[n]=Yr.getPatches(e[n],t[n]):i[n]=t[n]),delete e[n]}for(var o=0,a=Object.keys(e);o<a.length;o++)i[a[o]]=null;return Object.keys(i).length?i:null},i.prototype.getChildDiff=function(e,t,i){for(var r=[],s=e.length;s--;)-1===this.findDINodeIndex(e[s].i,t)&&(r.push({p:s,r:1}),e.splice(s,1));for(var n=0,o=t.length;n<o;n++){var a=t[n],l=this.findDINodeIndex(t[n].i,e);-1===l?(r.push({p:n,a:[v.remoteStorage?v.serializer.serialize(this.utilities.removeId(a)[0],!0):a]}),e.splice(n,0,a)):(this.addDINodeDiffPatch(e[l],a,i),l!==n&&(r.push({p:l,m:n}),e.splice(n,0,e.splice(l,1)[0])))}return r.length?r:null},i.prototype.findDINodeIndex=function(t,e){return e.findIndex(function(e){return e.i===t})},i.prototype.getProperties=function(r){var s,e=as[r.n],n={};if(e)return s=this,we(e,function(e,t){var i=e.getter(r.el);void 0!==i&&(n[t]=i),e.nodeList&&(s[e.nodeList][r.i]=r)}),Object.keys(n).length?n:null},i.prototype.getAttributes=function(e,t,i,r){for(var s={},n=(r=void 0===r?[]:r).length,o=0,a=i;o<a.length;o++){var l=a[o];n&&-1!==r.indexOf(l.name)||this.prepareAttribute(l.name,l.value,t,e,s)}for(var h=0,c=this.getAdditionalAttrs(t);h<c.length;h++){var d=c[h];d.o?s[d.n]=d.v:s[d.n]=s[d.n]||d.v}return e.value&&t===y.input&&(s.value=e.value),Object.keys(s).length?s:null},i.prototype.prepareAttribute=function(t,e,i,r,s){if(!this.ignoreAttr(t)&&!S.inValAttr.test(t)){var i=this.getAttrModifier(i,t),n=this.getAttrMutator(t);if(i&&(e=i.call(this,e,r)),n)try{e=w(n,v)(e,r)}catch(e){n.errored||(a("DXA warning: Configuration error in "+t+" callback within the Attribute Mutation Callback.",e.toString()),n.errored=!0)}return s&&(s[t]=e),e}},i.prototype.getAdditionalAttrs=function(e){return cs[e]||[]},i.prototype.ignoreAttr=function(e){return c.dAR&&c.dAR.test(e)||ds[e]},i.prototype.getAttrModifier=function(e,t){return(this.attrModifiers[e]||{})[t]||this.attrModifiers[t]},i.prototype.getAttrMutator=function(e){return k.attrMutationCallback?k.attrMutationCallback[e]:void 0},i.prototype.qualifyURL=function(e,t){return v.resourceModule.qualifyURL(e,t)},i.prototype.qualifySrc=function(e,t,i){t=t.getAttribute("data-di-alt-src");return v.resourceModule.qualifyURL(t||e,i)},i.prototype.qualifySrcSet=function(e){for(var t=[],i=0,r=Rs(e);i<r.length;i++){var s=r[i];t.push((v.resourceModule.qualifyURL(s.u,{prefix:!0})+" "+s.d).trim())}return t.join(", ")},i.prototype.prepareCSS=function(e){return this.styleScanner.prepareCSS(e)},i.prototype.addShadowPatches=function(){if(this.shadowBuffer.length){for(var e=0,t=this.shadowBuffer;e<t.length;e++){var i=t[e],r=this.prepareTree(i.shadowRoot,i.inBody,i.inShadow,i.treeIndex,i.recursive),r=r.clone(!0,r.ti),i={i:i.shadowRoot.host.di_dom.i,c:[{p:0,a:[v.remoteStorage?v.serializer.serialize(r,!0):r]}]};v.jCur.jP.push(i)}this.shadowBuffer=[]}};var Os,Ds=i;function i(){this.tag="DIDOMAPI",this.styleObservers=[{func:this.styleSheetDisabledObserverFn,rate:1e3},{func:this.adoptedStyleSheetObserverFn,rate:1e3}],this.documentDINodes={},this.styleDINodes={},this.scannedStylesheet={},this.utilities=new Es,this.diNodePrepareFn={CANVAS:this.prepareCanvasDINode,EMBED:this.prepareObjectDINode,IFRAME:this.prepareObjectDINode,OBJECT:this.prepareObjectDINode,LINK:this.prepareLinkDINode,PLAINTEXT:this.prepareTextDINode,SVG:this.prepareSVGDINode,STYLE:this.prepareStyleDINode},this.diNodePrepareAdditionalFn={HTML:this.prepareHTMLDINode,VIDEO:this.prepareVideoDINode},this.attrModifiers={A:{href:function(){return"#"}},INPUT:{type:function(e){return e=S.invalidInput.test(e)?"text":e}},IMAGE:{href:this.qualifyURL,"xlink:href":this.qualifyURL},LINK:{href:this.qualifyURL},USE:{href:this.qualifyURL,"xlink:href":this.qualifyURL},VIDEO:{src:this.qualifySrc},SOURCE:{src:this.qualifySrc},background:this.qualifyURL,poster:this.qualifyURL,src:this.qualifyURL,srcset:this.qualifySrcSet,style:this.prepareCSS},this.styleScanner=new xs,k.maskPlaceholder&&ss.push("placeholder"),this.setDefault()}function Fs(){}function ws(e){v.scanCanvasList(T.search(k.canvasSelector)),setTimeout(function(){ki("DIJSToDIExt",{response:ai(u.documentElement.di_dom.clone()).replace(/\[DI_PROXY_URL\]/g,"").replace(/(https?)\//g,"$1://")}),e&&e()},1e3)}Fs.addListener=function(){u.documentElement.hasAttribute("data-di-loaded")||(u.documentElement.setAttribute("data-di-loaded",1),u.addEventListener("DIExtToDIJS",function(e){e&&"getDIDOMForHeatmap"===e.detail&&(k.proxyV2?u.documentElement.di_dom?ws():((e=new Ds).observe(u.documentElement),ws(e.disconnect.bind(e))):ki("DIJSToDIExt",{response:!1}))},!1))};let As=Fs;function Ps(e,t){var i=2;return e<2?i=0:e===t&&(i=1),i}function Ns(e){for(var t,i=!1;!i&&Q(e)&&!Z(e);)i="fixed"===(t=Y(e,"position"))||"sticky"===t,e=e.parentNode;return i}function Ms(e){return e-e%50}function Ls(e){return e-e%3+1}function r(){this.fixEl=null,this.fixPos={top:0,left:0},this.focusTime=0,this.hasFocus=u.hasFocus(),this.lInt=I(),this.hvDur={},this.hEl=qe,this.hInt=null,this.lHov=I(),this.hto=3e3,this.mX=0,this.mY=0,this.vpW=null,this.vpH=null,this.vOT=null,this.vOL=null,this.z=null,this.cto=3e4,this.scDur={},this.srC=0,this.svT=null,this.svL=null,this.svB=null,this.asvT=null,this.asvL=null,this.asvB=null,this.lst=0,this.lsl=0,this.isS=!1,this.sTi=null,this.sX=0,this.sY=0,this.clX=0,this.clY=0,this.clT=0,this.clK=qe,this.tF=0,this.oCl={x:0,y:0,t:0,ti:0},this.pT=0,this.tTi=0,this.tX=null,this.tY=null,this.cP=!1,this.cC=!1,this.pDs=0,this.pDe=0,this.hCTTime=0,this.contextElement=null,this.pGoal=!1,this.jSel=qe,this.wTi=null,this.wld=null,this.dO=0,this.or=qe,this.orS=!1,this.curW=0,this.gList=[],this.scrollEvent=Ui(this._scrollEvent,500),this.scrollEventContexed=Ui(this._scrollEventContexed,500),this.searchFixEl=Ui(this._searchFixEl,1e3)}(en=Os=Os||{}).activateDXAWidget=function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.decibelinsight.net/index.js",e.addEventListener("load",function(){var e=document.createElement("div");e.className="react-container",document.querySelectorAll("body")[0].appendChild(e),window.dcl&&window.dcl.bridge(window.dcl.RealtimeDxsWidgetContainer,e)}),document.querySelector("head").appendChild(e)},en.activateHeatmap=function(e){var t;return e&&window.URLSearchParams&&e instanceof URLSearchParams&&(t=e.get("appHost"),e=e.get("appVersion"),t="https://"+(-1<t.indexOf("localhost")?"dev-kappa-app.decibelinsight.net":t)+"/js/hm.js"+(e?"?_="+e:""),(e=document.createElement("script")).type="text/javascript",e.src=t,e.async=!0,e.addEventListener("load",function(){clearInterval(window.dxaHmInterval)}),document.body.appendChild(e),document.body.contains(e))&&e.src===t?void 0:"activation failed"},r.prototype.pointerUp=function(e){var t;e=Mr(e),this.lInt=I(),v.canCollect()&&(this.isS||(t=this.makePointerEvent(e),this.handleClickSwipe(e,t),this.handlePinch(t),this.clearClickData(),t.p&&t.t&&this.pT--,this.getSelection(),this.tF=0),this.hasFocus=!0)},r.prototype.pointerDown=function(e){var t,i;e=Mr(e),this.lInt=I(),v.canCollect()&&(this.tF=0,t=e.touches,i={single:!1,double:!1},(e=this.makePointerEvent(e)).p&&e.t&&this.pT++,this.processTouchCount(e,t,i),this.isS||(i.single?(this.cC=!0,this.tTi=I(),this.tX=e.x,this.tY=e.y):i.double&&!e.p&&(this.cP=!0,this.cC=!1,this.pDs=g.sqrt(g.pow(t[1].pageX-t[0].pageX,2)+g.pow(t[1].pageY-t[0].pageY,2)))),this.hasFocus=!0)},r.prototype.pointerCancel=function(e){e=Mr(e),v.canCollect()&&(this.tF=0,e=this.makePointerEvent(e),this.cC=!1,e.p&&e.t&&this.pT--,this.tX=null,this.tY=null,this.tTi=0,this.cP=!1,this.pDs=0,this.pDe=0)},r.prototype.pointerMove=function(e){var t;e=Mr(e),this.lInt=this.lHov=I(),v.canCollect()&&(t=this.makePointerEvent(e),e=e.touches,t.m&&(this.mX=t.x,this.mY=t.y,this.hEl=this.getClElID(t.target)),this.cP&&t.t&&!t.p&&2===(null==e?void 0:e.length)&&(this.pDe=g.sqrt(g.pow(e[1].pageX-e[0].pageX,2)+g.pow(e[1].pageY-e[0].pageY,2))),this.hasFocus=!0)},r.prototype.getSelection=function(){var e=qe,t=l.getSelection();v.isJ()&&l.getSelection&&(e=t.rangeCount?this.getSelectionRange(t):e)!==this.jSel&&(this.jSel=v.jCur.s=e)},r.prototype.getSelectionRange=function(e){var t,i,r,s,n=qe;return e.getRangeAt&&(i=(t=e.getRangeAt(0)).startOffset,r=t.endOffset,t.startContainer===t.endContainer&&i===r||(s=si(t,!0),n=zt(t.startContainer)+":"+i+"|"+zt(t.endContainer)+":"+r+"|"+g.floor(s.left)+Ge+g.floor(s.top)+Ge+g.ceil(s.right)+Ge+g.ceil(s.bottom)+Ge+e.toString().length)),n},r.prototype.handleClickSwipe=function(e,t){var i=I();i-this.hCTTime<50||(this.hCTTime=i,this.cC&&(g.abs(this.tX-t.x)<5&&g.abs(this.tY-t.y)<5?this.isClickEvent(t)&&(this.setClickData(t,e),this.pGoal&&this.processClick(t.target),this.sendClick(t.target)):!t.t||f(this.tX)||f(this.tY)||this.handleSwipe(t)))},r.prototype.handleSwipe=function(e){var t,i=e.x-this.tX,e=e.y-this.tY,r=g.abs(i),s=g.abs(e);I()-this.tTi<=500&&(50<=r&&s<=r?t=i<0?Ht:Vt:50<=s&&r<=s&&(t=e<0?Bt:qt),t)&&(v.jCur.tE=t)},r.prototype.handlePinch=function(e){var t;this.cP&&e.t&&!e.p&&(this.pDs&&this.pDe&&(1<this.pDs-this.pDe?t="i":this.pDs-this.pDe<-1&&(t="o"),t)&&(v.jCur.tE=t),this.cP=!1)},r.prototype.setClickData=function(e,t){var i=e.x,r=e.y;this.mX=i,this.mY=r,this.clX=i,this.clY=r,e.t?this.clT=3:f(t.which)?this.clT=Ps(t.button,4):this.clT=Ps(t.which,2),this.clK=this.setClickKey(t),this.hasFocus=!0},r.prototype.sendClick=function(e){var t,i,r=I(),s=this.getClElID(e),n=this.clX,o=this.clY,a={x:n,y:o},l=K(e);Pe(n)&&Pe(o)&&(this.adjustClickHover(a,e),e={x:a.x,y:a.y,t:this.clT,ti:r},t=e,i=this.oCl,i=100<t.ti-i.ti||2<g.abs(i.x-t.x)||2<g.abs(i.y-t.y))&&(this.oCl=e,a.x=Ls(a.x),a.y=Ls(a.y),v.isJ()?(Fe(v.jCur,{cX:n,cY:o,hX:a.x,hY:a.y,cT:this.clT,cE:s,n:1,tag:l,cK:this.clK,cF:this.tF}),v.addToJBuf(r)):v.postInfo("click",{clx:a.x,cly:a.y,clt:this.clT,ceid:s,tag:l}),this.searchFixEl(),v.smo||v.indexItems())},r.prototype.processClick=function(e){if(e&&!yi(e)){for(var t=0,i=this.gList;t<i.length;t++){var r,s,n=i[t];T.matchesSelector(e,n.sel)&&(r="g"+n.gid+n.sel,500<(s=I())-(this[r]||0))&&(this[r]=s,v.sendTrackedEvent(n.gid,n.val,n.valType,e))}this.processClick(e.parentNode||e.host)}},r.prototype.setClickKey=function(e){e=Kt(e),e=f(c.evtKeyCodes)?null:c.evtKeyCodes["f"+e];return e?e.str:qe},r.prototype.clearClickData=function(){this.cC=!1,this.tX=null,this.tY=null,this.tTi=0,this.cP=!1,this.pDs=0,this.pDe=0},r.prototype.getClElID=function(e){var t;return f(e)?qe:(f(t=E(e,"data-di-id"))&&(t=qe,yi(e)||(t=this.getClElID(e.parentNode||e.host))),t)},r.prototype.onWheel=function(e){var t,i;e=Mr(e),v.isJ()&&(t=this,i=1===g.max(-1,g.min(1,Me.getWheelDelta(e)))?Gt:Xt,this.wld!==i&&null!==this.wld&&(v.jCur.tE=this.wld),clearTimeout(this.wTi),this.wTi=setTimeout(function(){v.jCur.tE=i,t.wld=null},250),this.wld=i,this.hasFocus=!0)},r.prototype.touchForceChanged=function(e){(e=Mr(e)).changedTouches&&e.changedTouches.length&&(this.tF=g.max(this.tF,g.round(1e3*e.changedTouches[0].force)))},r.prototype.mouseForceChanged=function(e){e=Mr(e),this.tF=g.max(this.tF,g.round(e.webkitForce/3*1e3))},r.prototype.processTouchCount=function(e,t,i){e.m?(i.single=!0,i.double=!1):e.t&&null!=t&&t.length?(i.single=1===t.length,i.double=2===t.length):e.p&&e.t&&(i.single=1===this.pT,i.double=2===this.pT)},r.prototype.keyDown=function(e){var t;e=Mr(e),v.isJ()&&(t=Kt(e),this.setKeyPress(e.keyCode,c.evtKeyCodes["f"+t]),this.hasFocus=!0)},r.prototype.setKeyPress=function(e,t){t&&-1!==vi(e,t.keys)&&(v.jCur.kE=t.str+e,this.lInt=I())},r.prototype.handleBlur=function(){return this.hasFocus=!1},r.prototype.handleFocus=function(){return!(this.hasFocus=!0)},r.prototype.handleVisibilityChange=function(){var e;return typeof document.hidden!==Xe?e=We:typeof document.msHidden!==Xe?e=Je:typeof document.webkitHidden!==Xe&&(e=ze),this.hasFocus=!document[e],!1},r.prototype.hoverIntervalFn=function(){var e,t;v.canCollect()&&(t=I(),e={x:this.mX,y:this.mY},this.adjustClickHover(e),this.hasFocus&&t-this.lHov<this.hto&&(this.srC++,t=Ls(e.x)+Ge+Ls(e.y)+(this.hEl===qe?qe:Ge+this.hEl),this.hvDur[t]=(this.hvDur[t]||0)+k.hoverThreshold),100<=this.srC)&&this.sendScroll()},r.prototype.resizeEvent=function(){var e;this.lInt=I(),v.canCollect()&&(e=mi(l),this.vpW=e.width,this.vpH=e.height,this.svT=Ni(l),this.svL=Pi(l),this.svB=e.height+this.svT,this.contextElement&&(this.asvT=Ni(this.contextElement),this.asvL=Pi(this.contextElement),this.asvB=e.height+this.asvT),this.calFixPos())},r.prototype.orientationChanged=function(){var e=this;this.orS?this.screenOrientationChanged():setTimeout(function(){e.dO=ti(90!==g.abs(l.orientation))},100)},r.prototype.screenOrientationChanged=function(){var e=X(this.or)?this.or:this.or.type;this.dO=ti(-1===e.indexOf(Ye))},r.prototype.oQueryObs=function(){var e;this.curW!==l.innerWidth&&(e=l.matchMedia($e),this.orS?this.screenOrientationChanged():this.dO=ti(!e.matches),this.curW=l.innerWidth)},r.prototype._scrollEvent=function(){var e,t=this,i=Ni(l),r=Pi(l);this.lInt=I(),this.isS||(this.sX=i,this.sY=r),this.isS=!0,clearTimeout(this.sTi),this.sTi=setTimeout(function(){t.isS=!1,t.sX=0,t.sY=0},250),v.canCollect()&&(this.svT=i,this.svL=r,this.svB=gi(l)+this.svT,this.lst!==this.svT&&(e=0-this.lst,this.lst=this.svT,e+=this.lst,this.mY=g.round(this.mY+e)),this.lsl!==this.svL)&&(e=0-this.lsl,this.lsl=this.svL,e+=this.lsl,this.mX=g.round(this.mX+e))},r.prototype._scrollEventContexed=function(){this.lInt=I(),this.asvT=Ni(this.contextElement),this.asvL=Pi(this.contextElement),this.asvB=this.vpH+this.asvT},r.prototype.detectScroll=function(){var e=I();this.hasFocus&&e-this.lInt<this.cto&&(this.srC++,e=this.contextElement?Ms(this.asvT)+Ge+Ms(this.asvB):Ms(this.svT)+Ge+Ms(this.svB),this.scDur[e]=(this.scDur[e]||0)+v.cIntT,this.focusTime+=v.cIntT)},r.prototype.sendScroll=function(e){var t,i={},r={};for(t in this.hvDur)De(this.hvDur,t)&&this.hvDur[t]>=k.minHoverTime&&(i[t]=this.hvDur[t],delete this.hvDur[t]);for(t in this.scDur)De(this.scDur,t)&&750<=this.scDur[t]&&(r[t]=this.scDur[t],delete this.scDur[t]);v.postInfo(Qe,{ft:this.focusTime,scroll:r,hover:i},{onExit:e||null,time:this.lInt}),this.focusTime=0,this.srC=0},r.prototype.adjustClickHover=function(e,t){var i=this.fixPos;t&&Ns(t)?(e.x-=Pi(l),e.y-=Ni(l)):(Pe(i.left)&&Pe(i.top)&&(e.x=g.round(e.x-i.left),e.y=g.round(e.y-i.top)),this.contextElement&&(e.x+=Pi(this.contextElement),e.y+=Ni(this.contextElement))),this.contextElement&&(t=si(this.contextElement),e.x-=t.left,e.y-=t.top)},r.prototype.setFixedEl=function(){X(k.fixedElementSelector)&&(k.fixedElementSelector!==qe?"string"==typeof k.fixedElementSelector&&(k.fixedElementSelector=k.fixedElementSelector.split("|")):k.fixedElementSelector=[]),this.searchFixEl()},r.prototype._searchFixEl=function(){for(var e=0,t=k.fixedElementSelector;e<t.length;e++){var i=t[e];if((i=T.search(i)).length){this.fixEl=i[0];break}}this.calFixPos();var r=this;clearTimeout(this.searchFixedTi),this.searchFixedTi=setTimeout(w(function(){r.searchFixEl()},window[window.DecibelInsight]),5e3)},r.prototype.calFixPos=function(){var e=si(this.fixEl);e&&!f(e.left)&&(this.fixPos=e,Ns(this.fixEl)?(this.fixPos.top-=Ni(l),this.fixPos.left-=Pi(l)):this.contextElement&&(e=si(this.contextElement),this.fixPos.top=this.fixPos.top+Ni(this.contextElement)-e.top,this.fixPos.left=this.fixPos.left+Pi(this.contextElement)-e.left))},r.prototype.isClickEvent=function(e){return!_e(e.target)&&(!this.isS||g.abs(this.sX-Ni(l))<5&&g.abs(this.sY-Pi(l))<5)},r.prototype.makePointerEvent=function(e){var t={};return t.p=-1<e.type.indexOf(Ke),t.target=Lr(e),t.p?(t.t=e.pointerType===Ze,t.m=!t.t):(t.t=-1<e.type.indexOf(Ze),t.m=-1<e.type.indexOf(et)),t.m||t.p?b(e.pageX)?(t.x=e.clientX+ri(tt),t.y=e.clientY+ri(it)):(t.x=e.pageX,t.y=e.pageY):t.t&&(e=this.getTouch(e),t.x=e.pageX,t.y=e.pageY),t.x=g.round(t.x),t.y=g.round(t.y),t},r.prototype.getTouch=function(e){var t={pageX:0,pageY:0};return e.changedTouches&&e.changedTouches.length?t=e.changedTouches[0]:e.touches&&e.touches.length?t=e.touches[0]:b(e.pageX)||(t=e),t},r.prototype.contextMenu=function(e){e=Mr(e),v.canCollect()&&0<this.tTi&&!f(this.tX)&&!f(this.tY)&&(this.setClickData({x:this.tX,y:this.tY,t:!1},e),this.sendClick(Lr(e)),this.clearClickData())},r.prototype.setInitFields=function(){this.contextElement=T.search(k.altContextSelector)[0],this.setFixedEl();var e=mi(l);this.vpW=e.width,this.vpH=e.height,Ut in l?this.visualViewportEvent():(this.z=1,this.vOT=0,this.vOL=0),this.svT=Ni(l),this.svL=Pi(l),this.svB=this.vpH+this.svT,this.contextElement&&(this.asvT=Ni(this.contextElement),this.asvL=Pi(this.contextElement),this.asvB=this.vpH+this.asvT),this.mX=g.round(this.vpW/2),this.mY=g.round(this.vpH/2)},r.prototype.addInteractionEvents=function(){var e;this.contextElement&&d(this.contextElement,rt,this.scrollEventContexed,this,!0),d(u.body,rt,this.scrollEvent,this,!0),d(l,rt,this.scrollEvent,this,!0),d(l,st,this.resizeEvent,this,!0),Ut in l&&(d(l.visualViewport,rt,this.visualViewportEvent,this,!0),d(l.visualViewport,st,this.visualViewportEvent,this,!0)),this.addClickEvents(),d(l,nt,this.handleBlur,this),d(u,nt,this.handleBlur,this),d(l,ot,this.handleFocus,this),d(u,ot,this.handleFocus,this),typeof document.hidden!==Xe?e=at:typeof document.msHidden!==Xe?e=lt:typeof document.webkitHidden!==Xe&&(e=ht),d(u,e,this.handleVisibilityChange,this),this.hInt=setInterval(w(this.hoverIntervalFn,this),k.hoverThreshold)},r.prototype.addClickEvents=function(e){var t,i,r,s,n=!1,o=e||u;ct in l?(i=dt,t=ut,r=pt,s=ft,n=!0):mt in l&&(i=gt,t=vt,r=yt,s=St),i&&(d(o,i,this.pointerDown,this,n),d(o,t,this.pointerUp,this,n),d(o,r,this.pointerMove,this,n),d(o,s,this.pointerCancel,this,n)),ct in l&&c.isAC||(d(o,Et,this.pointerDown,this),d(o,bt,this.pointerUp,this),d(o,Ct,this.pointerMove,this)),d(o,kt,this.contextMenu,this),e||this.addForceEvent()},r.prototype.visualViewportEvent=function(){var e,t,i;v.canCollect()&&(e=l.visualViewport,this.z=(t=e.scale,0<(i=6)?(i=Math.pow(10,i),Math.round(t*i)/i):Math.round(t)),this.vOT=g.max(0,g.round(e.offsetTop)),this.vOL=g.max(0,g.round(e.offsetLeft)),i=mi(l),this.vpW=i.width,this.vpH=i.height)},r.prototype.addForceEvent=function(){Ot in u&&d(u,Dt,this.touchForceChanged,this),Ft in u&&d(u,wt,this.mouseForceChanged,this)},r.prototype.addJourneyEvents=function(){v.j&&(d(u,At,this.keyDown,this),d(u,Pt,this.getSelection,this),d(u,Me.getWheelEvent(),this.onWheel,this,!0),this.or=screen.orientation||screen.mozOrientation||screen.msOrientation,this.orS=!f(this.or),Nt in l?(d(l,st,this.orientationChanged,this),this.orientationChanged()):Mt in l&&(d(l,st,this.oQueryObs,this),this.oQueryObs()))};var s=r,js="valueComp",Us="location",Hs="string",Vs="function",Bs="object",qs="undefined",Gs="once",Xs="dom-selector",Ws="js-var",Js="url-param",zs="gtm-var",Ys="gtm-event",$s="load",Qs={addEvent:{element:{paramType:"object",required:!0},eventType:{paramType:"string",required:!0},handler:{paramType:"function",required:!0},context:{paramType:"object",required:!0},passive:{paramType:"boolean",required:!1}},ajax:{url:{paramType:"string",required:!0},options:{paramType:"object",required:!1},successCallback:{paramType:"function",required:!1},failCallback:{paramType:"function",required:!1}},bindGoalEvents:{goalList:{paramType:"object",required:!0}},canCollect:{featureFlag:{paramType:"number",required:!1}},closest:{el:{paramType:"object",required:!0},selector:{paramType:"string",required:!0}},dataRetention:{state:{paramType:"boolean",required:!0}},enableRealTime:{},forIn:{obj:{paramType:"object",required:!0},callback:{paramType:"function",required:!0},thisArg:{paramType:"object",required:!1}},formSubmitted:{formNodeSel:{paramType:"string|object",required:!0},event:{paramType:"object",required:!0}},getAttribute:{node:{paramType:"object",required:!0},attrName:{paramType:"string",required:!0}},getCookie:{cookieName:{paramType:"string",required:!0}},getDIDOMId:{el:{paramType:"object",required:!0}},getXPath:{el:{paramType:"object",required:!0}},getLeadId:{options:{paramType:"object",required:!1}},getLS:{key:{paramType:"string",required:!0}},getNodeName:{el:{paramType:"object",required:!1}},getQualifiedSelector:{el:{paramType:"object",required:!0},indexCounter:{paramType:"number",required:!1}},getSS:{key:{paramType:"string",required:!0}},getStyle:{el:{paramType:"object",required:!0},cssProperty:{paramType:"string",required:!1}},handleException:{tag:{paramType:"string",required:!0},e:{paramType:"object",required:!0},type:{paramType:"object",required:!1},message:{paramType:"object",required:!1}},hash:{str:{paramType:"string",required:!1}},hasKey:{obj:{paramType:"object",required:!0},key:{paramType:"string|number",required:!0}},sendApplicationError:{error:{paramType:"object|string",required:!0},useAsSelector:{paramType:"boolean",required:!0}},sendCustomDimension:{data:{paramType:"object|array|string",required:!0},value:{paramType:"string|number|boolean|object",required:!0},valueIsParam:{paramType:"boolean|number",required:!0}},sendHTTPError:{code:{paramType:"string|number",required:!0}},sendPageGroup:{groupName:{paramType:"string|object",required:!0},dataLayerId:{paramType:"number",required:!0}},sendTrackedEvent:{name:{paramType:"string|number|object",required:!0},value:{paramType:"number|object",required:!1},valueType:{paramType:"string|object",required:!1},el:{paramType:"object",required:!1},pageUrl:{paramType:"string|object",required:!1}},trackPageView:{urlToLoad:{paramType:"string|object",required:!0},params:{paramType:"object",required:!0},internal:{paramType:"boolean|number",required:!0}},updateUserId:{id:{paramType:"object|string|number",required:!0}}},Ks=new RegExp("(?:\\[([\"']?)(.+?)\\1\\])|(?:\\.?([^.\\n[\\]]+)\\.?)","g"),Zs=/^dataLayer\[ *[0-9]+ *\]/,en=(tn.prototype.createListeners=function(e){for(var t,r=this,s=(void 0===e&&(e=[]),this.rules.length<=0&&void 0===this.queueInterval&&(this.queueInterval=setInterval(function(){return r.queueRetry()},500)),this.rules=this.rules.concat(e),[]),i=0;i<e.length;++i){var n=e[i];n.id=++this.ruleIdCounter,"object"==typeof n.convertedEvent&&(n.event=n.convertedEvent,delete n.convertedEvent,n.LegacyDataLayer)?s.push({rule:n}):"object"==typeof n.event&&"object"==typeof n.action&&this.initialiseRule(n)}setTimeout(function(){for(var e=0,t=s;e<t.length;e++){var i=t[e].rule;"object"==typeof i.action&&r.initialiseRule(i)}},null!==(t=+k.datalayerTO)?t:0)},tn.prototype.recreateOnLoadListeners=function(){for(var e=0;e<this.rules.length;++e){var t=this.rules[e];"object"==typeof t.event&&t.event.name===$s&&(this.timesSent[t.id]=0,this.attemptRule(t))}},tn.prototype.reset=function(){this.previousValues={}},tn.prototype.initialiseRule=function(e){var t,i,r,s=this,n=(this.timesSent[e.id]=0,this.getTargets(e));e.event.name===$s&&this.attemptRule(e),e.event.name===Ys&&(t=window.dataLayer,i=this,t)&&(r=t.push,t.push=function(){return arguments[0].event===e.event.target&&i.attemptRule(e),r.apply(this,arguments)});for(var o=0,a=n;o<a.length;o++)d(a[o],e.event.name,function(){s.attemptRule(e)},window,void 0,JSON.stringify(e))},tn.prototype.addListenersForTargetsIn=function(l){for(var h=this,c=this,e=0;e<this.rules.length;++e)(e=>{var t=c.rules[e];if(c.timesSent[t.id]=0,"object"==typeof t.event&&"object"==typeof t.action){for(var i=[],r=0,s=l;r<s.length;r++){var n=s[r];i.push.apply(i,c.getTargets(t,n))}for(var o=0,a=i=i.filter(function(e){return e!==window});o<a.length;o++)d(a[o],t.event.name,function(){h.validateRuleOptions(t)&&h.validateCondition(t.condition)&&h.executeAction(t)},window,void 0,JSON.stringify(t))}})(e)},tn.prototype.getTargets=function(e,t){var i=[],e=e.event.target;return typeof e===qs?i=[window]:typeof e===Hs?i=T.search(e,t||window.document,!1):!f(e)&&e.variable&&e.variable.type===Xs&&(i=T.search(e.variable.name,t||window.document,!1)),i},tn.prototype.validateCondition=function(e){if(void 0===e)return!0;var t=e.value,i=e.reference;if(e.type===Us){if(typeof t===Hs&&!f(t))return-1!==location.href.indexOf(t)}else if(e.type===js){var r=typeof i===Hs?this.getDeepVariableFromObject(i,window):this.getDLRVariable(i);if(void 0!==r)switch(e.operator){case"eq":return r==t;case"ne":return r!=t;case"gt":return t<r;case"gte":return t<=r;case"lte":return r<=t;case"lt":return r<t;case"urlregex":return new RegExp(t).test(r)}else A.processError(this.tag,new Error("Variable "+i+" does not exist in the scope"),_.ERROR,Oi.CAUGHT_ERROR)}return!1},tn.prototype.executeAction=function(e){var t,i=e.action,r=i.name,s=i.args,i=window[window.DecibelInsight][r],n=!0;if(e.event.name===$s)for(var o in s){o=s[o];if("object"==typeof o&&"object"==typeof o.variable&&"js-var"===o.variable.type){var a=this.getDeepVariableFromObject(o.variable.name,window);if(e.event.name===$s){if((null==(t=this.previousValues[e.id])?void 0:t.value)===a)return!1;n=!(this.previousValues[e.id]={name:o.variable.name,value:a})}if(void 0===a)return!1}}if(typeof i===Vs)try{return i.apply(window[window.DecibelInsight],this.orderNamedArguments(r,s)),void 0!==this.timesSent[e.id]&&++this.timesSent[e.id],n}catch(e){A.processError(this.tag,new Error("The following error occurred during DLR execution: \\n "+e),_.ERROR,Oi.CAUGHT_ERROR)}else A.processError(this.tag,new TypeError('Action "'+r+'" is not a DXA API method.'),_.ERROR,Oi.CAUGHT_ERROR)},tn.prototype.orderNamedArguments=function(e,t){var i,r,s=[],n=Qs[e];if(typeof n!==qs)for(var o in n)De(n,o)&&(i=n[o],typeof(r=typeof t[o]===Bs&&t[o].variable?this.getDLRVariable(t[o]):t[o])!==qs?(!isNaN(r)&&!isNaN(parseFloat(r))&&r<Math.pow(10,20)&&(r=+r),i.paramType.includes(typeof r)?s.push(r):(s.push(void 0),A.processError(this.tag,new TypeError("Parameter "+o+" of type "+i.paramType+" received value of incorrect type: "+r+"."),_.ERROR,Oi.CAUGHT_ERROR))):i.required?(s.push(void 0),A.processError(this.tag,new TypeError("Parameter "+o+" of type "+i.paramType+" is required."),_.ERROR,Oi.CAUGHT_ERROR)):s.push(void 0));return s.length?"sendPageGroup"===e&&s.push(!0):s=void 0,s},tn.prototype.getDLRVariable=function(e){var t;switch(e.variable.type){case Xs:var i=T.search(e.variable.name,window.document,!1);i.length&&(t=T.getText(i[0]).trim());break;case Ws:t=this.getDeepVariableFromObject(e.variable.name,window);break;case Js:t=hi()[e.variable.name];break;case zs:t=this.getFromDataLayer(e)}return t},tn.prototype.getFromDataLayer=function(e){var t,i=window.google_tag_manager;return i?i[e.variable.containerId]?t=i[e.variable.containerId].dataLayer.get(e.variable.name):A.processError(this.tag,new TypeError("GTM container id "+e.variable.containerId+" does not exist."),_.ERROR,Oi.CAUGHT_ERROR):A.processError(this.tag,new TypeError("GTM object does not exist."),_.ERROR,Oi.CAUGHT_ERROR),t},tn.prototype.validateRuleOptions=function(e){return void 0===e.action.frequency||e.action.frequency!==Gs||this.timesSent[e.id]<1},tn.prototype.getDeepVariableFromObject=function(e,t){var i,e=(e=>{Ks.lastIndex=0,e=e.replace(Zs,"dataLayer");for(var t=[],i=Ks.exec(e);i;)i[2]?!isNaN(parseFloat(i[2]))&&isFinite(+i[2])?t.push(i[2].trim()):t.push(i[2]):i[3]&&t.push(i[3]),i=Ks.exec(e);return"window"===t[0]&&t.shift(),t})(e);if(0<e.length)try{i=function e(t,i){for(var r=0,s=t;r<s.length;r++){var n=s[r],o="dataLayer"===a,a=n;if(o&&Ae(i)){for(var l=!1,h=0,c=i;h<c.length;h++){var d=e([n],c[h]);b(d)||(i=d,l=!0)}l||(i=void 0)}else{if(!("object"==typeof i&&n in i)){i=void 0;break}i=i[n]}}return i}(e,t)}catch(e){A.processError(this.tag,new Error("Failed to retrieve deeply-nested JS variable: \\n "+e),_.ERROR,Oi.CAUGHT_ERROR)}return i},tn.prototype.queueRetry=function(){for(var e=0;e<this.retryRules.length;e++){var t=this.retryRules[e],i=t.rule;if((this.attemptRule(i)||(++t.attempts,t.attempts>this.maxAttempts))&&(this.retryRules.splice(e,1),--e),this.retryRules.length<=0)return void clearInterval(this.queueInterval)}},tn.prototype.attemptRule=function(e){var t,i=!1;return this.validateRuleOptions(e)&&(this.validateCondition(e.condition)?(t=this.executeAction(e))?i=!0:!1===t&&this.addRuleToQueue(e):e.event.name===$s&&"js-var"===(null==(t=null==(t=null==(t=e.condition)?void 0:t.reference)?void 0:t.variable)?void 0:t.type)&&void 0===this.getDeepVariableFromObject((null==(t=e.condition)?void 0:t.reference).variable.name,window)&&this.addRuleToQueue(e)),i},tn.prototype.addRuleToQueue=function(e){for(var t=0,i=this.retryRules;t<i.length;t++)if(i[t].rule.id===e.id)return;this.retryRules.push({rule:e,attempts:0})},tn);function tn(){this.rules=[],this.tag="DataLayerRulesError",this.timesSent={},this.previousValues={},this.retryRules=[],this.maxAttempts=3600,this.ruleIdCounter=0}function rn(e,t){for(var i,r,s,n=(()=>{for(var e=T.search("nav"),t=T.search("ul:not(ul ul, nav ul)"),i=0;i<t.length;i++){var r=t[i];T.search("li:has(>a)",r,!0).length===r.children.length&&e.push(r)}return e})(),o=[y.img,y.input,y.select,y.textarea,y.a,y.button].join(","),a=0,l=n.concat(T.search(o));a<l.length;a++){var h=l[a],c=mi(h),d=si(h,!1,c);if(c.width&&c.height){var u=h.nodeName===y.img?(i=c.width,r=c.height,s=d,.02<i*r/t?[Math.floor(s.left),Math.floor(s.top),Math.ceil(s.left+i),Math.ceil(s.top+r)]:null):[Math.floor(d.left),Math.floor(d.top),Math.ceil(d.left+c.width),Math.ceil(d.top+c.height)];if(!f(u))switch(h.nodeName){case y.img:e.img.push(u);break;case y.a:case y.button:e.link.push(u);break;case y.input:case y.select:case y.textarea:e.fields.push(u);break;case y.ul:case y.li:case y.nav:e.nav.push(u)}}}}function sn(e,t,i,r,s,n){var o=e.textContent.trim().length;return o&&(t.selectNodeContents(e),(e=t.getClientRects()).length)&&(t=((e,t,i,r,s)=>{for(var n=[],o=9999999,a=9999999,l=0,h=0,c=0,d=e;c<d.length;c++)var u=d[c],o=Math.min(o,u.left),a=Math.min(a,u.top),l=Math.max(l,u.right),h=Math.max(h,u.bottom),p=Math.abs(l-o),f=Math.abs(h-a);return n=r/(e=p*f)<.007&&.002<e/s&&(20<p&&20<f&&5<r)?[Math.floor(o+t),Math.floor(a+i),Math.ceil(l+t),Math.ceil(h+i),r]:n})(Array.prototype.slice.call(e),i,r,o,s)).length&&n.push(t),o}function nn(e,t){function i(e){for(e=e.firstChild;e;)e.nodeType===C.TEXT?a+=sn(e,r,n,o,t,s):e.nodeType===C.ELEMENT&&e.nodeName!==y.button&&e.nodeName!==y.a&&i(e),e=e.nextSibling}var r=document.createRange(),s=[],n=ri("Left"),o=ri("Top"),a=0;i(document.body),e.txt=(e=>{var t=[];if(e.length){t.push(e.shift());for(var i=0;i<e.length;i++){var r=e[i],s=t[t.length-1];80<Math.max(0,Math.min(s[2],r[2])-Math.max(s[0],r[0]))/((Math.abs(s[2]-s[0])+Math.abs(r[2]-r[0]))/2)*100&&Math.abs(r[1]-s[3])<30?(s[0]=Math.min(s[0],r[0]),s[1]=Math.min(s[1],r[1]),s[2]=Math.max(s[2],r[2]),s[3]=Math.max(s[3],r[3]),s[4]+=r[4]):t.push(r)}}return t})(s),e.charArea=a?Math.round(t/a):0}an.prototype.getData=function(){var e,t={img:[],nav:[],fields:[],link:[],txt:[],charArea:0};return k.noPageMeta||(rn(t,e=(e=mi(window)).width*e.height),nn(t,e)),t};var on=an;function an(){}hn.prototype.collectResourceTimingSpeed=function(n){var o=this;void 0===n&&(n=15),setTimeout(function(){for(var e=0,t=0,i=0,r=window.performance.getEntries();i<r.length;i++){var s=r[i];0<s.transferSize&&1e3<s.decodedBodySize&&(e+=s.encodedBodySize,t+=s.responseEnd-s.fetchStart)}o.downSpeed=e/(t/1e3),e<1e4&&0<--n&&o.collectResourceTimingSpeed(n)},500)},hn.prototype.collectWSSNetworkSpeed=function(e,t,i){i-=t,this.upSize+=e.size,this.upTime+=i,t=this.upSize/(this.upTime/1e3);this.upSpeed=t,++this.collectedPackages},hn.prototype.sendCollectedData=function(){this.hasSentData=!0;var e=8*this.downSpeed/1e3,t=8*this.upSpeed/1e3;v.postInfo("netSpeed",{dSpeed:(e&&e!==1/0?e:0).toFixed(2),uSpeed:(t&&e!==1/0?t:0).toFixed(2)})},hn.prototype.scheduleCollectedData=function(){var e=this;setTimeout(function(){e.collectedPackages?e.sendCollectedData():(e.scheduleCollectedData(),e.collectedPackages=0)},1e4)};var ln=hn;function hn(){this.downSpeed=0,this.upSpeed=0,this.upSize=0,this.upTime=0,this.collectedPackages=0,this.hasSentData=!1,this.collectResourceTimingSpeed(),this.scheduleCollectedData()}dn.prototype.proxyOnError=function(){k.err=k.err||[],window.onerror&&-1!==window.onerror.toString().indexOf("_da_.err.push(arguments)")||(k.oldOnError=window.onerror,window.onerror=function(){k.err.push(arguments),k.oldOnError&&k.oldOnError.apply(window,Array.prototype.slice.call(arguments))})},dn.prototype.validateError=function(e,t,i,r){return!S.erTest.test(e)&&""!==t&&(0<i||0<r)},dn.prototype.sendApplicationError=function(e,t){if(v.canCollect(R.ERROR_TRACKING)&&!f(e))if(t)for(var i=0,r=T.matches(":visible",T.search(e));i<r.length;i++){var s=r[i],s=Vi(T.getText(s));f(s)||v.postInfo("applicationerror",{error:s})}else v.postInfo("applicationerror",{error:e})},dn.prototype.sendHTTPError=function(e,t){var i;v.canCollect(R.ERROR_TRACKING)&&!f(e)&&Pe(e)&&(0===v.httpEr?(v.httpEr=e,v.postInfo("httperror",{error:e})):e!==v.httpEr&&(i="DXA warning: HTTP error code ("+v.httpEr+") has been collected for this pageview already. ",a(i+=t?"DXA thinks the http error code should be "+e+". Please make sure the error code sent earlier was correct or let DXA collect the http error code automatically.":"Please contact support if you think the error code should be "+e+".")))},dn.prototype.processHTTPError=function(){var e,t;h(e=this.sendHTTPError.bind(this))&&l.performance&&h(l.performance.getEntriesByType)&&(t=l.performance.getEntriesByType("navigation")).length&&!b((t=t[0]).responseStatus)&&400<=t.responseStatus&&e(t.responseStatus,!0)},dn.prototype.sendError=function(e,t,i,r,s){if(s){if(s.di_processed)return;s.di_processed=!0}Ar(e)&&this.sendErData(e,t,i,r),X(t)&&-1<t.indexOf("decibelinsight.net")&&A.processError(v.tag,s,_.ERROR,Oi.CAUGHT_ERROR),v.isJ()&&(e=s,i=c.jEList.GenericError,r=i=e&&(e=Ti(e),c.jEList.hasOwnProperty(e))?c.jEList[e]:i,v.jCur.jsE=(v.jCur.jsE||0)+1,v.jCur.jsEO[r]=De(v.jCur.jsEO,r)?v.jCur.jsEO[r]+1:1)},dn.prototype.sendErData=function(e,t,i,r){v.canCollect(R.ERROR_TRACKING)&&v.eC<5&&(e=e.trim(),t=f(t)?"":t.split("?")[0],i=Pe(i)?i:0,r=Pe(r)?r:0,this.validateError(e,t,i,r))&&(v.eC++,v.postInfo("error",{error:e,errorUrl:t,line:i,column:r}))};var cn=dn;function dn(){}fn.prototype.sendPagePerformance=function(){var e=this,t=this.getPerformanceTiming();t&&0<t.loadEventStart?(v.postInfo("perf",this.formatPerformanceTimingData(t)),this.tpWaitTime=void 0):(this.tries<150&&setTimeout(function(){return e.sendPagePerformance()},100),this.tries++)},fn.prototype.formatPerformanceTimingData=function(e){return{lid:v.leadId,conn:g.round(e.requestStart-e.startTime),down:g.round(e.responseEnd-e.requestStart),rend:g.round(e.loadEventStart-e.responseEnd),fire:this.tpWaitTime||g.round(e.domInteractive-e.startTime)}},fn.prototype.getPerformanceTiming=function(){var e,t;return e=p(l.performance)&&(t=l.performance.getEntriesByType("navigation")).length?t[0]:e},fn.prototype.sendTrackedPagePerf=function(){f(this.tpWaitTime)||(v.postInfo("perf",{lid:v.leadId,conn:0,down:0,rend:0,fire:this.tpWaitTime}),this.tpWaitTime=void 0)};var un,pn=fn;function fn(){this.tries=0}function mn(e){return Math.abs(e)<10?(e<0?"-":"")+"0"+Math.abs(e):""+e}function gn(){var e=k.curTime?1e3*k.curTime:Math.min(Math.max(v.getPageTime(),1),7258118400),e=new Date(e);return Math.min(Math.max(e.getUTCFullYear(),1970),2200)+"-"+mn(Math.min(Math.max(e.getUTCMonth(),0),11)+1)+"-"+mn(Math.min(Math.max(e.getUTCDate(),1),31))}function vn(e){var t=E(e,"data-di-res-id");return f(t)&&(t=di(I()+"_"+g.random()),e.setAttribute("data-di-res-id",t),e.di_ResId=t),t}(un||(un={})).execute=function(e,t){cr.process("hash",e,t)};var yn,Sn="di_res_list",En="data-di-alt-src",bn="data-di-rand",Cn=(n.prototype.exposeMethodsTo=function(e){if(p(e))for(var t=0,i=this.exportedMethodNames;t<i.length;t++){var r=i[t];h(this[r])&&(e[r]=this[r])}},n.prototype.prepareHrsList=function(e){if(!f(e))try{for(var t=e.split("||"),i=0,r=t.length;i<r;i++){var s=t[i].split("|");this.hrsList[s[0]]={sel:s[0],per:+i[1]}}}catch(e){A.processError(v.tag,e,_.CONFIG)}},n.prototype.sendResource=function(e){k.noHTML||-1!==vi(e.name,this.resList)||(-1===vi(e.name,k.topResources)?this.resB.push({name:e.name,content:e.content}):this.resB.push({name:e.name,symlink:1}),100<I()-this.resBLT?setTimeout(w(this.sendResourceList,this),0):(clearTimeout(this.resBT),this.resBT=setTimeout(w(this.sendResourceList,this),100)),this.resList.push(e.name),F(Sn,ai(this.resList)))},n.prototype.sendResourceList=function(){var e;clearTimeout(this.resBT),null!=(e=this.resB)&&e.length&&v.postInfo("resourceList",this.resB,{extraParam:"&date="+gn()}),this.resB=[],this.resBLT=I()},n.prototype.setHtmlResSelector=function(e,t){if(Ar(e)){e=e.replace(S.trimSpCom,"");var i=this.hrsList[e];if(f(i))i={per:+t,sel:e},f(t)||(this.hrsList[e]=i,this.scanHTMLResFn(i));else if(f(t)){delete this.hrsList[e];for(var r=0,s=T.search(e);r<s.length;r++){for(var n=s[r],o=(h=l=a=o=void 0,n),a=0,l=Array.prototype.slice.call(o.childNodes);a<l.length;a++){var h=l[a];delete h.di_res_parent,ks(h)}delete n.di_res_parent,delete n.di_html_res}}else+t!==i.per&&(i.per=+t,i.reset=!0,this.scanHTMLResFn(i))}},n.prototype.scanHTMLRes=function(){we(this.hrsList,this.scanHTMLResFn,this)},n.prototype.scanHTMLResFn=function(e){for(var t=0,i=T.matches(":not([data-di-res-id] *)",T.search(e.sel));t<i.length;t++){var r=i[t];if(!r.di_dom)return;var s=r.di_html_res;s?this.diffHTMLRes(r,s,e):(ks(r,r),this.scanCanvas(r),(r.di_res_parent=r).di_html_res={conf:e,tries:0,done:0,diNode:r.di_dom.clone(!1,r.di_dom.i)},r.di_dom.rt&&(r.di_html_res.rootNode=r.di_dom.clone(!1)))}e.reset=!1},n.prototype.diffHTMLRes=function(e,t,i){t.conf||(t.conf=i),i.reset&&(t.done=0,t.tries=0);var i=t.done/t.tries;t.tries++,!isNaN(i)&&i>t.conf.per||(t.changed&&(this.scanCanvas(e),v.dd||(v.dd=new Ds),t.rootNode&&(i=e.di_dom.clone(!1),v.dd.addDINodeDiffPatch(t.rootNode,i,v.jCur.jP),t.rootNode=i),(i=e.di_dom.clone(!1,e.di_dom.i)).i=e.di_dom.i,v.dd.addDINodeDiffPatch(t.diNode,i,v.jCur.jP),t.diNode=i,t.changed=!1),t.done++)},n.prototype.scanCanvas=function(e){var t;f(k.canvasSelector)||(f(t=K(e))?this.scanCanvasList(T.matches(":visible:inview:not([data-di-res-id] canvas)",T.search(k.canvasSelector))):t!==y.lowercaseSvg&&this.scanCanvasList(T.matches(":visible:inview",T.search(k.canvasSelector,e,!1))))},n.prototype.scanCanvasList=function(e){var t=this,i=e.shift();i&&(this.scanCanvasFn(i),setTimeout(function(){t.scanCanvasList(e)},0))},n.prototype.scanCanvasFn=function(t){var i,r=this,s=vn(t),n=!1,e=!1,o=k.canvasFormat||"jpeg";try{i=f(E(t,En))?t.toDataURL("image/"+o,.5):(e=!0,this.qualifyURL(E(t,En)))}catch(e){n=!(i="")}var a=this.canvasList[s];!f(a)&&a.content===i||(a={id:s,tainted:n,content:i},n||e||!v.canCollectResource()?(this.canvasList[s]=a,t.setAttribute(bn,I())):un.execute(i,function(e){a.name=e+"-"+i.length+"."+o,a.src=v.rUrl+a.name,r.sendResource(a),r.canvasList[s]=a,t.setAttribute(bn,I())}))},n.prototype.qualifyURL=function(e,t){var i="",r=t instanceof HTMLElement?t:null;if(t=Fe({},t),""===(e=Ne(e))||"#"===e.charAt(0))return e;if(-1!==(e=(e=>{var t="";if(X(e)){var i=k.originalBase||document.baseURI||document.location.href;try{var r=new URL(e,i),t=r.origin+"/"===r.href?r.origin:r.href}catch(e){}}return t})(e)).indexOf("#")){var s=e.split("#");if(0===o.href.indexOf(s[0]))return i="#"+s.slice(1).join("#")}if(0===o.href.indexOf(e))i="";else if(0===e.indexOf(v.pUrl))i=e;else if(e.startsWith("blob:http")&&r instanceof HTMLImageElement)try{var n=document.createElement("canvas");n.width=r.naturalWidth,n.height=r.naturalHeight,n.getContext("2d").drawImage(r,0,0),i=n.toDataURL(),n=void 0}catch(e){}else e.startsWith("data:")?i=this.qualifyDataURL(e,t):S.protR.test(e)&&(i=this.qualifyStandardURL(e,t));return i},n.prototype.qualifyStandardURL=function(e,t){(e=(e=h(k.optimizeURLCallback)?w(k.optimizeURLCallback,this)(e):e).replace(S.urlFix,"").replace(S.protR,"$1/"))&&!(e=>{var t;if(0===e.indexOf("http/"))t=5;else{if(0!==e.indexOf("https/"))return;t=6}var i=(e=e.substring(t,e.indexOf("/",t))).split(".");if(!(2<i.length))return k.blacklisted[e];for(var r=0;r<i.length-1;++r){var s=i.slice(-r-2).join(".");if(k.blacklisted[s])return 1}})(e)?this.addToPUList(e):e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var i="";return(i=t.prefix?v.remoteStorage?"[DI_PROXY_URL]":v.pUrl:i)+e},n.prototype.qualifyDataURL=function(e,t){return e.length>k.minResourceSize&&!t.noProxy&&(v.canCollectResource()?e=this.resourceProxy(e):v.remoteStorage||(v.lb=!0,e="")),e},n.prototype.resourceProxy=function(e){var t=e.match(S.dU);return f(t)||(t={content:e,name:di(e)+"-"+e.length+"."+t[1]},this.sendResource(t),e=v.rUrl+t.name),e},n.prototype.addToPUList=function(e){v.canCollect()&&!this.puList[e]&&(this.puList[e]=!0,this.puListB.push(e),10<=this.puListB.length)&&this.sendProxyUrl()},n.prototype.sendProxyUrl=function(e){!k.noHTML&&v.canCollect()&&this.puListB.length&&v.postInfo("proxyUrls",{prefix:v.pUrl,items:this.puListB},{onExit:e}),this.puListB=[]},n.prototype.loadResList=function(){var e;c.hasStor&&!f(e=D(Sn))&&(this.resList=Ai(e))},n.prototype.sendElResource=function(e,t,i){var r=vn(t),s=this.elList[r];f(s)&&(s={id:r,content:i},v.canCollectResource()&&i.length>k.minResourceSize?(s.name=di(i)+"-"+i.length+".txt",s.src=v.rUrl+s.name,e.rt=s.src,this.sendResource(s)):e.rt=i,this.elList[r]=s,t.setAttribute(bn,I()))},n.prototype.trackCanvas=function(e){if(v.j){X(e)?e=T.search(e):Ae(e)||(e=[e]);for(var t=0,i=T.matches(":visible",e);t<i.length;t++){var r=i[t];this.scanCanvasFn(r)}}},n);function n(){this.resB=[],this.resBLT=I(),this.topRes=[],this.resList=[],this.hrsList={svg:{sel:"svg",per:1}},this.canvasList={},this.puList={},this.puListB=[],this.elList={},this.exportedMethodNames=["qualifyURL","sendElResource","sendResource","scanCanvasList"]}function Tn(){}(Rn=yn=yn||{}).PAGE_VIEWS="pageviews",Rn.SESSION="session";var Rn={tag:"DecibelInsightAPI",init:!(Rn.LEAD="lead"),propType:_n.WEBSITE,phS:!1,pageBuff:2e3,originalBase:"",pC:0,indexElementsCounter:0,dC:0,d:[],q:[],tId:1,tHash:(Rn=D("di_tab_hash"),_n=+D("di_tab_active"),Rn&&!_n||F("di_tab_hash",Rn=di(I()+"_"+g.random())),F("di_tab_active",1),Rn),qs:hi(),sId:null,wId:null,aId:null,leadId:null,pvId:null,optOut:!1,xhrU:"",socU:"",eC:0,remoteStorage:!1,hashes:{},jspsf:null,lastPT:0,dSize:0,j:!1,jS:!b(L)&&"function"==typeof URL,dd:null,jRate:5,jIRate:5,jBuf:[],jCur:{jE:[],jsEO:{},fE:{},jP:[]},jLast:{},jInt:null,jfInt:null,jrInt:null,jLT:null,sList:[],apiCT:{},pN:1,pUrl:"",rUrl:"",lb:!1,tcanvas:!1,lstyle:!1,time:new Date,tZ:(new Date).getTimezoneOffset(),initPV:!1,lan:(_n="en",M.userLanguage?_n=M.userLanguage.replace("_","-"):M.language&&(_n=M.language.replace("_","-")),_n),ref:u.referrer,tUrl:null,pageUrl:null,pTitle:null,trackTitle:!0,aPT:!0,htmlColCB:[],htmlSent:!1,pageColCB:[],pageSent:!1,sResW:screen.width,sResH:screen.height,docW:0,docH:0,attrHL:{},cInt:null,cIntT:250,navSent:!1,pto:5e3,httpEr:0,smo:!b(L),obs:null,cdParam:[],dlList:[],features:R.NONE,dataColl:null,colcq:[],botDetected:!1,realTime:null,attachShadowHook:new e,attachCSSHook:new yr,dataLayerRulesModule:new en,pageMetaModule:new on,formsModule:new Kr,interactionModule:new s,net:new xr,resourceModule:new Cn,unloadInProgress:!1,networkSpeedCollection:new ln,errorModule:new cn,pagePerformanceModule:new pn,start:function(){v=this,Le.startLogging();function e(){return t.q.push(j.call(arguments))}var t=this;e.Sizzle=nr,e.DISearch=T,t.q=l[l.DecibelInsight]&&l[l.DecibelInsight].q?l[l.DecibelInsight].q:[],l[l.DecibelInsight]=e;for(var i=0,r=B;i<r.length;i++){var s=r[i];e[s]=(e=>function(){return t.q.push([e].concat(j.call(arguments)))})(s)}if(h(k.preInit)&&(k.preInit(),Fe(k,q)),d(l,"pagehide",Le.sendLogs,this),this._init()){t.q.push=function(e){return t.processQueue(e)};for(var n=0,o=t.q;n<o.length;n++){var a=o[n];t.processQueue(j.call(a))}t.globalReady()}As.addListener()},_init:function(){if(this.features=k.account_flags_orig,this.dataColl=this.dataColl||new zi,this.dataColl.active=this.dataColl.getExperienceStatus(),c.igQH=this.hasFeature(R.IGNORE_QUERY),this.processOptOut())return!1;if(this.sId=this.get_da_Session(),this.validateSId(),this.leadId=this.get_da_Lead(),this.wId=k.websiteId,this.aId=k.accountNumber,this.xhrU="https://"+c.cdn+"/i/"+this.aId+"/da/",this.socU="wss://"+c.cdn+"/i/"+this.aId+"/ws/",D("di_alt_socket")&&(this.socU=$t(this.socU)),!this.canInit())return!1;if(this.setFirstPartyCookie(),this.resourceModule.exposeMethodsTo(this),Le.setCollectLogs(!!k.collectLogs),S.bot.test(M.userAgent)){if(!k.processBot)return!1;this.botDetected=!0}return k.deepShadowRootSearch&&(Object.defineProperty(T,"search",{value:T.deep}),Object.defineProperty(nr,"search",{value:nr.deep})),k.fixDaVars(),this.resourceModule.prepareHrsList(k.htmlResSelector),this.prepareHashes(),this.pageUrl=pi(),this.isDomainValid(k.domains)?(this.errorModule.proxyOnError(),this.indexElements(),this.startCacheExtender(),this.canCollect(R.PAGE)&&(this.init=!0,this.pTitle=this.getPageTitle(),this.interactionModule.setInitFields(),this.startObserver(),this.net.checkFailedBeacon(),this.aPT=!S.boolTrue.test(k.noAutoPageTrack),this.aPT)&&!S.boolTrue.test(E(u.body,"di-heatmap"))&&(this.runIntScripts("intPreScripts"),this.startColl()),!0):(this.domainInvalid(),!1)},canInit:function(){return!(f(this.sId)||f(this.wId)||f(this.leadId)||f(this.aId))},setFirstPartyCookie:function(){this.hasFeature(R.COOKIE)&&Xi.setFirstPartyCookie()},processOptOut:function(){var e;return 1===parseInt(ei("da_optOut"))?this.optOut=!0:"?da_optOut"===o.search&&(this.optOut=!0,Mi("da_optOut",1),(e=new Date).setFullYear(e.getFullYear(),e.getMonth()+120,e.getDate()),this.hasFeature(R.COOKIE)&&(u.cookie="da_optOut=1; expires="+e.toGMTString()+"; path=/"),alert("You have successfully opted out of DXA for this domain."),!0)},validateSId:function(){this.sId=this.sId||"";var e=this.sId.match(/\.([0-1])$/);e&&(this.jspsf=ti(+e[1]),this.sId=this.sId.slice(0,-2)),F("_da_da_sessionId",this.sId)},domainInvalid:function(){a("DXA warning: "+o.hostname+" is not a valid domain for this account.");var e=this.q.findIndex(function(e){return"_hm"===e[0]});-1<e&&(this.switchToHeatmapMode(),f(e=this.q[e+1])||"ready"!==e[0]||fi(e[1]))},_hm:function(){this.switchToHeatmapMode()},switchToHeatmapMode:function(){this.dataColl.active=!1,this.stopObserver(),this.clearTimer(["cInt","hInt","jInt","jrInt","jfInt","fcInt","searchFixedTO"])},prepareHashes:function(){if(!f(k.hashes))for(var e=0,t=k.hashes.split(",");e<t.length;e++){var i=t[e];this.hashes[parseInt(i,36)]=1}this.remoteStorage=De(k,"hashes")},clearCookies:function(){this.postInfo("clearcookies"+this.getAccountPresent(),"",{imp:!0,process:!1}),Xi.deleteFirstPartyCookie()},initPageTrack:function(){var e,i=this,t=(this.interactionModule.addInteractionEvents(),k.dataLayerRules);this.dataLayerRulesModule.createListeners("string"==typeof t?Ai(t):t),"onpagehide"in window?(d(l,"pagehide",this.onPageHide,this),d(l,"beforeunload",this.onBeforeUnload,this),d(l,"pageshow",this.onPageShow,this)):d(l,"unload",this.onPageHide,this),this.cInt=setInterval(w(this.collIntervalFn,this),this.cIntT),this.j=!S.boolTrue.test(k.noVisitorJourney)&&this.jS,this.startJourney(),this.interactionModule.addJourneyEvents(),k.err=k.err||[],k.err.push=function(e){var t,e=Si(e)?j.call(e):[e];(t=i.errorModule).sendError.apply(t,e)};for(var r=0,s=k.err;r<s.length;r++){var n=s[r],n=Si(n)?j.call(n):[n];(e=this.errorModule).sendError.apply(e,n)}this.pagePerformanceModule.sendPagePerformance(),this.errorModule.processHTTPError(),this.formsModule.startForm(),this.sendTrackedEvent(k.goalId,k.goalValue,"static",null,this.ref),this.updateLead({companyName:k.companyName})},runIntScripts:function(e){var t=k[e];h(t)&&!this[e+"Done"]&&(this[e+"Done"]=!0,t())},processQueue:function(e){var t=this,i=e.shift();if(this[i]&&-1!==vi(i,B)){if(this.dataColl.active||!this.dataColl.inactivityTriggered||!V.includes(i))return this[i].apply(this,e);this.dataColl.active=!0,this.dataColl.inactivityTriggered=!1,this.startColl(void 0,function(){return t[i].apply(t,e)})}else a("DXA warning: Method does not exist: "+i)},globalReady:function(){if(this.globalReadyFn(l._da_ready),Ae(l._da_readyArray)&&l._da_readyArray.length)for(var e=0,t=l._da_readyArray;e<t.length;e++){var i=t[e];this.globalReadyFn(i)}},globalReadyFn:function(e){if(h(e))try{w(e,this)()}catch(e){A.processError(this.tag,e,_.CONFIG,Oi.GLOBAL_READY)}},isCollecting:function(){return this.canCollect(R.PAGE)},isInSample:function(){var e=this.dataColl.getStatus("experience");return e===P.FORCED_IN||e===P.FORCED_IN_SERVER},canCollect:function(e){return this.dataColl.active&&this.dataColl.getExperienceStatus()&&(!e||this.hasFeature(e))},setCollection:function(e,t){var i=this.dataColl.active,r=e?P.FORCED_IN:P.FORCED_OUT;if(t=!!f(t)||t,this.setForceColl("analysis",r,t,!0),this.setForceColl("replay",r,t,!0),this.selectSessionForExperience(e,t,"setCollection",!0,!0),this.hasFeature(R.PAGE))for(var s=0,n=this.colcq;s<n.length;s++)(0,n[s])(!!e,i)},setSamplingFromNative:function(e){e in P&&e!==P.SERVER&&(f(this.jspsf)||(this.jspsf=e===P.FORCED_IN_SERVER||e===P.FORCED_IN?1:0),this.setForceColl("analysis",e>=P.FORCED_IN_SERVER?P.SERVER:e,!1,!0),this.setForceColl("replay",e,!1,!0),this.selectSessionForExperience(e,!1,"setSamplingFromNative",!0,!1,!0))},canChangeState:function(e,t,i){var r=this.dataColl.experienceLead||this.dataColl.experienceSession,t=this.dataColl[t+"Lead"]||this.dataColl[t+"Session"],i=i&&e in P?e:e?P.FORCED_IN:P.FORCED_OUT,e=[P.FORCED_OUT];return r!==P.FORCED_OUT&&t!==P.FORCED_OUT&&(t===P.FORCED_IN_SERVER&&e.push(P.FORCED_IN),t===P.FORCED_OUT_SERVER)&&(e.push(P.FORCED_IN),e.push(P.FORCED_IN_SERVER)),this.hasFeature(R.PAGE)&&e.includes(i)},selectSessionForExperience:function(e,t,i,r,s,n){n=n&&e in P?e:e?P.FORCED_IN:P.FORCED_OUT;i=i||"selectSessionForExperience",r||!this.dataColl.isDataCreditSubscription()&&!this.dataColl.experiencePurposeful()?n===this.dataColl.getStatus("experience")?a("DXA warning: No change provided for data collection status."):this.canChangeState(n,"experience",!0)||this.dataColl.isDataCreditSubscription()&&this.hasFeature(R.PAGE)?(e=this.dataColl.active,this.jCur.jE.push(i),n===P.FORCED_IN||n===P.FORCED_IN_SERVER?(!this.dataColl.isDataCreditSubscription()&&this.dataColl.experienceMethod&&(this.jspsf=1,this.hasFeature(R.COOKIE)||F("d_sessionId",this.sId+".1")),this.setCollStart(n,e,t,i)):n!==P.FORCED_OUT&&n!==P.FORCED_OUT_SERVER||this.setCollStop(n,e,t,i,s)):a("DXA warning: Experience data collection status cannot be changed anymore for this session."):a("DXA warning: selectSessionForExperience is not supported by current subscription or sampling method.")},selectPageviewForAnalysis:function(e){var t=e?P.FORCED_IN:P.FORCED_OUT;this.dataColl.isDataCreditSubscription()||this.dataColl.analysisPurposeful()?a("DXA warning: selectPageviewForAnalysis is not supported by current subscription or sampling method."):t===this.dataColl.getStatus("analysis")?a("DXA warning: No change provided for Analysis data collection status."):this.canChangeState(e,"analysis")&&this.dataColl.analysisSession!==P.FORCED_IN&&this.dataColl.analysisPage!==P.FORCED_OUT&&this.dataColl.analysisPage!==t?(this.postApi("selectPageviewForAnalysis"),this.dataColl.analysisPage=t,this.sendSamplingStatus(!0)):a("DXA warning: Analysis data collection status cannot be changed anymore for this page.")},selectSessionForAnalysis:function(e,t){var i="selectSessionForAnalysis",r=e?P.FORCED_IN:P.FORCED_OUT,s=this.dataColl.getExperienceStatus();this.dataColl.isDataCreditSubscription()||this.dataColl.analysisPurposeful()?a("DXA warning: selectSessionForAnalysis is not supported by current subscription or sampling method."):r===this.dataColl.getStatus("analysis")?a("DXA warning: No change provided for Analysis data collection status."):this.canChangeState(e,"analysis")?this.dataColl.active?(this.postApi(i),this.setForceColl("analysis",r,t),this.sendSamplingStatus()):e&&!s&&(this.setForceColl("analysis",r,t,!0),this.selectSessionForExperience(e,t,i,!0)):a("DXA warning: Analysis data collection status cannot be changed anymore for this session.")},selectSessionForReplay:function(e,t){var i="selectSessionForReplay",r=e?P.FORCED_IN:P.FORCED_OUT,s=this.dataColl.getReplayStatus(),n=this.dataColl.getExperienceStatus();this.dataColl.isDataCreditSubscription()||this.dataColl.replayPurposeful()?a("DXA warning: selectSessionForReplay is not supported by current subscription or sampling method."):r===this.dataColl.getStatus("replay")?a("DXA warning: No change provided for Replay data collection status."):this.canChangeState(e,"replay")?this.dataColl.active?(this.postApi(i),this.setForceColl("replay",r,t),this.sendSamplingStatus(),!s&&this.dataColl.getReplayStatus()&&this.trackPageView(null,null,!0)):e&&!n&&(this.setForceColl("replay",r,t,!0),this.selectSessionForExperience(e,t,i,!0)):a("DXA warning: Replay data collection status cannot be changed anymore for this session.")},endColl:function(e,t){this.interactionModule.sendScroll(t),this.endJourney(t),this.formsModule.endForm(),this.networkSpeedCollection.sendCollectedData(),this.pageGroups=[],e&&(this.clearTimer(["cInt","hInt"]),this.stopObserver(),this.initPV=!1),this.postInfo(t?"exit":"flush")},startColl:function(t,i){var e,r;S.boolTrue.test(E(u.body,"di-heatmap"))||(this.time=new Date,this.dC=0,this.httpEr=0,this.eC=0,this.dSize=0,this.htmlSent=!1,this.pageSent=!1,this.htmlColCB=[],this.pageColCB=[],this.realTime=new Qi,this.unloadInProgress=!1,this.dataLayerRulesModule.reset(),this.jBuf=[],r=D("di_last_session_time"),e=w(function(){var e=this;this.init?(this.phS=!1,this.pN=1,this.postInfo("page",this.pageData(),{imp:!0,callback:function(){e.pageCollected(),e.runIntScripts("intScripts"),h(i)&&i()}}),this.postBrowserData(),this.frameIdentifier=new wr("CrossFramePVID"),this.frameIdentifier.checkFramed(),this.initPV?(this.pagePerformanceModule.sendTrackedPagePerf(),this.startJourney(),this.formsModule.startForm(),this.startObserver(),this.dataLayerRulesModule.recreateOnLoadListeners()):(this.initPV=!0,this.initPageTrack())):this._init(),t&&this.postApi(t)},this),r=r||1e3*k.curTime,I()-r>k.sessionTimeout?+D("di_activity_json_time")!==r?(F("di_activity_json_time",r),F("di_last_session_time"),this.sendCookieFlags(!0,!1,w(this.startColl,this,t))):A.processError(this.tag,Error(Oi.C_JSON_CACHE),_.WARN,Oi.C_JSON_CACHE):e())},postBrowserData:function(){var t=this;navigator.userAgentData&&navigator.userAgentData.getHighEntropyValues(["platform","platformVersion"]).then(function(e){e.platform&&e.platformVersion&&t.postInfo("browser",{platform:e.platform,platformVersion:e.platformVersion,mobile:e.mobile},{imp:!0})})},setCollStart:function(e,t,i,r){this.dataColl.active=!0,this.setForceColl("experience",e,i),this.init?t||(this.cInt=setInterval(w(this.collIntervalFn,this),this.cIntT),this.interactionModule.hInt=setInterval(w(this.interactionModule.hoverIntervalFn,this.interactionModule),k.hoverThreshold),this.startJourney(),this.formsModule.startForm(),this.startObserver()):(this.time=new Date,this._init()),this.sendSamplingStatus(),this.postApi(r,!0),"setRetention"===r&&this.postInfo("retention"+this.getAccountPresent(),"",{imp:!0,process:!1})},setCollStop:function(e,t,i,r,s){t&&this.init&&(this.postApi(r,!0),s||e!==P.FORCED_OUT||this.sendSamplingStatus(!1,{experience:e}),this.setForceColl("experience",e,i),e===P.FORCED_OUT)&&(this.endColl(!0),this.dataColl.active=!1)},startSessionFn:function(e,t){var i;this.dataColl.active||(this.dataColl.active=!0,(i=this.dataColl.replayLead||this.dataColl.replaySession)===P.FORCED_IN&&i===P.FORCED_IN_SERVER||(this.dataColl.replaySession=P.FORCED_IN,this.dataColl.replayLead=P.SERVER),(i=this.dataColl.experienceLead||this.dataColl.experienceSession)===P.FORCED_IN&&i===P.FORCED_IN_SERVER||(this.dataColl.experienceSession=P.FORCED_IN,this.dataColl.experienceLead=P.SERVER,f(this.jspsf))||(this.jspsf=1),this.sendCookieFlags(!0,e,w(this.startColl,this,t)))},startSession:function(e){this.startSessionFn(e,"startSession")},endSession:function(){var e="endSession";this.dataColl.active&&(this.jCur.jE.push(e),this.init)&&(this.postApi(e,!0),this.setForceColl("analysis",P.SERVER,!1,!0),this.setForceColl("replay",P.SERVER,!1,!0),this.setForceColl("experience",P.FORCED_OUT,!1),this.endColl(!0),this.dataColl.active=!1)},restartSession:function(e){this.dataColl.active&&(this.postApi("restartSession"),this.endColl(),this.dataColl.active=!1),this.setForceColl("analysis",P.SERVER,!1,!0),this.setForceColl("replay",P.SERVER,!1,!0),this.setForceColl("experience",P.SERVER,!1,!0),this.startSessionFn(e,"restartSession")},setFavourite:function(t){void 0===t&&(t=0),this.canCollect(R.PAGE)&&(this.setRetention(),t=Pe(t)?+t:0,t=[24,12,6,3,1].find(function(e){return e<=t})||0,this.postApi("setFavourite"),this.postInfo("favourite",{retention:t}))},setFavorite:function(e){this.setFavourite(e)},setRetention:function(){var e;this.canCollect(R.PAGE)&&(this.dataColl.isDataCreditSubscription()?(f(this.jspsf)||(this.jspsf=1,this.hasFeature(R.COOKIE)||F("d_sessionId",this.sId+".1"),e=this.getExtraHeaders(),Tr.execute(Qt(e),{nocache:!0,extraHeader:e})),this.postApi("setRetention"),this.postInfo("retention"+this.getAccountPresent(),"",{imp:!0,process:!1})):(this.setForceColl("analysis",P.FORCED_IN,!!this.dataColl.analysisLead,!0),this.setForceColl("replay",P.FORCED_IN,!!this.dataColl.replayLead,!0),this.selectSessionForExperience(!0,!!this.dataColl.experienceLead,"setRetention",!0)),this.htmlSent&&this.htmlCollected(),this.pageSent)&&this.pageCollected()},dataRetention:function(e,t){void 0===t&&(t=yn.PAGE_VIEWS),this.canCollect()&&!1===e&&(this.postInfo("dataRetention",{state:!1}),this.endColl(!0),this.dataColl.active=!1,t===yn.PAGE_VIEWS?this.sendCookieFlags(!0):(e=t===yn.LEAD,this.setForceColl("analysis",P.SERVER,e,!0),this.setForceColl("replay",P.SERVER,e,!0),this.setForceColl("experience",P.FORCED_OUT,e)))},getAccountPresent:function(){return"&accountPresent="+ti(S.newDiPath.test(Qt()))},getExtraHeaders:function(e,t){var i={"X-DI-cookieflags":this.dataColl.getSamplingHeader(),"X-DI-sid":this.sId,"X-DI-lid":this.leadId};return f(this.jspsf)||(i["X-DI-jspsf"]=this.jspsf),e&&(i["X-DI-sid-renew"]=1,k.int_state="0",F("di_adobe_tracked"),F("di_ga_tracked")),t&&(i["X-DI-lid-renew"]=1),i["X-DI-int-state"]=k.int_state||"0",i},setForceColl:function(e,t,i,r){var s;this.hasFeature(R.PAGE)&&(s=this.dataColl.getSamplingHeader(),i?(this.dataColl[e+"Lead"]=t,this.dataColl[e+"Session"]=P.SERVER):(this.dataColl[e+"Lead"]=P.SERVER,this.dataColl[e+"Session"]=t),r||this.dataColl.getSamplingHeader()===s||(this.sendCookieFlags(),this.htmlSent&&this.htmlCollected(),this.pageSent&&this.pageCollected()))},sendCookieFlags:function(e,t,i){var r=this,e=this.getExtraHeaders(e,t);Tr.execute(Qt(e),{nocache:!0,extraHeader:e},function(e){var t=Ai(e);Ci(t)&&(r.sId=t.da_sessionId_e,r.leadId=t.da_leadId_e,k.curTime=t.curTime,r.hasFeature(R.COOKIE)||(F("d_sessionId",r.sId),Mi("_da_da_leadId",r.leadId)),r.validateSId(),r.setFirstPartyCookie(),i)&&i(e)})},startCacheExtender:function(){!this.cacheExtInt&&k.curTime&&(this.cacheExtInt=setInterval(this.cacheExtender.bind(this),3e5),this.cacheExtender())},cacheExtender:function(){var e;1200<I()/1e3-k.curTime&&this.dataColl.active&&(e=this.getExtraHeaders(),Tr.execute(Qt(e),{nocache:!0,extraHeader:e},function(e){e&&(e=e.match(/"curTime":([0-9]+)/))&&(k.curTime=+e[1])}))},setIntStatus:function(e,t){var i=k.int_state||"";-1!==i.indexOf(e+":")?k.int_state=i.replace(new RegExp("("+e+":)[^|]+"),"$1"+t):k.int_state=i+(i.length?"|":"")+e+":"+t,this.hasFeature(R.COOKIE)||F("d_int_state",k.int_state),this.sendCookieFlagsThrottled()},hasFeature:function(e){return(e&this.features)===e},stopObserver:function(){this.smo&&this.obs&&this.obs.disconnect(),this.obs=null,this.obsFnScoped&&this.attachShadowHook.removeListener(this.obsFnScoped)},startObserver:function(){if(this.smo&&null===this.obs&&this.canCollect(R.PAGE)&&(this.obs=new L(w(this.obsFn,this)),this.obs.observe(u.documentElement,{childList:!0,subtree:!0,attributes:!0}),k.deepShadowRootSearch)){this.obsFnScoped=this.obsFnScoped||w(this.obsFn,this),this.attachShadowHook.addListener(this.obsFnScoped);for(var e=0,t=T.search(":shadow");e<t.length;e++){var i=t[e];this.obs.observe(i.shadowRoot,{childList:!0,subtree:!0})}}},getObserverState:function(){return!!this.obs},obsFn:function(e){this.indexScrollableThrottled();for(var t=0,i=e;t<i.length;t++)for(var r=0,s=i[t].addedNodes;r<s.length;r++){var n=s[r];this.obsFnIndex(n)}},obsFnIndex:function(e){var t,i=e.nodeType;if((i===C.ELEMENT||i===C.SHADOW_ROOT)&&(t=(t=e).getRootNode())&&(t.nodeName===y.document||t.nodeName===y.documentFragment)&&(this.indexElements(!1,e),T.search("form,input,textarea,select,[data-di-form-track]",e).length&&this.formsModule.formIndex(),k.deepShadowRootSearch))if(i===C.SHADOW_ROOT)this.obs.observe(e,{childList:!0,subtree:!0});else for(var r=0,s=T.search(":shadow",e);r<s.length;r++){var n=s[r];this.obs.observe(n.shadowRoot,{childList:!0,subtree:!0})}},_indexItems:function(){this.indexElements(),this.indexScrollable(),this.formsModule.formIndex()},collIntervalFn:function(){this.canCollect()&&(this.interactionModule.detectScroll(),this.checkUrlChange(),100<=this.interactionModule.srC&&this.interactionModule.sendScroll(),this.formsModule.unfocusForm(),this.checkInactivity())},checkInactivity:function(){var e=I(),t=e-this.interactionModule.lInt>k.sessionTimeout;e-this.getPageTime()>k.maxPageTime&&(t=!0,this.postInfo("extra",{maxTimeReached:1})),this.dSize>k.maxDataCredit&&(t=!0,this.postInfo("extra",{maxCreditReached:1})),t&&(this.endColl(!0),this.dataColl.active=!1,this.dataColl.inactivityTriggered=!0,setTimeout(w(this.net.socketClose,this),5e3))},addDSize:function(e){this.dSize=this.dSize+e},setSocU:function(e){this.socU=e,F("di_alt_socket",1)},checkUrlChange:function(){var e,t=!1;this.aPT&&(e=pi(),this.checkUrlPart(e,"url")||this.checkQueryChange(e)||this.checkHashChange(e))&&this.trackPageView(null,null,t=!0),!t&&this.trackTitle&&(e=this.getPageTitle(),this.pTitle!==e)&&(this.pTitle=e,this.postInfo("extra",{pt:this.pTitle}))},checkQueryChange:function(e){return k.autoQueryTrack&&this.checkUrlPart(e,"query")},checkHashChange:function(e){return k.autoFragmentTrack&&k.fragmentPattern.test("#"+e.hash)&&this.checkUrlPart(e,"hash")},checkUrlPart:function(e,t){return e[t]!==this.pageUrl[t]&&(null===this.tUrl||e[t]!==this.tUrl[t])},bindGoalEvents:function(e){var t,i=[];for(t in e)i.push({event:{name:"click",target:e[t]},action:{name:"sendTrackedEvent",args:{name:t.substring(5)}},LegacyDataLayer:void 0});this.dataLayerRulesModule.createListeners(i)},getTabId:function(){return this.tId},getPageTitle:function(){return h(k.pageTitleCallback)?w(k.pageTitleCallback,this)():k.pageTitle||u.title},getPageUrl:function(){f(this.pageUrl)&&(this.pageUrl=pi());var e=this.pageUrl.url;return f(this.pageUrl.query)||(e+="?"+this.pageUrl.query),f(this.pageUrl.hash)||(e+="#"+this.pageUrl.hash),e},getPagePart:function(e,t){return t&&t.test(this.pageUrl[e])?"":this.pageUrl[e]},indexForms:function(){this.formsModule.formIndex()},formSubmitted:function(e,t){this.formsModule.formSubmitted(e,t)},isJ:function(){return this.j&&this.canCollect()&&!f(this.jInt)},setFrameRate:function(e,t){f(e)||e<0||10<e||!this.j||(this.clearTimer(["jInt","jrInt","jfInt"]),k.frameRate=e,t||(this.jIRate=e,this.postApi("setFrameRate"),delete this.pausedJRate),0<k.frameRate&&(this.resourceModule.loadResList(),this.scanResource(),this.setJIntervals()),this.handleDidomFrame())},handleDidomFrame:function(){var e;0<k.frameRate?this.dd.isObserving()||(this.dd.observe(u.documentElement),e=this.dd.getTree(!0,!0),this.dd.addDINodeDiffPatch(this.prevDidom||{},e,this.jCur.jP)):this.dd&&(this.prevDidom=this.dd.getTree(!0,!0),this.dd.disconnect())},setJIntervals:function(){this.jInt=setInterval(w(this.buildJourney,this),1e3/k.frameRate),this.jrInt=setInterval(w(this.scanResource,this),1e3/k.resourceRate),this.jfInt=setInterval(w(this.formsModule.checkFormValue,this.formsModule),200)},pauseRecording:function(e){!f(this.jInt)&&this.j&&(this.postApi("pauseRecording"),this.pausedJRate=this.jIRate,this.setFrameRate(0,!0),!f(e))&&0<e&&setTimeout(w(this.resumeRecording,this,!0),e)},resumeRecording:function(e){f(this.jInt)&&this.j&&(e||this.postApi("resumeRecording"),delete this.pausedJRate,this.setFrameRate(this.jIRate,!0))},prepareJourneyPatch:function(e){for(var t,i,r,s,n=T.search(":hover"),n=n.length?zt(n.pop()):"",o=0,a=[["oX",this.interactionModule.fixPos.left],["oY",this.interactionModule.fixPos.top],["mX",this.interactionModule.mX],["mY",this.interactionModule.mY],["dO",this.interactionModule.dO||0],["sT",g.max(0,g.round(this.interactionModule.svT))],["sL",g.max(0,g.round(this.interactionModule.svL))],["vW",this.interactionModule.vpW],["vH",this.interactionModule.vpH],["z",this.interactionModule.z],["vOT",this.interactionModule.vOT],["vOL",this.interactionModule.vOL],["aE",zt(u.activeElement)],["hE",n],["iE",(()=>{for(var e=[],t=0,i=T.search("input:invalid, select:invalid, textarea:invalid");t<i.length;t++){var r=i[t];e.push(zt(r))}return e.join("|")})()],["sE",this.getScrolledElement()],["f",ti(this.interactionModule.hasFocus)],["meta",(n={pH:(n=ke()).height,pW:n.width,fR:k.frameRate},k.depthElementSelector&&(t=T.search(k.depthElementSelector)).length&&(t=si(t[0]),n.pH=t.top),ai(n))]];o<a.length;o++){var l=a[o];i=this.jLast,r=l[0],s=l[1],!b(i[r])&&i[r]===s||(this.jCur[l[0]]=l[1],e.changed=1)}for(var h=0,c=["pageMeta","cX","s","tE","jE","fE","kE","jsEO","jsE","jP"];h<c.length;h++){var l=c[h],d=this.jCur[l];b(d)||p(d)&&!Ci(d)||(e.changed=1)}},cleanJourneyPatch:function(e){Ci(e.jsEO)||delete e.jsEO,Ci(e.fE)||delete e.fE,e.jE.length||delete e.jE,e.jP.length?!e||!k.noHTML&&this.canSendHTML()||(e.jP=[]):delete e.jP},sendJourneyPatches:function(e,t){(this.jBuf.length>(this.net.socketActive()?0:1)||e-this.jLT>this.pto||t)&&(this.jBuf.length&&((t=this.getParamForReplay()).content=this.jBuf,this.postInfo("patch",t)),this.jBuf=[],this.jLT=e)},buildJourney:function(){var e,t;this.canCollect()&&(e={changed:0,important:0},t=I(),this.prepareJourneyPatch(e),e.changed)&&this.addToJBuf(t,e.important)},addToJBuf:function(e,t){var i=e-this.getPageTime(),r=this.jLast.t||0;-1<i&&i-r<=k.sessionTimeout&&(this.jCur.pN=this.pN++,this.jCur.t=i,r=this.jCur,this.jCur={jE:[],jsEO:{},fE:{},jP:[]},this.cleanJourneyPatch(r),this.jBuf.push(r),Fe(this.jLast,r),this.sendJourneyPatches(e,t))},getParamForReplay:function(){for(var e={},t=0,i=["lb","tcanvas","lstyle"];t<i.length;t++){var r=i[t];this[r]&&(this[r]=!(e[r]=1))}return e},startJourney:function(){this.j&&((f(k.frameRate)||k.frameRate<0||10<k.frameRate)&&(k.frameRate=5),this.jIRate=b(this.pausedJRate)?k.frameRate:this.pausedJRate,this.setProxyUrl(),this.jLT=this.getPageTime(),this.resourceModule.loadResList(),this.scanResource(),this.indexScrollable(),k.noHTML||(this.phS?(this.jCur.pageMeta=this.pageMetaModule.getData(),this.handleDidomFrame()):(this.dd||(this.dd=new Ds),this.remoteStorage&&(this.serializer=new rr(this.hashes)),this.dd.observe(u.documentElement),this.sendDIDOM()),this.resourceModule.sendProxyUrl()),0<k.frameRate)&&this.setJIntervals()},sendDIDOM:function(){var e,t=this,i="",r=this.dd.getTree(!0),s={proxyUrl:this.pUrl,pageMeta:this.pageMetaModule.getData(),docType:"",didom:{}};this.remoteStorage?(e=pr).init(this.hashes):e=ur;we(this.getParamForReplay(),function(e,t){i+="&"+t+"="+e});var n,o,a={imp:!0,extraParam:i};this.canSendHTML()?(s.docType=(n="",o=document.doctype,n=o?"<!DOCTYPE "+o.name+(o.publicId?' PUBLIC "'+o.publicId+'"':"")+(!o.publicId&&o.systemId?" SYSTEM":"")+(o.systemId?' "'+o.systemId+'"':"")+">":n),a.callback=w(this.htmlCollected,this),e.serialize(r,!1,function(e){s.didom=e,t.postInfo("html",s,a),t.phS=!0})):(this.postInfo("html",s,a),this.phS=!0)},canSendHTML:function(){return!k.disableHTMLContent&&this.dataColl.getReplayStatus()},onHTMLCollected:function(e,t){for(var i=!1,r=0,s=this.htmlColCB;r<s.length;r++)var n=s[r],i=i||n.toString()===e.toString();!t&&i||this.htmlColCB.push(e),this.htmlSent&&this.htmlCollected()},htmlCollected:function(){var e=0!==this.jspsf;if(e=this.dataColl.isDataCreditSubscription()?e:(this.dataColl.experienceRandom()||this.getSamplingForProcessor("experience")===P.FORCED_IN)&&(this.dataColl.replayRandom()||this.getSamplingForProcessor("replay")===P.FORCED_IN))for(;this.htmlColCB.length;)this.htmlColCB.shift()();this.htmlSent=!0},onPageCollected:function(e,t){for(var i=!1,r=0,s=this.pageColCB;r<s.length;r++)var n=s[r],i=i||n.toString()===e.toString();!t&&i||this.pageColCB.push(e),this.pageSent&&this.pageCollected()},pageCollected:function(){var e=0!==this.jspsf;if(e=this.dataColl.isDataCreditSubscription()?e:this.dataColl.experienceRandom()||this.getSamplingForProcessor("experience")===P.FORCED_IN)for(;this.pageColCB.length;)this.pageColCB.shift()();this.pageSent=!0},setProxyUrl:function(){var e=gn(),t=o.host.toLowerCase(),i=k.httpsJourney?"https":"http",r=i+"://";f(k.altProxyHostname)||(r+=k.altProxyHostname+"/alt-proxy/"+i+"/"),k.proxyV2?this.pUrl=r+c.proxy+"/v2-"+k.proxyV2+"/"+this.wId+"/"+e+"/":this.pUrl=r+c.proxy+"/da-"+this.aId+"/"+this.wId+"/"+e+"/",this.hasFeature(R.RESOURCE_PROXY)&&("_di_onprem_"===c.proxyStyle?this.rUrl=r+c.proxy+"/res/da-"+this.aId+"/"+this.wId+"/"+e+"/":this.rUrl=r+"da-"+this.aId+"-"+c.proxy+"/res/"+this.wId+"/"+e+"/"),this.hasFeature(R.FULL_PROXY_REFERER)&&(i=o.protocol+"//"+o.host+o.pathname,r=!0,t=(l.btoa?(r?"":"DIB64;")+l.btoa(unescape(encodeURIComponent(i))):i).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")),this.pUrl=this.pUrl+t+"/"},setEnterpriseProxy:function(){},indexScrollable:function(){this.j&&(this.sList=T.search(":scrollable"))},getScrolledElement:function(){var i=[];return ji(this.sList,function(e){var t=e.isConnected;return!t||e.scrollTop===e.di_scrollTop&&e.scrollLeft===e.di_scrollLeft||((0<e.scrollTop||void 0!==e.di_scrollTop||0<e.scrollLeft||void 0!==e.di_scrollLeft)&&i.push(zt(e)+":"+e.scrollTop+":"+e.scrollLeft),e.di_scrollTop=e.scrollTop,e.di_scrollLeft=e.scrollLeft),!t}),i.join("|")},scanResource:function(){this.resourceModule.scanCanvas(),this.resourceModule.scanHTMLRes(),this.checkDocSize()},_checkDocSize:function(){var e=ke(),t=e.width,e=e.height;0===this.docW||0===this.docH?(this.docW=t,this.docH=e):(50<g.abs(t-this.docW)||50<g.abs(e-this.docH))&&(this.docW=t,this.docH=e,this.jCur.pageMeta=this.pageMetaModule.getData())},endJourney:function(e){var t;if(this.j){this.clearTimer(["jInt","jrInt","jfInt"]),this.dd&&(this.prevDidom&&delete this.prevDidom,this.dd.disconnect()),this.jLast.t<this.interactionModule.lInt-this.getPageTime()&&this.addToJBuf(this.interactionModule.lInt,!0),this.jBuf.length&&((t=this.getParamForReplay()).content=this.jBuf,this.postInfo("patch",t,{onExit:e})),this.resourceModule.sendProxyUrl(e),this.jCur={jE:[],jsEO:{},fE:{},jP:[]},this.jBuf=[],this.sList=[],this.jLast={},this.resourceModule.canvasList={},this.resourceModule.elList={},this.apiCT={},this.lb=!1,this.tcanvas=!1,this.lstyle=!1,this.jLT=null,this.interactionModule.jSel="";for(var i=0,r=T.search("[data-di-res-id]");i<r.length;i++){var s=r[i];delete(s=s).di_html_res,s.removeAttribute("data-di-res-id")}}},sendGoal:function(e,t,i){a("DXA warning: the 'sendGoal' API method is replaced by 'sendTrackedEvent'."),this.sendTrackedEvent(e,t,i)},sendTrackedEvent:function(e,t,i,r,s,n){var o={};this.canCollect()&&!f(e)&&(o.conid=e,Pe(t)?(o.conv=t,i&&((e=k.currencyConversionRates)[i]?o.conv=t/e[i]:k.currency!==i&&a("DXA warning: "+i+" is not defined as a secondary currency for this property."))):X(t)&&X(r)&&this.getTrackedEventValue(o,t,r,s),o.conp=f(n)?"":n,this.postInfo("goal",o))},getTrackedEventValue:function(e,t,i,r){var s;f(t)||(s=void 0,"attr"===i&&r?s=E(r,t):"selector"===i&&(r=T.search(t)).length&&(s=T.getText(r[0]).trim()),f(s))||0<(i=+s.replace(/[^0-9.]/g,""))&&(e.conv=i)},sendIntegrationData:function(e,t){!this.canCollect()||f(e)||f(t)||this.postInfo("int",{int:e,content:t})},sendApplicationError:function(e,t){this.errorModule.sendApplicationError(e,t)},sendCustomDimension:function(e,t,i){var r={};this.canCollect()&&(we(e=X(e)?this.createCDObj(e,t,i):e,function(e,t){f(Ne(t))||f(e)||(p(e)&&(e=ai(e)),r[Ne(t)]=e)}),Ci(r))&&this.postInfo("customdimension",r)},setPageRole:function(e){this.canCollect()&&Pe(e)&&this.postInfo("pageRole",{roleId:e})},setPageGroup:function(e,t){this.canCollect()&&!f(e)&&this.postInfo("pageGroup",{name:(""+e).substr(0,64),dlId:t||0})},sendPageGroup:function(e,t,i){if(0===t||i)this.setPageGroup(e.substring(0,64),t);else if(k.datalayer&&0<k.datalayer.length)for(var r=0,s=k.datalayer;r<s.length;r++){var n=s[r];n.id===t&&2===n.e&&this.setPageGroup(e.substring(0,64),t)}},createCDObj:function(e,t,i){var r={};return f(e=Ne(e))||f(t=i?this.qs[t]:t)||(r[e]=t),r},sendHTTPError:function(e,t){return this.errorModule.sendHTTPError(e,t)},getSessionLeadIdFn:function(e,t){return this.hasFeature(R.PAGE)?(!1===t?"":"di-"+this.wId+"-")+this[e]:""},getSessionLeadId:function(e,t){function i(){t.callback(r.getSessionLeadIdFn(e,t.prefix))}var r=this;!1===t||!0===t?t={prefix:t}:Ci(t)||(t={prefix:!0});if(!t.callback)return this.getSessionLeadIdFn(e,t.prefix);t.onHTMLCollected?this.onHTMLCollected(i,!0):t.onPageCollected?this.onPageCollected(i,!0):i()},getLeadId:function(e){return this.getSessionLeadId("leadId",e)},getSessionId:function(e){return this.getSessionLeadId("sId",e)},getPageTime:function(){return this.time.getTime()},updateLead:function(e){var t={};this.canCollect()&&!f(e)&&(f(e.userId)||(t.uid=e.userId,k.userId=e.userId),f(e.companyName)||(t.comn=e.companyName),Ci(t))&&this.postInfo("leadinfo",t)},updateUserId:function(e){this.canCollect()&&!f(e)&&(k.userId=e,this.postInfo("leadinfo",{uid:e}))},updateLeadScore:function(e){this.canCollect()&&!f(e)&&Pe(e)&&this.postInfo("leadscore",{lid:this.leadId,score:+e})},canTrackPage:function(){var e=I(),t=!1;return this.canCollect(R.PAGE)&&e-this.lastPT>k.pageBuffer&&(this.lastPT=e,t=!0),t},trackPageView:function(e,t,i){this.canTrackPage()&&(this.initPV&&this.endColl(),this.tUrl=pi(),this.setTrackPageVars(e,Fe({},t)),this.runIntScripts("intPreScripts"),h(k.trackPageWrapper)?k.trackPageWrapper(w(this.startColl,this,i?void 0:"trackPageView")):this.startColl(i?void 0:"trackPageView"))},setTrackPageVars:function(e,t){var i="",r="";f(e)?this.pageUrl.url=this.tUrl.url:(c.qa.href=o.protocol+"//"+o.host+"/"+e.replace(/^\//,""),this.pageUrl.url=c.qa.protocol+"//"+c.qa.host+c.qa.pathname,i=c.qa.search,r=c.qa.hash),c.qa.href="http://test.com",i=X(t.queryString)?(c.qa.search=t.queryString,c.qa.search):i||this.tUrl.query,r=X(t.fragment)?(c.qa.hash=t.fragment,c.qa.hash):r||this.tUrl.hash,this.pageUrl.query=i.replace(/^\?/,""),this.pageUrl.hash=r.replace(/^#/,""),!b(t.pageGroups)&&Ae(t.pageGroups)?this.setPageGroupsVar(t):this.pageGroups=[],t.title?(this.pTitle=t.title,this.trackTitle=!1):(this.pTitle=this.getPageTitle(),this.trackTitle=!0),k.pageRole=t.role||k.pageRole,k.pageTaxonomy=t.taxonomy||k.pageTaxonomy,Pe(t.waitTime)&&(this.pagePerformanceModule.tpWaitTime=t.waitTime)},setPageGroupsVar:function(e){this.pageGroups=[];for(var t=0,i=e.pageGroups;t<i.length;t++)for(var r=i[t],s=0,n=k.datalayer;s<n.length;s++){var o=n[s];o.id===r[Object.keys(r)[0]]&&2===o.e&&this.pageGroups.push(r)}},get_da_Session:function(){var e="d_sessionId",t=ei(e);return f(t)&&(t=k.sessionId_e,this.hasFeature(R.COOKIE)||F(e,t)),t},get_da_Lead:function(){var e="_da_da_leadId",t=ei(e);return f(t)&&(t=k.leadId_e,this.hasFeature(R.COOKIE)||Mi(e,t)),t},indexElements:function(e,t){if(this.canCollect()||e){!1!==e&&(this.attrHL={}),this.indexElementsCounter++;for(var i=0,r=T.search(k.interactionSelector,t);i<r.length;i++){var s=r[i];this.indexElementsFn(s)}}},indexElementsFn:function(e){var t;e.hasAttribute("data-di-id")||e.hasAttribute("data-di-id-done")||(e=>{for(var t=!1;!t&&Q(e)&&!yi(e);)t=!f(E(e,"data-di-id")),e=e.parentNode||e.host;return t})(e)||f(t=this.getDIID(e))||e.setAttribute("data-di-id",t)},getDIID:function(e){var t,i,r;return f(t=h(k.attributionCallback)?w(k.attributionCallback,this)(e):t)&&(i=k.attributionCriteria,r=e,-1!==i.indexOf(m.text)&&!f(T.getText(r).trim())||-1!==i.indexOf(m.value)&&!f(E(r,m.value))||-1!==i.indexOf(m.name)&&r.hasAttribute(m.name)||-1!==i.indexOf(m.href)&&r.hasAttribute(m.href)&&J(r)||G(r.id))&&(t=this.getAttributeSelector(e)),t=f(t)||-1===t.indexOf(" ")?t:"di-id-"+di(k.allowDuplicateAttribute?t:this.resolveDuplicateAttribution(t))},resolveDuplicateAttribution:function(e){return this.attrHL[e]?(this.attrHL[e]++,e+=this.attrHL[e]):this.attrHL[e]=1,e},onBeforeUnload:function(){this.unloadInProgress=!0,this.net.socketClose()},onPageHide:function(){F("di_tab_active",0),this.net.socketClose(),this.canCollect()&&this.endColl(!0,!0)},onPageShow:function(e){this.unloadInProgress=!1,e.persisted&&this.trackPageView(null,null,!0)},getAttributeSelector:function(e){var t;return Q(e)?(t=K(e),G(e.id)?"#"+e.id:li(e.parentNode,this.indexElementsCounter)+" > "+t+(e=>{for(var t,i=k.attributionCriteria.split(","),r="",s=2;s<i.length&&(i[s]===m.href&&e.hasAttribute(m.href)&&J(e)?r='[href="'+W(e)+'"]':i[s]===m.name&&e.hasAttribute(m.name)?r='[name="'+E(e,m.name)+'"]':i[s]!==m.value||f(E(e,m.value))?i[s]!==m.text||f(t=T.getText(e).trim())||(r="|"+t):r='[value="'+E(e,m.value)+'"]',""===r);s++);return r})(e)):""},getNavType:function(){var e=p(l.performance)&&p(l.performance.navigation)?"&navtype="+l.performance.navigation.type:"&navtype=0";return this.navSent?e="&navtype=3":this.navSent=!0,e},setPageCounter:function(){var e;c.hasStor&&(this.pC=1,f(e=D("di_page_counter"))||(this.pC+=+e),F("di_page_counter",this.pC))},sendSamplingStatus:function(e,t){e=this.getSamplingStatus(!1,e,t);e&&this.postInfo("samplingStatus",e,{imp:!0})},getSamplingForProcessor:function(e){e=this.dataColl[e+"Lead"]||this.dataColl[e+"Session"];return e=(e=e===P.FORCED_IN_SERVER?P.FORCED_IN:e)===P.FORCED_OUT_SERVER?P.FORCED_OUT:e},getSamplingStatus:function(e,t,i){var i=(i||{}).experience||this.getSamplingForProcessor("experience"),r=this.getSamplingForProcessor("analysis"),s=this.getSamplingForProcessor("replay"),n=i+"|"+r+"|"+s,o="";return e?(this.curSamplingStatus=n,o="&experienceDataStatus="+i+"&analysisDataStatusSession="+r+"&replayDataStatus="+s):n!==this.curSamplingStatus?(this.curSamplingStatus=n,o={experienceDataStatus:i,analysisDataStatusSession:r,replayDataStatus:s}):t&&0<this.dataColl.analysisPage&&(o={experienceDataStatus:i,analysisDataStatusSession:r,replayDataStatus:s,analysisDataStatusPage:this.dataColl.analysisPage}),o},pageData:function(){this.setPageCounter();var e=this.getSamplingStatus(!0),e="lid="+this.leadId+"&uid="+k.userId+"&pc="+this.pC+"&tc="+this.tId+"&thash="+this.tHash+"&uhash="+di(location.href)+"&lan="+this.lan+"&srw="+this.sResW+"&srh="+this.sResH+"&vpw="+this.interactionModule.vpW+"&vph="+this.interactionModule.vpH+this.getNavType()+(D("_da_from_native")?"&fromNative=1":"")+(this.jS?"":"&ub=1")+(k.noHTML?"&nh=1":"")+"&ptax="+Oe(k.pageTaxonomy)+"&pr="+Oe(k.pageRole)+"&pt="+Oe(this.pTitle)+"&ref="+Oe(this.refUsed||this.ref.split("/")[2]===o.host?"":this.ref)+"&pu="+Oe(Hi(this.pageUrl.url))+(this.pageGroups&&this.pageGroups.length?"&pgroups="+JSON.stringify(this.pageGroups):"")+"&qu="+Oe(Hi(this.getPagePart("query",k.ignoreQueryRegex)))+"&fr="+Oe(Hi(this.getPagePart("hash",k.ignoreFragmentRegex)))+e+"&tz="+this.tZ+"&v="+c.ver+"&cv="+k.configVersion+"&cjs="+k.jsVersion+"&htmlVersion="+(this.remoteStorage?"HJSON":"DJSON")+"&bot="+ti(this.botDetected);return this.refUsed=1,e},postInfo:function(e,t,i){this.net.postInfo(e,t,i)},postApi:function(e,t){var i=I();(b(this.apiCT[e])||3e3<i-this.apiCT[e])&&(t||this.jCur.jE.push(e),this.postInfo("apicall",{api:e}),this.apiCT[e]=i)},clearTimer:function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];clearInterval(this[r]),this[r]=null}},canCollectResource:function(){return this.hasFeature(R.RESOURCE_PROXY)&&!this.remoteStorage},getAccountId:function(){return this.aId},getPropertyId:function(){return this.wId},getPageViewId:function(){return this.pvId},getInteractionModuleField:function(e){return void 0!==this.interactionModule[e]?this.interactionModule[e]:null},setInteractionModuleField:function(e,t){void 0!==this.interactionModule[e]&&(this.interactionModule[e]=t)},addDataLayerRuleListenersForTargetsIn:function(e){this.dataLayerRulesModule.addListenersForTargetsIn(e)},setHtmlResSelector:function(e,t){this.resourceModule.setHtmlResSelector(e,t)},trackCanvas:function(e){this.resourceModule.trackCanvas(e)},activateDXAWidget:function(){Os.activateDXAWidget()},activateHeatmap:function(e){return Os.activateHeatmap(e)},Sizzle:nr,DISearch:T,addEvent:d,ajax:Tr.execute,closest:xe,extend:Fe,forIn:we,getAttribute:E,getCookie:Jt,getDIDOMId:zt,getLS:Zt,getNodeName:K,getQualifiedSelector:li,getSS:D,getSiblings:Li,triggerEvent:ki,getEventKeys:Kt,getStyle:Y,getXPath:zt,handleException:A.processError,handleProcessedException:A.processErrorString,hash:di,hasKey:De,height:gi,inArray:vi,isArray:Ae,isDIDOM:function(){return!0},isDomainValid:Ei,isEmpty:f,isEmptyObject:bi,isFunction:h,isNode:Q,isNumber:Pe,isObject:p,isObjectNoProp:bi,isObjectWithProp:Ci,isString:X,isUndefined:b,offset:si,parents:xe,proxy:w,ready:fi,scrollLeft:Pi,scrollTop:Ni,setLS:Mi,setSS:F,siblings:Li,stringify:ai,tabReady:fi,trim:Ne,trimnlb:Vi,version:function(){var e=c.ver;return c.branch&&"MASTER"!==c.branch&&(e+="-"+c.branch),e},visible:function(e){return e.nodeName===y.document||$(e)&&"hidden"!==Y(e,"visibility")&&"0px"!==Y(e,"height").trim()&&"0px"!==Y(e,"width").trim()&&0!=+Y(e,"opacity")},warn:a,width:function(e){return mi(e).width}};(Tn.prototype=Rn).indexItems=Ui(Tn.prototype._indexItems,500),Tn.prototype.sendCookieFlagsThrottled=Ui(Tn.prototype.sendCookieFlags,500,!0),Tn.prototype.checkDocSize=Ui(Tn.prototype._checkDocSize,5e3),Tn.prototype.indexScrollableThrottled=Ui(Tn.prototype.indexScrollable,1e3);let In=Tn;var _n,xn=function(e,o,a,l){return new(a=a||Promise)(function(i,t){function r(e){try{n(l.next(e))}catch(e){t(e)}}function s(e){try{n(l.throw(e))}catch(e){t(e)}}function n(e){var t;e.done?i(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,s)}n((l=l.apply(e,o||[])).next())})},kn=function(r,s){var n,o,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))l.label=t[1];else if(6===t[0]&&l.label<a[1])l.label=a[1],a=t;else{if(!(a&&l.label<a[2])){a[2]&&l.ops.pop(),l.trys.pop();continue}l.label=a[2],l.ops.push(t)}}t=s.call(r,l)}catch(e){t=[6,e],o=0}finally{n=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function On(){xn(this,void 0,void 0,function(){var r,t;return kn(this,function(e){switch(e.label){case 0:return(r=!1,l[l.DecibelInsight+"_initiated"])?(l[l.DecibelInsight].activateHeatmap||(l[l.DecibelInsight].activateHeatmap=Os.activateHeatmap,l[l.DecibelInsight].activateDXAWidget=Os.activateDXAWidget),[2]):(l[l.DecibelInsight+"_initiated"]=!0,[4,cr.init()]);case 1:return e.sent(),f(k.sessionId_e)?!f(k.config)&&p(k.config)?(k.cleanup(k.config),delete k.config,(new In).start()):f(k.websiteId)||f(k.accountNumber)||(t=function(){function e(e){r&&(c.cdn=$t(c.cdn),F("di_alt_cdn",1)),Ci(e=Ai(e))&&(k.cleanup(e),(new In).start(),k.jsVersion!==k.configVersion)&&a("DXA warning: Configuration version mismatch")}var t=Xi.getHeaderForConfig(),i=Qt(t);Tr.execute(i,{extraHeader:t},e,function(){0===c.cdn.indexOf("cdn.")&&(i=$t(i),r=!0,Tr.execute(i,{extraHeader:t},e))})},new wr("CrossFrameSession").checkParent(t)):(new In).start(),[2]}})})}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");1<arguments.length&&(i=t);for(var n=0;n<s;){var o;n in r&&De(r,n)&&(o=r[n],e.call(i,o,n,r)),n++}}),c.evtKeyCodes=(_n={f0:{str:"",keys:[8,9,13,33,34,35,36,37,38,39,40,116]},f2:{str:"c",keys:[65,67,68,70,76,80,82,83,86,88,90,116]},f4:{str:"s",keys:[8]},f6:{str:"cs",keys:[82]},f8:{str:"a",keys:[]}},(c.isMac?_n.f2:_n.f8).keys.push(37,39),_n),Fe(k,q),l.DecibelInsight=l.DecibelInsight||"decibelInsight",l[l.DecibelInsight+"_script"]=u.currentScript,function e(){-1!==u.readyState.indexOf("in")?setTimeout(e,9):On()}()})();